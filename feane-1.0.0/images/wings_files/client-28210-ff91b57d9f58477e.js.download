"use strict";(self.webpackChunkFusion=self.webpackChunkFusion||[]).push([[28210],{39793:(e,t,i)=>{i.d(t,{Z:()=>h});var r=i(46933),o=i(91931),n=i(6917),a=i(54572),s=i(88522),l=i("__fusion__690"),c=i("__fusion__700"),d=i(59924);const u=(0,o.zo)("h2",(e=>{let{$theme:t}=e;return{...t.typography.HeadingSmall,marginBottom:t.sizing.scale600}})),g=(0,o.zo)("div",(e=>{let{$theme:t}=e;return{margin:`${t.sizing.scale800} 0 ${t.sizing.scale850} 0`}})),p=(0,o.zo)("div",{height:"24px",width:"24px",paddingLeft:"16px",flexShrink:0}),m=e=>{let{$expanded:t}=e;return(0,d.tZ)(p,{children:t?(0,d.tZ)(c.default,{size:24}):(0,d.tZ)(l.default,{size:24})})},h=e=>{let{qa:t,metaJson:i}=e;const[,l]=(0,o.hQ)();return t.length?(0,d.BX)(g,{children:[(0,d.tZ)(u,{children:(0,d.tZ)(r.v,{id:"shared.faq"})}),(0,d.tZ)(a.Z,{accordion:!1,renderAll:!0,overrides:{ToggleIcon:{component:m}},children:t.map(((e,t)=>{let{questionFormat:i,answerFormat:r}=e;return(0,d.tZ)(s.Z,{title:(0,d.tZ)(n.Z,{styleMode:"desktop",format:i,overrideStyles:l.typography.LabelMedium}),children:(0,d.tZ)(n.Z,{format:r,styleMode:"desktop"})},t)}))}),(0,d.tZ)("script",{type:"application/ld+json",dangerouslySetInnerHTML:{__html:i}})]}):null}},10080:(e,t,i)=>{i.d(t,{Z:()=>F});var r=i(99955),o=i(69420),n=i(91931),a=i(46933),s=i(53683),l=i(40606),c=i(34567),d=i(93801),u=i(138),g=i(1795),p=i(83960),m=i(94813),h=i(47986),Z=i(52298),S=i(65532),y=i(95747),f=i(59924);const U=(0,n.zo)("h1",(e=>{let{$theme:t}=e;return t.typography.HeadingLarge})),v=(0,n.zo)("div",(e=>{let{$theme:t}=e;return t.typography.ParagraphMedium})),C=e=>{let{newStore:t,cartStore:i,handleStartNewOrder:r}=e;const o=(0,m.TH)(),n=(0,h.gfM)(o,(0,h.Btk)(t)),s=(0,h.gfM)(o,(0,h.Btk)(i)),l=(0,y.Z)();return(0,f.BX)(f.HY,{children:[(0,f.tZ)(U,{children:(0,f.tZ)(a.v,{id:"go.cancel_this_order"})}),(0,f.tZ)(Z.ZP,{$height:24}),(0,f.tZ)(v,{children:(0,f.tZ)(a.v,{id:"go.cancel_this_order_description",data:{currentStoreName:i.title,newStoreName:t.title}})}),(0,f.tZ)(Z.ZP,{$height:24}),(0,f.tZ)(c.Z,{onClick:()=>l(s),children:(0,f.tZ)(a.v,{id:"go.keep_order"})}),(0,f.tZ)(Z.ZP,{$height:16}),(0,f.tZ)(S.Z,{onGroupOrderCancelled:()=>{l(n),r()}})]})};var w=i("__fusion__476"),b=i(53308),_=i(87696),I=i(22787),R=i(89730),k=i(21410),T=i(92431),O=i(23017);const x=(0,n.zo)("h1",(e=>{let{$theme:t}=e;return t.typography.HeadingLarge})),$=(0,n.zo)("div",(e=>{let{$theme:t}=e;return t.typography.ParagraphMedium})),P=e=>{let{newStore:t,cartStore:i,handleStartNewOrder:r}=e;const[o,n]=(0,R.Z)("removeMemberFromDraftOrderV1"),s=(0,b.I0)(),l=(0,m.TH)(),d=(0,h.gfM)(l,(0,h.Btk)(t)),u=(0,h.gfM)(l,(0,h.Btk)(i)),g=(0,y.Z)(),p=(0,T.Z)(),S=(0,_.Ah)(p),{leaveGroupOrderTitleCopy:U}=(0,O.Z)();return w.useEffect((()=>{o.hasLoaded&&(s((0,k.B9)()),g(d),r())}),[s,g,r,o.hasLoaded,d]),(0,f.BX)(f.HY,{children:[(0,f.tZ)(x,{children:U}),(0,f.tZ)(Z.ZP,{$height:24}),(0,f.tZ)($,{children:(0,f.tZ)(a.v,{id:"go.leave_group_order_new_individual_order_description"})}),(0,f.tZ)(Z.ZP,{$height:24}),(0,f.tZ)(c.Z,{disabled:o.isLoading,onClick:()=>n({draftOrderUuid:S}),children:(0,f.tZ)(a.v,{id:"go.create_new_order"})}),(0,f.tZ)(Z.ZP,{$height:16}),(0,f.tZ)(I.Z,{onClick:()=>g(u),children:(0,f.tZ)(a.v,{id:"shared.goBack"})})]})};var z=i(70247),E=i(64388),A=i(86255),D=i(98976);const G=(0,n.zo)("div",{boxSizing:"border-box",display:"flex",flexDirection:"column"}),M=(0,n.zo)("div",(e=>{let{$theme:t}=e;return{...t.typography.DisplayXSmall,paddingBottom:"16px"}})),B=(0,n.zo)("div",(e=>{let{$theme:t}=e;return t.typography.ParagraphMedium})),L=(0,n.w1)(c.Z,{marginTop:"24px"}),F=e=>{const t=(0,o.UO)(),{hasGroupOrder:i,isDraftOrderCreator:n}=(0,p.Z)(),{serverCart:c}=(0,z.iQ)(),m=(0,r.Z)(),h=(0,A.Z)({encodedStoreUuid:t.encodedStoreUuid}),{store:Z}=(0,E.ZP)(c.data?.storeUuid),{store:S}=(0,E.ZP)(e.canonicalItemStoreUuid??m?.storeUuid??h);return(0,f.tZ)(s.ZP,{backLocation:e.backLocation,children:(0,f.tZ)(s.HF,{children:(0,f.tZ)(G,{children:e.hasErrors?(0,f.tZ)(u.Z,{}):(0,f.tZ)(l.Z,{source:(0,D.FP)(S,Z),loaded:t=>{let[r,o]=t;return i?n?(0,f.tZ)(C,{handleStartNewOrder:e.handleStartNewOrder,newStore:r,cartStore:o}):(0,f.tZ)(P,{handleStartNewOrder:e.handleStartNewOrder,newStore:r,cartStore:o}):(0,f.BX)(f.HY,{children:[(0,f.tZ)(M,{$as:"h1",children:(0,f.tZ)(a.v,{id:"shared.createNewOrder"})}),(0,f.tZ)(B,{children:(0,f.tZ)(a.v,{id:"shared.createNewOrderExplanation",data:{currentStoreName:o.title,newStoreName:r.title}})}),(0,f.tZ)(L,{onClick:e.handleStartNewOrder,children:(0,f.tZ)(a.v,{id:"shared.newOrder"})})]})},error:e=>{let{code:t}=e;return(0,f.tZ)(d.Qv,{code:t})},loading:()=>(0,f.tZ)(g.Z,{})})})})})}},50551:(e,t,i)=>{i.d(t,{Z:()=>a});var r=i(75514),o=i("__fusion__476"),n=i(59924);const a=e=>{let{children:t}=e;return o.useEffect((()=>{r.Z&&r.Z.scroll(0,0)}),[]),(0,n.tZ)(n.HY,{children:t})}},31170:(e,t,i)=>{i.d(t,{Z:()=>p});var r=i(52298),o=i(52692),n=i(8759),a=i(82589),s=i(44702),l=i(21866),c=i(32762),d=i(74057),u=i(77491),g=i(59924);const p=e=>{let{placementType:t,storeUuid:i,as:p=n.Z}=e;const{isExploreMoreStoresM1Enabled:m}=(0,a.Z)(),h=(0,s.c)(),{bottomSheet:Z,storeStatus:S}=h,{desktopFeatures:y}=(0,c.Z)(),{deliveryLocation:f}=(0,d.Z)(i),{isClosedStoreHandlingXpEnabled:U}=(0,u.Z)();if("bottom"===t&&!m)return null;const v=h[t];if(!v)return null;const C=v.adsExperimentalStorePayload?.parent;if(!C||"REGULAR_CAROUSEL"!==C.template)return null;const w=(v.adsExperimentalStorePayload?.children||[]).filter((e=>"REGULAR_STORE"===e.template));return"top"===t&&U&&Z&&"STORE_CLOSED"===S&&f?null:(0,g.BX)(p,{children:["top"===t&&!y.moveTopExploreMoreStoresToCatalog||"bottom"===t&&y.hasStickyVerticalMenuNav?(0,g.tZ)(r.ZP,{$height:16}):null,(0,g.tZ)(l.Z,{canvasParent:C,canvasChildren:w,numGridItemsPerRow:y.moveTopExploreMoreStoresToCatalog&&"top"===t?3:4,storeUuid:i,catalogIndex:"top"===t?0:-1}),"top"!==t||y.moveTopExploreMoreStoresToCatalog?null:(0,g.tZ)(o.Z,{$margin:"16px 0px 0px 0px",$height:"4px",$color:"backgroundSecondary"})]})}},87678:(e,t,i)=>{i.d(t,{A8:()=>l,AR:()=>c,ZP:()=>g,hm:()=>d});var r=i(91931),o=i(97415),n=i(94579),a=i(67206),s=i(59924);const l=(0,r.zo)("div",{display:"flex",flexDirection:"column",marginTop:"24px",position:"relative"}),c=(0,r.zo)("div",(e=>{let{$theme:t,$stopAnimation:i}=e;return{...(0,a.Z)({$theme:t,$stopAnimation:i}),backgroundSize:"100vw 100%",bottom:0,left:0,position:"absolute",right:0,top:0,zIndex:n.I_.background}})),d=(0,r.zo)("div",{display:"flex",flexDirection:"row",height:"236px",justifyContent:"space-between"}),u=(0,r.zo)("div",{display:"flex",flexDirection:"column",flexGrow:1,height:"100%",width:"100%"}),g=()=>(0,s.BX)(u,{children:[(0,s.tZ)(o.Mg,{$width:"100%",$height:"188px"}),(0,s.tZ)(o.CB,{$width:"100%",$height:"8px"}),(0,s.tZ)(o.gD,{width:"64%",height:"20px"}),(0,s.tZ)(o.CB,{$width:"100%",$height:"8px"}),(0,s.tZ)(o.gD,{width:"29%",height:"12px"})]})},35938:(e,t,i)=>{i.d(t,{Z:()=>u});var r=i(74369),o=i(97415),n=i(22250),a=i(3289),s=i(25750),l=i(32762),c=i(87678),d=i(59924);const u=e=>{let{showTitle:t=!0,stopAnimation:i=!1}=e;const{windowWidth:u}=(0,n.Z)(),{desktopFeatures:g}=(0,l.Z)(),p=g.overwriteHorizontalGridColumns?g.horizontalGridColumns:u<a.US?a.RO:a.nB;return(0,d.BX)(c.A8,{children:[(0,d.tZ)(c.AR,{$stopAnimation:i}),t?(0,d.BX)(d.HY,{children:[(0,d.tZ)(o.gD,{width:"32%",height:"24px"}),(0,d.tZ)(o.CB,{$grow:!0,$height:"16px"})]}):null,[...Array(3)].map(((e,t)=>(0,d.BX)(r.Fragment,{children:[(0,d.tZ)(c.hm,{children:(0,d.tZ)(s.Z,{separator:()=>(0,d.tZ)(o.CB,{$grow:!0,$width:"24px"}),children:[...Array(p)].map(((e,t)=>(0,d.tZ)(c.ZP,{},t)))})}),(0,d.tZ)(o.CB,{$grow:!0,$height:"24px"})]},t)))]})}},28210:(e,t,i)=>{i.d(t,{fF:()=>lt,ZP:()=>Zt});var r=i(74369),o=i("__fusion__476"),n=i(60849),a=i(53614),s=i(91931),l=i(15070),c=i(99462),d=i(40606),u=i(93801),g=i(69420),p=i(10080),m=i(15008),h=i(47986),Z=i(17222),S=i(94813),y=i(18808),f=i(25750),U=i(36278),v=i(14016),C=i(20395),w=i(33535),b=i(78378),_=i(57578),I=i(75618),R=i(3289),k=i(59924);const T=(0,s.zo)("ol",(e=>{let{$theme:t}=e;return{display:"flex",alignItems:"center",padding:"24px 0 0 0",overflow:"auto",whiteSpace:"nowrap",color:t.colors.contentStateDisabled}})),O=(0,s.zo)("li",(e=>{let{$theme:t}=e;return{...t.typography.LabelSmall,display:"inline",":last-child":{color:t.colors.contentPrimary}}})),x=e=>{let{storeUuid:t,activeSectionUuid:i,activeCatalogSection:o,catalogSectionsMap:n}=e;const a=(0,S.TH)(),s=(0,g.UO)(),l=(0,h.WxO)(s),c=(0,v.T)(),{storeCatalogSections:d,storeCatalogSubsections:u,storeCatalogSectionTypes:p}=(0,h.RAN)(a,["storeCatalogSections","storeCatalogSubsections","storeCatalogSectionTypes"]),m=(0,h.gfM)(a,{...l,persistentQueryParams:R.GZ}),{catalogSubsections:x}=(0,b.Z)({storeUuid:t,sectionUuid:d,subsectionUuid:u,sectionType:p}),$=(0,r.useRef)(null),P=(0,r.useRef)(null);(0,C.Z)({ref:$,key:d}),(0,C.Z)({ref:P,key:u});const z=(0,w.ZP)();if(!d||!o)return null;if(!(o.payload?.type===I.p.standardItemsPayload?o.payload.standardItemsPayload:null))return null;const E=(0,_.ex)(o),A=(0,h.v4Q)(E?.ctaUri||""),D=x.find((e=>!u||e.catalogSectionUUID===u)),G=D?.payload?.type===I.p.standardItemsPayload?D.payload.standardItemsPayload:null,M=x[0]?.catalogSectionUUID||"",B=(0,h.RKz)(a,{...l,sectionUuid:i,subsectionUuid:A.search?.sectionUUID||o.catalogSectionUUID,persistentQueryParams:R.GZ},{catalogSectionUuids:[d],catalogSubsectionUuids:[M],...A.search?.sectionType?{catalogSectionTypes:[A.search.sectionType]}:{},...A.search?.sectionUUID?{catalogSectionUuids:[A.search.sectionUUID]}:{},...A.search?.subsectionUUID?{catalogSubsectionUuids:[A.search.subsectionUUID]}:{}}),L=(0,_.E0)(o)||"",F=()=>{z("eats:store_all_items_breadcrumb_tap",{storeCatalog:{storeUuid:t,...o.catalogSectionUUID?{sectionUuid:o.catalogSectionUUID}:null}})},N=[{title:c("store.all_items"),href:m,onClick:F},{title:L,...B?{href:B,onClick:F}:null},...G?[{title:G.title?.text||""}]:[]];return(0,k.tZ)(k.HY,{children:(0,k.tZ)(T,{ref:P,children:(0,k.tZ)(f.Z,{separator:()=>(0,k.BX)(k.HY,{children:[(0,k.tZ)(U.ZP,{$width:"4px"}),(0,k.tZ)(y.Z,{size:20,rotate:180}),(0,k.tZ)(U.ZP,{$width:"4px"})]}),children:N.map(((e,t)=>(0,k.tZ)(O,{children:e.href?(0,k.tZ)(Z.rU,{to:e.href,...e.onClick?{onClick:e.onClick}:null,children:e.title}):(0,k.tZ)("span",{children:e.title})},e.title)))})})})};var $=i(35938),P=i(76449),z=i(26110),E=i(45481),A=i(84998),D=i(41866),G=i(91490),M=i(71457),B=i(42751),L=i(73448),F=i(87444),N=i(50551),H=i(56065),q=i(36899);const X=e=>{let{shouldResetActiveSubsectionUuid:t}=e;const i=(0,S.TH)(),{resetActiveSubsectionUuid:r,smoothScrollToSubsection:n}=(0,H._J)(),{initialCatalogSectionUuid:a}=i.state||{};return o.useEffect((()=>{a&&(0,q.Z)((()=>n(a)))}),[a,n]),o.useEffect((()=>{t&&r()}),[t,r]),null};var V=i(41117),Y=i(8961),Q=i(20115),W=i(79250),j=i(24045),J=i(8184),K=i(52298),ee=i(66931),te=i(48559),ie=i(82481),re=i(52431),oe=i(16108),ne=i(70401);const ae=(0,s.zo)("div",(e=>{let{$theme:t}=e;return{padding:t.sizing.scale600,...t.borders.border300,borderRadius:t.borders.radius300,minHeight:"100px",height:`calc(100% - ${t.sizing.scale950})`}})),se=(0,s.zo)("div",(e=>{let{$theme:t}=e;return{...t.typography.ParagraphSmall,color:t.colors.contentSecondary}})),le=(0,s.zo)("span",(e=>{let{$theme:t}=e;return{...t.typography.LabelSmall}})),ce=(0,s.zo)("div",(e=>{let{$theme:t}=e;return{display:"flex",alignItems:"center"}})),de=(0,s.zo)("div",(e=>{let{$theme:t}=e;return{...t.typography.ParagraphSmall,color:t.colors.contentTertiary,paddingTop:t.sizing.scale100}})),ue=(0,s.zo)("div",(e=>{let{$theme:t}=e;return{marginLeft:t.sizing.scale300}})),ge=e=>{let{storeReviews:t=[],storeUuid:i}=e;const n=(0,v.T)(),{isCarouselTreatment:a,title:s,subtitle:l,treatment:c}=(0,j.Z)(t.length),{scrollToDesktopRef:d}=(0,r.useContext)(te.ru),u=(0,w.ZP)(),[g,p]=o.useState(0),[m,h]=(0,oe.Z)({root:null}),[Z,S]=o.useState(),y=t.length,f=o.useCallback((e=>{m(e);const t=(0,re.M)(e).top;S(t),y>0&&u("eats:store_reviews_carousel_render",{numberOfReviews:y,storeUuid:i,topOffset:t,treatmentName:c})}),[u,y,m,i,c]);o.useEffect((()=>{h?.isIntersecting&&u("eats:store_reviews_carousel_impression",{numberOfReviews:y,storeUuid:i,topOffset:Z,treatmentName:c})}),[u,h?.isIntersecting,y,i,Z,c]);const U=(0,ne.Z)(o.useCallback((e=>{const t=e.target,r=Math.round((t.clientWidth+t.scrollLeft)/t.scrollWidth*100);u("eats:store_reviews_carousel_scroll",{numberOfReviews:y,scrollDepth:r,storeUuid:i,treatmentName:c,topOffset:Z}),p(r)}),[u,y,i,Z,c]),500),C=o.useMemo((()=>(0,_.A4)(t,90)),[t]);return a?(0,k.tZ)(ee.ZP,{ref:f,title:s,titleType:"h3",subtitle:l,slides:C,viewAllLocation:t.length>3?`#${ie.g}`:void 0,onClickTitle:()=>{u("eats:store_reviews_carousel_title_click",{numberOfReviews:y,scrollDepth:g,storeUuid:i,topOffset:Z,treatmentName:c})},onViewAllClick:e=>{u("eats:store_reviews_carousel_see_all_click",{numberOfReviews:y,scrollDepth:g,storeUuid:i,topOffset:Z,treatmentName:c}),e.preventDefault(),e.stopPropagation(),d(ie.g)},onPageChange:(e,t)=>{let{direction:r,current:o,total:n}=t;const a=Math.min(100,Math.round(o/n*100));u("eats:store_reviews_carousel_navigation_click",{numberOfReviews:y,scrollDepth:a,storeUuid:i,topOffset:Z,direction:r,treatmentName:c}),p(a),e.stopPropagation()},onScroll:U,viewAllTitle:n("component.store.see_all_reviews",{count:t.length}),renderSlide:(e,t)=>(0,k.BX)(ae,{onClick:()=>{u("eats:store_reviews_carousel_item_click",{storeUuid:i,storeReview:e,scrollDepth:g,topOffset:Z,treatmentName:c,itemPosition:t})},children:[(0,k.BX)(ce,{children:[(0,k.tZ)(J.Z,{name:e?.eaterName?.text||"",size:"scale1200",src:e.avatarUrl}),(0,k.BX)(ue,{children:[(0,k.tZ)(le,{children:e?.eaterName?.text}),(0,k.tZ)(de,{children:e.timeSinceReview})]})]}),(0,k.tZ)(K.su,{}),(0,k.tZ)(se,{children:e?.reviewText?.text})]}),pageSize:t.length>=3?3:2,margin:8}):null};var pe=i(65184),me=i(71110),he=i(64635),Ze=i(84173),Se=i(59210),ye=i(32857),fe=i(68065),Ue=i(46933),ve=i(62091),Ce=i(32762),we=i(45654),be=i(16034),_e=i(99378),Ie=i(74171),Re=i(39793),ke=i(63171),Te=i(88231),Oe=i(45359),xe=i(87763),$e=i(22395),Pe=i("__fusion__574"),ze=i(82093),Ee=i(70329);const Ae=(0,s.zo)("li",(e=>{let{$theme:t}=e;return{marginTop:t.sizing.scale800,":first-of-type":{marginTop:0}}})),De=(0,s.zo)("div",(e=>{let{$theme:t}=e;return{display:"flex",gap:"16px",padding:0,margin:0,justifyContent:"flex-start"}})),Ge=(0,s.zo)("article",(e=>{let{$theme:t}=e;return{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",boxSizing:"border-box",minWidth:"130px",width:"130px",height:"120px",color:t.colors.rewardsTier2,...t.borders.border200,borderRadius:t.borders.radius400}})),Me=(0,s.zo)("article",(e=>{let{$theme:t}=e;return{display:"flex",flexDirection:"column",justifyContent:"space-between",boxSizing:"border-box",height:"120px",...t.borders.border200,borderRadius:t.borders.radius400,padding:`${t.sizing.scale600} ${t.sizing.scale500}`}})),Be=(0,s.zo)("div",(e=>{let{$theme:t}=e;return{display:"flex",alignItems:"center",marginTop:t.sizing.scale100,color:t.colors.contentTertiary,...t.typography.ParagraphSmall,overflow:"hidden",whiteSpace:"nowrap"}})),Le=(0,s.zo)("span",(e=>{let{$truncate:t}=e;return t?{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"}:{}})),Fe=(0,s.zo)("div",(e=>{let{$theme:t}=e;return{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:t.sizing.scale600}})),Ne=(0,s.zo)("div",(e=>{let{$theme:t}=e;return{...t.typography.HeadingSmall,overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",color:t.colors.contentPrimary}})),He=e=>{let{storeUuid:t,featuredReviews:i,storeRating:o,showSeeMore:n}=e;const{scrollToDesktopRef:a}=(0,r.useContext)(te.ru),[s,l]=(0,oe.Z)({threshold:1}),c=(0,w.ZP)(),d=(0,r.useRef)(!1),u=(0,r.useMemo)((()=>(i||[]).map((e=>e.reviewText?.text?.length||0))),[i]),{colorScale:g}=(0,Ee.Z)();return(0,r.useEffect)((()=>{d.current||l?.isIntersecting&&(c("eats:store_rating_and_reviews_impression",{storeUuid:t,featuredReviewsLength:u,featuredReviewsLayout:"catalog-section"}),d.current=!0)}),[c,l?.isIntersecting,t,u]),i?.length&&o?(0,k.BX)(Ae,{ref:s,children:[(0,k.BX)(Fe,{children:[(0,k.tZ)(Ne,{children:(0,k.tZ)(Ue.v,{id:"component.store.rating_and_reviews.title"})}),n?(0,k.tZ)(ye.Z,{kind:fe.TO.secondary,shape:fe.X3.pill,size:fe.NO.compact,startEnhancer:()=>(0,k.tZ)(Pe.default,{size:16}),onClick:()=>{c("eats:store_rating_and_reviews_see_more_click",{storeUuid:t,featuredReviewsLayout:"catalog-section"}),a(ie.g)},overrides:{BaseButton:{style:e=>{let{$theme:t}=e;return{marginTop:t.sizing.scale200,marginBottom:t.sizing.scale200}}}},children:(0,k.tZ)(Ue.v,{id:"shared.seemore"})}):null]}),(0,k.BX)(De,{children:[(0,k.BX)(Ge,{children:[(0,k.tZ)(Se.Y9,{color:"contentPrimary",children:o.ratingValue.toFixed(1)}),(0,k.tZ)(ze.Z,{value:o.ratingValue,..."gray"===g?{color:"black"}:{}}),(0,k.tZ)(Se.lU,{color:"contentSecondary",children:(0,k.tZ)(Ue.v,{id:"component.store.reviews.subtitle.ratings",data:{count:o.reviewCount}})})]}),(0,k.tZ)(ke.Z,{gridColumns:3,gridMargins:0,gridGaps:0,gridGutters:16,behavior:Te.m6.fluid,overrides:{GridWrapper:{style:{width:"100%"}}},children:i.slice(0,3).map(((e,t)=>(0,k.tZ)(Oe.Z,{span:1,children:(0,k.BX)(Me,{children:[(0,k.BX)(xe.Z,{clamp:3,as:"p",typographyKey:"ParagraphSmall",colorKey:"contentPrimary",children:['"',e.reviewText?.text,'"']}),(0,k.BX)(Be,{children:[(0,k.tZ)(ze.Z,{value:5,size:12,color:"contentPrimary"}),(0,k.tZ)($e.Z,{typography:"ParagraphSmall"}),(0,k.tZ)(Le,{$truncate:!0,children:e.eaterName?.text}),(0,k.tZ)($e.Z,{typography:"ParagraphSmall"}),(0,k.tZ)(Le,{$truncate:!1,children:e.formattedDate})]})]})},t)))})]})]}):null};var qe=i(87401),Xe=i(31170),Ve=i(99849),Ye=i(29983),Qe=i(69565),We=i(34626),je=i(56291),Je=i(97415),Ke=i(22250),et=i(87678);const tt=e=>{let{stopAnimation:t=!1}=e;const{windowWidth:i}=(0,Ke.Z)(),o=i<R.US?R.RO:R.nB;return(0,k.BX)(et.A8,{children:[(0,k.tZ)(et.AR,{$stopAnimation:t}),[...Array(3)].map(((e,t)=>(0,k.BX)(r.Fragment,{children:[(0,k.tZ)(Je.gD,{width:"32%",height:"24px"}),(0,k.tZ)(Je.CB,{$grow:!0,$height:"16px"}),(0,k.tZ)(et.hm,{children:(0,k.tZ)(f.Z,{separator:()=>(0,k.tZ)(Je.CB,{$grow:!0,$width:"24px"}),children:[...Array(o)].map(((e,t)=>(0,k.tZ)(et.ZP,{},t)))})}),(0,k.tZ)(Je.CB,{$grow:!0,$height:"40px"})]},t)))]})},it=(0,s.zo)("ol",(e=>{let{$theme:t}=e;return{display:"flex",alignItems:"center",padding:`${t.sizing.scale800} 0 0 0`,overflow:"auto",whiteSpace:"nowrap",color:t.colors.contentStateDisabled}})),rt=(0,s.zo)("li",(e=>{let{$theme:t}=e;return{...t.typography.LabelSmall,display:"inline",":last-child":{color:t.colors.contentPrimary}}})),ot=(0,s.zo)("div",(e=>{let{$theme:t}=e;return{display:"flex",paddingLeft:t.sizing.scale100,paddingRight:t.sizing.scale100}})),nt=e=>{let{storeUuid:t,activeSectionUuid:i}=e;const o=(0,S.TH)(),n=(0,g.UO)(),a=(0,h.WxO)(n),s=(0,v.T)(),{storeCatalogSections:l,storeCatalogSubsections:c,storeCatalogSectionTypes:d}=(0,h.RAN)(o,["storeCatalogSections","storeCatalogSubsections","storeCatalogSectionTypes"]),u=(0,h.gfM)(o,{...a,persistentQueryParams:R.GZ}),{breadcrumbs:p}=(0,b.Z)({storeUuid:t,sectionUuid:l,subsectionUuid:c,sectionType:d}),m=(0,r.useRef)(null),U=(0,r.useRef)(null);(0,C.Z)({ref:m,key:l}),(0,C.Z)({ref:U,key:c});const _=(0,w.ZP)();if(!l)return null;const I=p.find((e=>e.uuid===l)),T=p.find((e=>e.uuid===c)),O=(0,h.RKz)(o,{...a,sectionUuid:i,subsectionUuid:I?.uuid,persistentQueryParams:R.GZ},{...I?.uuid?{catalogSectionUuids:[I?.uuid]}:null}),x=()=>{_("eats:store_all_items_breadcrumb_tap",{storeCatalog:{storeUuid:t,...I?{sectionUuid:I?.uuid}:null}})},$=[{title:s("store.all_items"),href:u,onClick:x},{title:I?.title,...O?{href:O,onClick:x}:null},{title:T?.title??s("store.all")}];return(0,k.tZ)(k.HY,{children:(0,k.tZ)(it,{ref:U,children:(0,k.tZ)(f.Z,{separator:()=>(0,k.tZ)(k.HY,{children:(0,k.tZ)(ot,{children:(0,k.tZ)(y.Z,{size:20,rotate:180})})}),children:$.map(((e,t)=>(0,k.tZ)(rt,{children:e.href?(0,k.tZ)(Z.rU,{to:e.href,...e.onClick?{onClick:e.onClick}:null,children:(0,k.tZ)("span",{children:e.title})}):(0,k.tZ)("span",{children:e.title})},t)))})})})};var at=i(75514),st=i(41063);const lt=(0,s.zo)("ul",(e=>{let{$inactive:t,$theme:i}=e;return{listStyle:"none",display:t?"none":"block",marginTop:i.sizing.scale600}})),ct=(0,s.zo)("li",(e=>{let{$theme:t}=e;return{marginTop:t.sizing.scale800,":first-of-type":{marginTop:t.sizing.scale800}}})),dt=(0,s.zo)("div",{width:"100%",height:"100%",minWidth:0}),ut=(0,s.zo)("div",(e=>{let{$theme:t}=e;return{marginTop:t.sizing.scale800,marginBottom:t.sizing.scale1000}})),gt=(0,s.zo)("div",{width:"100%",height:"100%",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",textAlign:"center"}),pt=e=>{const t=e?(0,_.FA)(e):null;switch(e?.type){case"AISLE_SHORTCUTS":return(0,_e.es)(e);case"BUNDLE_STORE":return 440;case"HORIZONTAL_GRID":if(t?.catalogSectionHeaderPayload?.type==V.D.sponsoredDisplayBannerHeaderPayload){const t=(0,_.Wo)(e),i=at.Z?.innerWidth?Math.ceil((at.Z.innerWidth-32)/1.7777777777777777):440;return t?i+168:"dynamic"}return 408;default:return"dynamic"}},mt=()=>{const e=(0,S.TH)(),t=(0,S.UO)(),{newOrderItem:i}=(0,l.v)((e=>e.quickAdd)),{storeUUID:r,sectionUUID:o,subsectionUUID:n,item:a,quantity:s}=i||{};return r&&o&&n&&a&&s?(0,k.tZ)(m.Z,{storeUUID:r,sectionUUID:o,subsectionUUID:n,item:a,quantity:s.integer,children:i=>(0,k.tZ)(p.Z,{handleStartNewOrder:()=>i({isStartingNewOrder:!0,eventSource:"quick_add"}),hasErrors:!1,backLocation:(0,h.gfM)(e,(0,h.WxO)(t))})}):null},ht=e=>{let{store:t,activeSectionUuid:l,isActive:p,catalogSections:m=[],activeCatalogSection:Z,isGrocery:y}=e;const f=(0,S.TH)(),U=(0,g.k6)(),{storeCatalogSections:v,storeCatalogSubsections:C,storeCatalogSectionTypes:w}=(0,h.RAN)(f,["storeCatalogSections","storeCatalogSubsections","storeCatalogSectionTypes"]),b=(0,F.Z)("store_virtual_list_grocery_aisle_view"),T=t.catalogSectionsMap,O=(0,r.useContext)(a.v),H=(0,Y.Z)()||O,{enabled:q,maxItems:V=20}=(0,Q.Z)("store_ssr_l1_config")||{},J=!y&&!H&&Boolean(q),[K,ee]=o.useState(null),[,te]=(0,s.hQ)(),ie=t?.navigationConfig?.tabs?.find((e=>"storeTabType"===e.typeV2?.type&&"ROUTINE_ITEMS"===e.typeV2?.storeTabType)),re=ie?.action?.url===v,oe=(0,h.gfM)(f,{storeUuid:t.uuid,storeSlug:t.slug}),ne=(0,we.Z)(),{desktopFeatures:ae}=(0,Ce.Z)(),{hasStoreInfoSection:se}=ae,le=(0,Ve.Z)(),{user:ce}=(0,We.Z)(),de=ce.data?.isLoggedIn,ue=(0,Ye.Z)(),ke=(0,n.ip)({...st.v.store_gr_enable_reviews_modal,defaultValue:!1})&&y,{catalogSections:Te,sortAndFilters:Oe,isFetchingMore:xe,lastPageHasError:$e,canFetchMore:Pe,refetch:ze,fetchMore:Ee,applyFilterByCatalogSubsection:Ae,currentPageOffset:De}=(0,A.ZP)({storeUuid:t.uuid,catalogSectionUuid:v,catalogSubsectionUuid:C,catalogSectionType:w,catalogSectionsMap:T,sortAndFilters:K,...v?{source:Qe.n.NV_L2_CATALOG}:null}),Ge=(0,je.Z)(t.uuid,t.catalogSectionPagingInfo?.offset||0),Me=Te.hasLoaded&&Boolean(Te.data),Be=(0,_.qY)([...m||[],...ue&&y?Ge.paginatedData:[]],v,T),{levelCatalogSectionAsPerPickedForYou:Le=[],emitPickedForYouSectionItemEvent:Fe}=(0,M.o)(Be),Ne=t.supportedDiningModes.some((e=>"SHIPMENT"===e.mode));(0,P.Z)(t.uuid,Le,t.isLost);const{startTiming:Je,endTiming:Ke}=(0,z.JQ)();o.useEffect((()=>{v&&Je({sectionUuid:v,subsectionUuid:C})}),[v,C,Je]),o.useEffect((()=>{if(Te.hasLoaded&&Te.data){const e=Ae(Te.data[v]||[])?.[0],i=e?.payload?.type===I.p.standardItemsPayload?e.payload.standardItemsPayload:null;Ke({storeUuid:t.uuid,sectionUuid:v,subsectionUuid:C,currentPageOffset:De-1,isSuccess:!0,catalogSectionAnalyticsData:i?.catalogSectionAnalyticsData})}else Te.error&&Ke({storeUuid:t.uuid,sectionUuid:v,subsectionUuid:C,currentPageOffset:De-1,isSuccess:!1})}),[Te.hasLoaded,Te.data,Te.error,Ke,t.uuid,v,C,De,Ae]),(0,W.E)(m);const et=$e,it=Te.isLoading,rt=o.useCallback((()=>(0,k.tZ)($.Z,{showTitle:it,stopAnimation:et})),[it,et]),ot=o.useCallback((()=>(0,k.tZ)(tt,{})),[]),{isCarouselTreatment:at}=(0,j.Z)(t.storeReviews.length),ht=t.storeReviews.length>0&&!v&&ae.hasNewReviewsLayout,Zt=!v&&t.seoMeta&&t.seoMeta.faqs&&ae.hasNewFaqSection,St=o.useMemo((()=>{if(v)return null;const e=(0,_.Tm)(Le,V),i=Le.map(((i,r)=>{const o=i.catalogSectionUUID,n=o?e[o]:0;return((e,t,i,r,o,n,a,s,l)=>{const d=o.catalogSectionUUID||"";return d||"EATER_MESSAGE"===o.type?"EATER_MESSAGE"===o.type&&o.payload?(0,k.tZ)(E.Z,{catalogSection:o.payload,feedIndex:e,isShipmentStore:n,isGrocery:r},"eaterMessage"):(0,k.tZ)(c.Z,{storeUuid:t.uuid,catalogSection:o,activeSectionUuid:i,isGrocery:r,isOpen:t.isOpen,emitPickedForYouSectionItemEvent:a,serverRenderLimitedItems:s,maxItemCount:l,catalogIndex:e,shouldVirtualizeOFDCatalogItems:t.shouldVirtualizeOFDCatalogItems,isLost:t.isLost},d):null})(r,t,l,y,i,Ne,Fe,J,n)}));let r;ht&&!se?r=(0,k.tZ)(He,{storeUuid:t.uuid,featuredReviews:t.featuredReviews,storeRating:t.rating,showSeeMore:!0},"featured-reviews-catalog-section"):at&&!se&&(r=(0,k.tZ)(ut,{children:(0,k.tZ)(ge,{storeReviews:t.storeReviews,storeUuid:t.uuid})},"reviews"));const o=Le.findIndex((e=>e?.catalogSectionUUID===R.GJ));return r&&(ht&&!se&&de&&o>-1?i.splice(o+1,0,r):"EATER_MESSAGE"===Le[0]?.type?i.splice(1,0,r):i.unshift(r)),ht&&!ke&&i.push((0,k.tZ)(Ie.Z,{storeUuid:t.uuid,storeReviews:t.storeReviews,storeRating:t.rating,as:"li"},"reviewsV2")),Zt&&i.push((0,k.tZ)(Re.Z,{qa:t.seoMeta?.faqs?.qa,metaJson:t.seoMeta?.faqs?.metaJson},"faq")),ae.moveTopExploreMoreStoresToCatalog&&i.unshift((0,k.tZ)(qe.Z,{children:(0,k.tZ)(Xe.Z,{placementType:"top",storeUuid:t.uuid,as:ct})},"explore-more-stores-top")),i}),[v,Le,V,t,l,y,Ne,Fe,J,at,se,ht,Zt,ae.moveTopExploreMoreStoresToCatalog,de,ke]);return l&&T?(0,k.tZ)(pe.Mv,{sortAndFilters:K??Oe??null,onChange:ee,children:(0,k.BX)(dt,{children:[(0,k.tZ)(g.rs,{children:(0,k.tZ)(g.AW,{exact:!0,path:"/:languageCountryPair?/store/:storeSlug/:encodedStoreUuid/:sectionUuid/start-new-quick-add-order",component:mt})}),ue?(0,k.tZ)(nt,{storeUuid:t.uuid,activeSectionUuid:l}):(0,k.tZ)(x,{storeUuid:t.uuid,activeSectionUuid:l,activeCatalogSection:Z,catalogSectionsMap:T}),v?(0,k.tZ)(N.Z,{children:(0,k.tZ)(d.Z,{source:Te,loaded:e=>{const r=Ae(e[v]||[]);if(0===r.length&&re)return(0,k.BX)(gt,{children:[(0,k.tZ)(ve.Z,{src:(0,me.pZ)(i(30688))}),(0,k.tZ)(he.ZP,{children:(0,k.tZ)(Ze.Z,{marginTop:te.sizing.scale600,styleLevel:6,children:(0,k.tZ)(Ue.v,{id:"storefront.empty_order_again.reordering_will_be_simple"})})}),(0,k.tZ)(Se.Yl,{marginTop:te.sizing.scale500,marginBottom:te.sizing.scale500,children:(0,k.tZ)(Ue.v,{id:"storefront.empty_order_again.your_items_will_show_up_here"})}),(0,k.tZ)(ye.Z,{onClick:()=>U.replace(oe),kind:fe.TO.primary,size:fe.NO.compact,shape:fe.X3.pill,children:(0,k.tZ)(Ue.v,{id:"storefront.empty_order_again.browse_items"})})]});const o=[],n=[];return r.forEach((e=>{"VERTICAL_GRID"!==e.type?e.catalogSectionUUID&&n.push(e):o.push(e)})),(0,k.BX)(k.HY,{children:[le?(0,k.BX)(lt,{$inactive:!p,children:[n.length>0?(0,k.tZ)(be.ZP,{catalogSectionsConfig:_e.zt,children:(0,k.tZ)(L.Z,{condition:Boolean(y),wrapper:e=>(0,k.tZ)(B.ZP,{overflow:"visible",calculateHeight:(e,t)=>pt(n[t]),children:e}),children:n.map(((e,i)=>(0,k.tZ)(c.Z,{storeUuid:t.uuid,catalogSection:e,isGrocery:y,isOpen:t.isOpen,emitPickedForYouSectionItemEvent:Fe,catalogIndex:i},`${e.catalogSectionUUID}-${i}`)))})}):null,o.map(((e,i)=>{const r=e.catalogSectionUUID;return(0,k.tZ)(c.Z,{storeUuid:t.uuid,catalogSection:e,isGrocery:y,isOpen:t.isOpen,emitPickedForYouSectionItemEvent:Fe,catalogIndex:i,shouldShowSortAndFilter:0===i},`${r}-${i}`)}))]}):(0,k.tZ)(lt,{$inactive:!p,children:(r||[]).map(((e,i)=>{const r=e.catalogSectionUUID;return r?(0,k.tZ)(c.Z,{storeUuid:t.uuid,catalogSection:e,isGrocery:y,isOpen:t.isOpen,emitPickedForYouSectionItemEvent:Fe,catalogIndex:i},`${r}-${i}`):null}))}),(0,k.tZ)(D.Z,{isFetchingMore:xe,canFetchMore:Pe,lastPageHasError:$e,refetch:ze,fetchMore:Ee,loading:rt,currentPageOffset:De})]})},error:e=>(0,k.tZ)(u.nQ,{code:parseInt(e?.code||"500")}),loading:rt})}):null,v?null:(0,k.BX)(k.HY,{children:[(0,k.tZ)(lt,{$inactive:!p,children:(0,k.tZ)(be.ZP,{catalogSectionsConfig:_e.zt,children:ne?(0,k.tZ)(_e.ZP,{isGrocery:y,catalogSections:Le,children:St}):(0,k.tZ)(k.HY,{children:(0,k.tZ)(L.Z,{condition:Boolean(y&&b),wrapper:e=>(0,k.tZ)(B.ZP,{overflow:"visible",calculateHeight:(e,t)=>pt(Le[t]),children:e}),children:St})})})}),ue&&y?(0,k.tZ)(G.Z,{loading:ot,storeInfiniteResponse:Ge}):null]}),(0,k.tZ)(X,{shouldResetActiveSubsectionUuid:Me})]})}):null};ht.displayName="StoreDesktopMenuSection";const Zt=ht},99462:(e,t,i)=>{i.d(t,{O:()=>j,Z:()=>te});var r=i(75514),o=i(74369),n=i("__fusion__476"),a=i(94813),s=i(91931),l=i(29217),c=i(50912),d=i(7978),u=i(4864),g=i(15070),p=i(70401),m=i(3289),h=i(6703),Z=i(21926),S=i(45631),y=i(87444),f=i(42751),U=i(47091),v=i(61304),C=i(21866),w=i(97392),b=i(57578),_=i(74475),I=i(74492),R=i(41561),k=i(56065),T=i(59924);const O=e=>{const{registerSubsectionRef:t}=(0,k._J)(),i=n.useCallback((i=>{const r=e.catalogSection.catalogSectionUUID;i&&r&&t(r,i)}),[e.catalogSection.catalogSectionUUID,t]);return(0,T.tZ)(_.Z,{ref:i,children:(0,T.tZ)(R.Z,{catalogSection:e.catalogSection})})};var x=i(80363),$=i(72326),P=i(47885),z=i(84272),E=i(65088),A=i(60849),D=i(41063),G=i(32762),M=i(85907),B=i(47986),L=i(75618),F=i(17019),N=i(14644);const H=n.memo((function(e){let{storeUuid:t,isGrocery:i,item:r,sectionUuid:o,subsectionUuid:s,catalogSectionUuid:l,catalogSectionAnalyticsData:d,spanCountMultiplier:u,emitPickedForYouSectionItemEvent:g,isOpen:p,quickAddSource:m,isVirtualized:h}=e;const Z=(0,a.TH)(),{primaryBundledStoreUuid:S,primaryDraftOrderUUID:y}=(0,z.Z)(),{isStoreOfdRedesignXpEnabled:f}=(0,G.Z)(),{quickAddDisabled:U,syncItemQuantity:C,quickAddCount:w,cartItemCount:b}=(0,N.FA)(),_=!f||i,I=!_,R=n.useMemo((()=>(0,B.f_e)(Z,{storeUuid:t,sectionUuid:o,subsectionUuid:s,itemUuid:r.uuid||"",showSeeDetailsCTA:!0,...S&&{primaryBundledStoreUuid:S,primaryDraftOrderUUID:y}},(0,M.F)(v.b.STOREFRONT),{referrerItem:"",referrerItemCatalog:""})),[Z,t,o,s,r.uuid,S,y]);return(0,T.tZ)(c.Z,{storeUuid:t,sectionUuid:o,subsectionUuid:s,catalogSectionUuid:l,item:r,catalogSectionType:"VERTICAL_GRID",catalogSectionAnalyticsData:d,emitPickedForYouSectionItemEvent:g,spanCountMultiplier:u,cartItemCount:b,syncItemQuantity:C,quickAddCount:w,quickAddDisabled:U,isOpen:p,showQuickViewEntryPoint:_,quickAddSource:m,surface:v.b.STOREFRONT,isGrocery:i,itemUrl:I?R:void 0,isVirtualized:h,isQuickView:I})}));function q(e){let{syncToCart:t,isInitialLoad:i,...r}=e;return(0,T.tZ)(N.ZP,{storeUuid:r.storeUuid,itemUuid:r.item.uuid||"",syncToCart:t,isInitialLoad:i,children:(0,T.tZ)(H,{...r})})}H.displayName="StoreDesktopCatalogItemList",q.displayName="StoreDesktopCatalogItemListSyncCart";const X=n.memo((function(e){let{storeUuid:t,isGrocery:i,item:r,sectionUuid:o,subsectionUuid:s,catalogSectionUuid:l,catalogSectionType:c,catalogSectionAnalyticsData:u,itemStyleMetadata:g,emitPickedForYouSectionItemEvent:p,isOpen:m,quickAddSource:h,slug:Z,isMultiSkuModal:S,refetchMultiSkuModalBanner:y,surface:f}=e;const U=(0,a.TH)(),{primaryBundledStoreUuid:C,primaryDraftOrderUUID:w}=(0,z.Z)(),{isStoreOfdRedesignXpEnabled:b}=(0,G.Z)(),{quickAddDisabled:_,syncItemQuantity:I,quickAddCount:R,cartItemCount:k,cartItemDecimalCount:O}=(0,N.FA)(),x=!b||i,$=!x,P=n.useMemo((()=>(0,B.f_e)(U,{storeUuid:t,sectionUuid:o,subsectionUuid:s,itemUuid:r.uuid||"",showSeeDetailsCTA:!0,...C&&{primaryBundledStoreUuid:C,primaryDraftOrderUUID:w}},(0,M.F)(v.b.STOREFRONT))),[U,t,o,s,r.uuid,C,w]);return(0,T.tZ)(d.Z,{storeUuid:t,sectionUuid:o,subsectionUuid:s,catalogSectionUuid:l,item:r,emitPickedForYouSectionItemEvent:p,cartItemCount:k,cartItemDecimalCount:O,syncItemQuantity:I,quickAddCount:R,quickAddDisabled:_,catalogSectionType:c,catalogSectionAnalyticsData:u,isOpen:m,showQuickViewEntryPoint:x,itemStyle:g,quickAddSource:h,surface:f??v.b.STOREFRONT,isGrocery:i,primaryBundledStoreUuid:C,itemUrl:$?P:void 0,slug:Z,isMultiSkuModal:S,refetchMultiSkuModalBanner:y,isQuickView:$})}));function V(e){let{syncToCart:t,isInitialLoad:i,...r}=e;return(0,T.tZ)(N.ZP,{storeUuid:r.storeUuid,itemUuid:r.item.uuid||"",syncToCart:t,isInitialLoad:i,children:(0,T.tZ)(X,{...r})})}X.displayName="StoreDesktopCatalogItemGrid",V.displayName="StoreDesktopCatalogItemGridSyncCart";var Y=i(13427);const Q=["REGULAR_STORE","STOREFRONT_OFFERS_CARD","STOREFRONT_OFFER_COMBO_CARD"],W=e=>{let{adCanvasPayload:t,storeUuid:i,catalogIndex:r,catalogSectionUuid:n}=e;const a=(0,y.Z)("boga_enabled"),{registerSubsectionRef:s}=(0,k._J)(),l=(0,o.useCallback)((e=>{e&&n&&s(n,e)}),[n,s]);if(!a)return null;const c=t?.adsExperimentalStorePayload?.parent;if(!c)return null;const d=c?.template||"",u=(t?.adsExperimentalStorePayload?.children||[]).filter((e=>Q.includes(e?.template||"")));switch(d){case"REGULAR_CAROUSEL":case"STOREFRONT_SECTION_HEADER":return(0,T.tZ)(_.Z,{ref:l,children:(0,T.tZ)(C.Z,{canvasParent:c,canvasChildren:u,numGridItemsPerRow:j,storeUuid:i,catalogIndex:r})});default:return null}},j=4,J=(0,s.zo)("ul",(e=>{let{$numColumns:t}=e;return{display:"grid",gridGap:"40px 24px",[U.k]:{display:"flex",flexWrap:"wrap",margin:"0 -12px"},gridTemplateColumns:`repeat(${t}, 1fr)`}})),K=(0,s.zo)("li",(e=>{let{$theme:t,$isStoreOfdRedesignPhase2XpEnabled:i}=e;return{marginTop:i?t.sizing.scale800:t.sizing.scale1200,":first-of-type":{marginTop:0}}})),ee=(0,s.w1)(l.ZP,(e=>{let{$theme:t,$usePaddingBottom:i=!1,$isVirtualized:r=!1,$isLastRow:o=!1}=e;return{gridGap:"24px",...r?{gridTemplateColumns:"repeat(4, 1fr)"}:{gridTemplateColumns:"repeat(2, 1fr)",[`@media screen and (min-width: ${m.US}px)`]:{gridTemplateColumns:"repeat(4, 1fr)"}},...i?{paddingBottom:t.sizing.scale800}:{marginBottom:o?0:t.sizing.scale800}}})),te=e=>{const{cartCountSummary:t,cartCountDecimalsSummary:i,cart:s,hasCartToLoad:l,hasCartChanged:U}=(0,u.F7)(e.storeUuid),R=(0,a.TH)(),[k,N]=(0,o.useState)(!0),{syncItems:H,quantities:X}=(0,g.v)((e=>e.quickAdd)),[Q,te]=(0,o.useState)(!0),ie=s.isLoading,re=s.hasLoaded,oe=e.catalogSection.payload,ne=e.catalogSection.type,ae=e.catalogSection.catalogSectionUUID||"",{emitPickedForYouSectionItemEvent:se}=e,le=oe?.type===L.p.standardItemsPayload?oe.standardItemsPayload:null,ce=le?.catalogSectionAnalyticsData,de=oe?.type===L.p.adCanvasPayload?oe.adCanvasPayload:null,ue=oe?.type===L.p.bundleStorePayload?oe.bundleStorePayload:null,ge=oe?.type===L.p.emptyStatePayload?oe.emptyStatePayload:null,pe=oe?.type===L.p.aisleShortcutItems?oe.aisleShortcutItems:null,me=n.useMemo((()=>{const t=le?.catalogItems||[];return e.serverRenderLimitedItems&&"number"==typeof e.maxItemCount?t.slice(0,e.maxItemCount):t}),[le,e.serverRenderLimitedItems,e.maxItemCount]),he=le?.spanCount,Ze=le?.itemStyleMetadata,[Se,ye]=n.useState(2),fe=(0,Z.Z)(),Ue=(0,y.Z)("store_virtual_list"),ve=Boolean(e.shouldVirtualizeOFDCatalogItems),Ce=(0,y.Z)("merchant_offers"),we=(0,y.Z)("store_pagination_empty_state"),{isStorePrecheckoutBundlingEnabled:be}=(0,P.Z)(),_e=(0,Y.Z)(),{isStoreOfdRedesignXpEnabled:Ie,isStoreOfdRedesignPhase2XpEnabled:Re,desktopFeatures:ke}=(0,G.Z)(),{primaryBundledStoreUuid:Te,primaryDraftOrderUUID:Oe}=(0,z.Z)(),xe=!Ie||e.isGrocery,$e=!xe,{storeCatalogSections:Pe}=(0,B.RAN)(R,["storeCatalogSections"]),ze=(0,o.useCallback)((t=>{let{sectionUuid:i,subsectionUuid:r,itemUuid:o}=t;return(0,B.f_e)(R,{storeUuid:e.storeUuid,sectionUuid:i,subsectionUuid:r,itemUuid:o,showSeeDetailsCTA:!0,...Te&&{primaryBundledStoreUuid:Te,primaryDraftOrderUUID:Oe}},(0,M.F)(v.b.STOREFRONT))}),[e.storeUuid,Te,Oe,R]),Ee=n.useCallback(((r,o)=>{const n=r.uuid,a=(0,b.Yx)({catalogItem:r,sectionUuid:e.activeSectionUuid,isGrocery:e.isGrocery,isMerchantOffersEnabled:Ce,catalogSectionUuid:ae}),s=!e.isGrocery&&Ce?ae:r.subsectionUuid;if(!n||!a||!s)return null;const l=t[n]??0,c=i[n]??null,u=k||H[n],g=X[n]??(0,h.bN)(),p=ze({sectionUuid:a,subsectionUuid:s,itemUuid:n});return ae&&ne?(0,T.tZ)(d.Z,{storeUuid:e.storeUuid,sectionUuid:a,subsectionUuid:s,catalogSectionUuid:ae,item:r,emitPickedForYouSectionItemEvent:se,cartItemCount:l,cartItemDecimalCount:c,syncItemQuantity:u,quickAddCount:g,quickAddDisabled:Q,catalogSectionType:ne,catalogSectionAnalyticsData:ce,isOpen:e.isOpen,showQuickViewEntryPoint:xe,itemStyle:Ze,quickAddSource:e.quickAddSource,isGrocery:e.isGrocery,primaryBundledStoreUuid:Te,itemUrl:$e?p:void 0},`${n}-${o}`):null}),[e.activeSectionUuid,e.isGrocery,e.storeUuid,e.isOpen,e.quickAddSource,Ce,ae,t,i,k,H,X,ne,se,Q,ce,Ze,Te,xe,$e,ze]);(0,o.useEffect)((()=>{fe&&U&&N(!0),s.error&&N(!0)}),[s.error,U,fe]),(0,o.useEffect)((()=>{(!ie&&re||!l)&&(N(!1),te(!1))}),[ie,re,l]);const Ae=n.useCallback(((t,i)=>{const r=(0,b.Yx)({catalogItem:t,sectionUuid:e.activeSectionUuid,isGrocery:e.isGrocery,isMerchantOffersEnabled:Ce,catalogSectionUuid:ae}),o=!e.isGrocery&&Ce?ae:t.subsectionUuid;return t.uuid&&r&&o&&ae&&ne?(0,T.tZ)(V,{storeUuid:e.storeUuid,isGrocery:e.isGrocery,item:t,sectionUuid:r,subsectionUuid:o,catalogSectionUuid:ae,catalogSectionType:ne,catalogSectionAnalyticsData:ce,itemStyleMetadata:Ze,emitPickedForYouSectionItemEvent:se,isOpen:e.isOpen,quickAddSource:e.quickAddSource,syncToCart:k,isInitialLoad:Q,surface:e.surface},`${t.uuid}-${i}`):null}),[e.storeUuid,e.isGrocery,ne,ce,Ze,e.isOpen,e.quickAddSource,ae,Ce,e.activeSectionUuid,se,k,Q,e.surface]),De=_e?Ae:Ee,{verticalGridGridItems:Ge,verticalGridListItems:Me}=n.useMemo((()=>{const e=me.filter((e=>"GRID"===e.displayType)),t=me.filter((e=>"LIST"===e.displayType));const i=e.length>0&&t.length>0;if(4===Se&&i){const i=e.length%4;if(0!==i){const r=e.splice(e.length-i);t.unshift(...r)}}return{verticalGridGridItems:e,verticalGridListItems:t}}),[me,Se]),Be=(0,o.useCallback)((()=>{if(ke.overwriteHorizontalGridColumns)return ye(ke.horizontalGridColumns);const t=r.Z?.innerWidth||0,i=he||2;if(e.shouldVirtualizeOFDCatalogItems)return ye(2*i);t<m.US?ye(i):ye(2*i)}),[he,ke.overwriteHorizontalGridColumns,ke.horizontalGridColumns,e.shouldVirtualizeOFDCatalogItems]),Le=(0,p.Z)(Be,300);(0,o.useEffect)((()=>{if(r.Z)return Be(),r.Z.addEventListener("resize",Le),()=>{r.Z&&r.Z.removeEventListener("resize",Le)}}),[Le,Be]);const Fe=n.useMemo((()=>e.isGrocery&&he?(0,S.Z)(me,Se>he?m.nB:m.RO):[]),[me,Se,he,e.isGrocery]),Ne=n.useMemo((()=>{if(e.isGrocery||!e.shouldVirtualizeOFDCatalogItems)return[];const t=e.shouldVirtualizeOFDCatalogItems?2:Se;return(0,S.Z)(Me,t)}),[e.isGrocery,Me,Se,e.shouldVirtualizeOFDCatalogItems]),He=n.useCallback(((r,o)=>{const n=r?.uuid,a=!e.isGrocery&&Ce?e.activeSectionUuid:r?.sectionUuid||e.activeSectionUuid,s=!e.isGrocery&&Ce?ae:r?.subsectionUuid||ae;if(!(r&&n&&a&&s))return null;const l=t[n]??0,c=i[n]??null,u=k||H[n],g=X[n]??(0,h.bN)(),p=ze({sectionUuid:a,subsectionUuid:s,itemUuid:n});return(0,T.tZ)(d.Z,{storeUuid:e.storeUuid,sectionUuid:a,subsectionUuid:s,catalogSectionUuid:ae,item:r,emitPickedForYouSectionItemEvent:se,cartItemCount:l,cartItemDecimalCount:c,syncItemQuantity:u,quickAddCount:g,quickAddDisabled:Q,catalogSectionType:"VERTICAL_GRID",catalogSectionAnalyticsData:ce,isOpen:e.isOpen,showQuickViewEntryPoint:xe,itemStyle:Ze,quickAddSource:e.quickAddSource,surface:v.b.STOREFRONT,isGrocery:e.isGrocery,primaryBundledStoreUuid:Te,itemUrl:$e?p:void 0,isQuickView:Boolean($e)},`${n}-${o}`)}),[i,t,ce,se,Q,Ce,Ze,e.isGrocery,e.isOpen,e.quickAddSource,e.activeSectionUuid,e.storeUuid,ae,X,H,k,Te,xe,$e,ze]),qe=n.useCallback(((t,i)=>{const r=t?.uuid,o=!e.isGrocery&&Ce?e.activeSectionUuid:t?.sectionUuid||e.activeSectionUuid,n=!e.isGrocery&&Ce?ae:t?.subsectionUuid||ae;return t&&r&&o&&n?(0,T.tZ)(V,{storeUuid:e.storeUuid,isGrocery:e.isGrocery,item:t,sectionUuid:o,subsectionUuid:n,catalogSectionUuid:ae,catalogSectionType:"VERTICAL_GRID",catalogSectionAnalyticsData:ce,itemStyleMetadata:Ze,emitPickedForYouSectionItemEvent:se,isOpen:e.isOpen,quickAddSource:e.quickAddSource,syncToCart:k,isInitialLoad:Q,slug:e.slug,isMultiSkuModal:e.isMultiSkuModal,refetchMultiSkuModalBanner:e.refetchMultiSkuModalBanner,surface:e.surface},`${r}-${i}`):null}),[ce,ae,se,e.activeSectionUuid,e.isOpen,e.quickAddSource,e.storeUuid,e.isGrocery,Ce,Ze,k,Q,e.slug,e.isMultiSkuModal,e.refetchMultiSkuModalBanner,e.surface]),Xe=_e?qe:He,Ve=n.useCallback(((i,r)=>{const o=i?.uuid,n=i?.sectionUuid||e.activeSectionUuid,a=i?.subsectionUuid||ae;if(!(i&&o&&n&&a))return null;const s=t[o]??0,l=k||H[o],d=X[o]??(0,h.bN)(),u=ze({sectionUuid:n,subsectionUuid:a,itemUuid:o});return(0,T.tZ)(c.Z,{storeUuid:e.storeUuid,sectionUuid:n,subsectionUuid:a,catalogSectionUuid:ae,item:i,catalogSectionType:"VERTICAL_GRID",catalogSectionAnalyticsData:ce,emitPickedForYouSectionItemEvent:se,spanCountMultiplier:4===Se?2:1,cartItemCount:s,syncItemQuantity:l,quickAddCount:d,quickAddDisabled:Q,isOpen:e.isOpen,showQuickViewEntryPoint:xe,quickAddSource:e.quickAddSource,surface:v.b.STOREFRONT,isGrocery:e.isGrocery,primaryBundledStoreUuid:Te,itemUrl:$e?u:void 0,isVirtualized:ve,isQuickView:$e},`${o}-${r}`)}),[e.activeSectionUuid,ae,e.storeUuid,e.isOpen,e.quickAddSource,e.isGrocery,t,k,H,X,ce,se,Se,Q,Te,xe,$e,ze,ve]),Ye=n.useCallback(((t,i)=>{const r=t?.uuid,o=t?.sectionUuid||e.activeSectionUuid,n=t?.subsectionUuid||ae;return t&&r&&o&&n?(0,T.tZ)(q,{storeUuid:e.storeUuid,isGrocery:e.isGrocery,item:t,sectionUuid:o,subsectionUuid:n,catalogSectionUuid:ae,catalogSectionAnalyticsData:ce,spanCountMultiplier:4===Se?2:1,emitPickedForYouSectionItemEvent:se,quickAddSource:e.quickAddSource,isOpen:e.isOpen,isVirtualized:ve,syncToCart:k,isInitialLoad:Q},`${r}-${i}`):null}),[ce,ae,se,e.activeSectionUuid,e.isOpen,e.quickAddSource,e.storeUuid,e.isGrocery,Se,ve,k,Q]),Qe=_e?Ye:Ve,We=n.useCallback(((t,i)=>e.isGrocery?316:280),[e.isGrocery]),je=n.useCallback(((e,t)=>125+(t===Ne.length-1?0:16)+24),[Ne]),Je=(0,A.ip)({...D.v.store_carousel_infinite_paginated_scroll,defaultValue:!1}),Ke=(0,o.useMemo)((()=>e.isGrocery?e=>{let{children:t}=e;return(0,T.tZ)(J,{$numColumns:Se>(he??m.RO)?m.nB:m.RO,children:t})}:ee),[e.isGrocery,Se,he]);if(!oe||!ae||!ne)return null;if(we&&ge)return(0,T.tZ)($.Z,{payload:ge,illustrationSize:"BIG",isLost:e.isLost});switch(ne){case"HORIZONTAL_GRID":return e.isGrocery&&Je?(0,T.tZ)(E.n,{storeUuid:e.storeUuid,catalogSectionUuid:ae,activeSectionUuid:e.activeSectionUuid,catalogItems:me,catalogSection:e.catalogSection,isGrocery:e.isGrocery,renderCatalogItemsHorizontalGrid:De,storeCatalogSections:Pe}):(0,T.tZ)(w.Z,{storeUuid:e.storeUuid,sectionUuid:e.activeSectionUuid,catalogSection:e.catalogSection,isGrocery:e.isGrocery,children:me.map(De)});case"BUNDLE_STORE":return be&&ue?(0,T.tZ)(_.Z,{children:(0,T.tZ)(x.Z,{bundleStorePayload:ue,catalogSectionType:ne,storeUuid:e.storeUuid,catalogSectionUuid:ae,sectionUuid:e.activeSectionUuid,quickAddDisabled:Q,isOpen:e.isOpen,quickAddSource:e.quickAddSource,syncToCart:k,showQuickViewEntryPoint:xe,itemStyleMetadata:Ze,surface:v.b.BUNDLE_CAROUSEL,isGrocery:e.isGrocery,redirectToQuickViewModal:!0})}):null;case"VERTICAL_GRID":return(0,T.tZ)(K,{$isStoreOfdRedesignPhase2XpEnabled:Re,children:(0,T.BX)(I.Z,{catalogSection:e.catalogSection,isGrocery:e.isGrocery,as:"div",shouldShowSortAndFilter:e.shouldShowSortAndFilter,children:[e.isGrocery&&Ue&&!e.isMultiSkuModal?(0,T.tZ)(f.ZP,{overflow:"visible",calculateHeight:We,children:Fe.map(((e,t)=>(0,T.tZ)(Ke,{children:e.map(Xe)},t)))}):Ge.length?(0,T.tZ)(Ke,{$as:"ul",$numColumns:Se,children:(Ge||[]).map(Xe)}):null,Ne.length?(0,T.tZ)(f.ZP,{overflow:"visible",calculateHeight:je,children:Ne.map(((e,t)=>{const i=t===Ne.length-1;return(0,T.tZ)(ee,{$as:"ul",$numColumns:Se,$usePaddingBottom:!i,$isLastRow:i,$isVirtualized:!0,children:e.map(Qe)},t)}))}):Me.length?(0,T.tZ)(Ke,{$as:"ul",$numColumns:Se,children:Me.map(Qe)}):null]})});case"SPECIAL_REQUEST":return(0,T.tZ)(O,{catalogSection:e.catalogSection});case"AD_CANVAS":{const t=de?.adsExperimentalStorePayload?.parent;if(!t)return null;if("REGULAR_CAROUSEL"!==t.template)return(0,T.tZ)(W,{catalogSectionUuid:ae,adCanvasPayload:de,storeUuid:e.storeUuid,catalogIndex:e.catalogIndex});const i=(de?.adsExperimentalStorePayload?.children||[]).filter((e=>"REGULAR_STORE"===e.template));return(0,T.tZ)(_.Z,{children:(0,T.tZ)(C.Z,{canvasParent:t,canvasChildren:i,numGridItemsPerRow:j,storeUuid:e.storeUuid,catalogIndex:e.catalogIndex})})}case"AISLE_SHORTCUTS":return(0,T.tZ)(F.Z,{title:pe?.title,aisleShortcutItems:pe?.aisleShortcutItems,sectionUuid:e.activeSectionUuid||"",catalogIndex:e.catalogIndex});default:return null}}},8759:(e,t,i)=>{i.d(t,{Z:()=>d});var r=i("__fusion__476"),o=i(15208),n=i(70329),a=i(91931),s=i(94579),l=i(59924);const c=(0,a.zo)("div",(e=>{let{$ignorePadding:t,$colorScale:i,$theme:r}=e;return{maxWidth:"1280px",minWidth:s.pA,margin:"0 auto",boxSizing:"border-box",padding:t?0:`0 ${s.lK}`,..."gray"===i?{opacity:.8}:{}}})),d=(0,a.Le)(c,(e=>r.forwardRef((function(t,i){const r=(0,n.Z)(),a={$colorScale:r.colorScale,...t};return r.hasNewPageWrapper?(0,l.tZ)(e,{ref:i,...a}):(0,l.tZ)(o.Z,{ref:i,...a})}))))},74171:(e,t,i)=>{i.d(t,{Z:()=>G});var r=i(74369),o=i("__fusion__476"),n=i(63171),a=i(88231),s=i(45359),l=i(32857),c=i(68065),d=i(59210),u=i(14016),g=i(46933),p=i(91931),m=i(89400),h=i(22395),Z=i(82093),S=i(59924);const y=(0,p.zo)("article",(e=>{let{$theme:t}=e;return{padding:t.sizing.scale600,boxSizing:"border-box",...t.borders.border300,borderRadius:t.borders.radius400,marginBottom:t.sizing.scale600}})),f=(0,p.zo)("div",{display:"flex",justifyContent:"space-between",alignItems:"center"}),U=(0,p.zo)("div",(e=>{let{$theme:t}=e;return{flexGrow:1}})),v=(0,p.zo)("div",(e=>{let{$theme:t}=e;return{...t.typography.ParagraphSmall,color:t.colors.contentTertiary,lineHeight:t.sizing.scale600,display:"flex",alignItems:"center",marginTop:t.sizing.scale100,marginBottom:t.sizing.scale100}})),C=(0,p.zo)("div",(e=>{let{$theme:t}=e;return{whiteSpace:"pre-line"}})),w=e=>{let{storeReview:t,onClick:i}=e;return(0,S.BX)(y,{onClick:i,children:[(0,S.tZ)(f,{children:(0,S.BX)(U,{children:[(0,S.tZ)(m.Z,{badge:t.eaterName,baseFont:"LabelMedium",baseColor:"contentPrimary"}),(0,S.BX)(v,{children:[(0,S.tZ)(Z.Z,{value:5,size:12,color:"contentPrimary"}),t.formattedDate?(0,S.BX)(S.HY,{children:[(0,S.tZ)(h.Z,{typography:"ParagraphSmall",color:"contentPrimary"}),t.formattedDate]}):null]})]})}),(0,S.tZ)(C,{children:(0,S.tZ)(d.aM,{color:"contentPrimary",children:t.reviewText?.text||""})})]})};var b=i(48559),_=i("__fusion__952"),I=i("__fusion__574"),R=i(33535),k=i(16108);const T=e=>{let{$ref:t,children:i}=e;const[r,o]=(0,p.hQ)();return(0,S.tZ)("div",{className:r({paddingBottom:o.sizing.scale600}),...t?{ref:t}:{},children:i})},O=(0,p.zo)("div",(e=>{let{$theme:t}=e;return t.typography.HeadingSmall})),x=(0,p.zo)("div",(e=>{let{$theme:t}=e;return{...t.typography.ParagraphSmall,color:t.colors.contentSecondary,display:"flex",alignItems:"center",marginTop:0}})),$=(0,p.zo)("span",(e=>{let{$theme:t}=e;return{margin:`0 ${t.sizing.scale0}`,display:"flex",alignItems:"center"}})),P=(0,p.zo)("div",(e=>{let{$theme:t,$isListItem:i}=e;return{marginTop:t.sizing.scale1000,marginBottom:t.sizing.scale200,...i?{":first-of-type":{marginTop:0}}:null}})),z=(0,p.zo)("div",(e=>{let{$visible:t}=e;return{display:t?"block":"none"}})),E=(0,p.zo)("div",(e=>{let{$shouldStyleForGrModal:t}=e;return{textAlign:t?"left":"center"}})),A=e=>{let{storeReviews:t,storeRating:i}=e;const r=(0,u.T)(),[,o]=(0,p.hQ)();if(!i)return null;const n=i.ratingValue,a=i.reviewCount,s=t?.length;return(0,S.BX)(x,{children:[n?(0,S.BX)(S.HY,{children:[(0,S.tZ)($,{children:(0,S.tZ)(_.default,{size:14,color:o.colors.contentPrimary})}),(0,S.tZ)(d.aM,{color:"contentPrimary",children:n.toFixed(1)}),(0,S.tZ)(h.Z,{color:"contentSecondary",typography:"ParagraphSmall"})]}):null,a?(0,S.BX)(d.aM,{color:"contentSecondary",children:[r("component.store.reviews.subtitle.ratings",{count:a}),(0,S.tZ)(h.Z,{color:"contentSecondary",typography:"ParagraphSmall"})]},"ratingCount"):null,s>0?(0,S.tZ)(d.aM,{color:"contentSecondary",children:r("component.store.reviews.subtitle.reviews",{count:s})},"reviewsCount"):null]})},D="store-desktop-reviews";function G(e){let{storeUuid:t,storeReviews:i,storeRating:d,shouldStyleForGrModal:u,titleElementRef:p,as:m}=e;const[h,Z]=(0,r.useState)(!1),y=(0,b.i)(D),f=(0,r.useRef)([]),U=i.length,[v,C]=(0,r.useState)({leftReviews:[],rightReviews:[]});(0,r.useEffect)((()=>{C(((e,t)=>{const i=[],r=[];let o=0,n=0;return e.forEach(((e,a)=>{const s=t[a]||0;o<=n?(i.push(e),o+=s):(r.push(e),n+=s)})),{leftReviews:i,rightReviews:r}})(i,f.current))}),[i]);const[_,x]=(0,k.Z)({root:null}),$=(0,r.useRef)(!1),G=(0,r.useRef)(!1),M=(0,R.ZP)();if((0,r.useEffect)((()=>{U&&!G.current&&(G.current=!0,M("eats:store_reviews_list_render",{numberOfReviews:U,storeUuid:t,isStoreRatingRedesignEnabled:!0}))}),[M,U,t]),o.useEffect((()=>{x?.isIntersecting&&!$.current&&($.current=!0,M("eats:store_reviews_list_impression",{numberOfReviews:U,storeUuid:t,isStoreRatingRedesignEnabled:!0}))}),[M,x?.isIntersecting,U,t]),!U)return null;const{leftReviews:B,rightReviews:L}=v,F=Math.ceil(i.length/2),N=e=>{M("eats:store_reviews_list_item_click",{numberOfReviews:U,storeUuid:t,isStoreRatingRedesignEnabled:!0,position:String(e)})};return(0,S.tZ)(P,{$as:m,$isListItem:"li"===m,ref:e=>{e&&(_(e),y(e))},id:D,children:(0,S.BX)(n.Z,{gridMargins:0,gridColumns:24,gridGutters:16,behavior:a.m6.fluid,align:u?a.xy.center:a.xy.start,children:[(0,S.tZ)(s.Z,{span:24,children:(0,S.BX)(T,{$ref:p,children:[(0,S.tZ)(O,{onClick:()=>{M("eats:store_reviews_list_title_click",{numberOfReviews:U,storeUuid:t,isStoreRatingRedesignEnabled:!0})},children:(0,S.tZ)(g.v,{id:"component.store.rating_and_reviews.title"})}),(0,S.tZ)(A,{storeRating:d,storeReviews:i})]})}),0===f.current.length?(0,S.BX)(S.HY,{children:[(0,S.tZ)(s.Z,{span:12,children:i.slice(0,F).map(((e,t)=>(0,S.tZ)("div",{ref:e=>{e?.offsetHeight&&(f.current[t]=e.offsetHeight)},children:(0,S.tZ)(w,{storeReview:e})},t)))},"left-col"),(0,S.tZ)(s.Z,{span:12,children:i.slice(F).map(((e,t)=>(0,S.tZ)("div",{ref:e=>{e?.offsetHeight&&(f.current[t+F]=e.offsetHeight)},children:(0,S.tZ)(w,{storeReview:e})},t)))},"right-col")]}):(0,S.BX)(S.HY,{children:[(0,S.tZ)(s.Z,{span:12,children:B.map(((e,t)=>(0,S.tZ)(z,{$visible:!!(h||i.length<=6)||t<3,children:(0,S.tZ)(w,{storeReview:e,onClick:()=>N(i.indexOf(e))})},t)))},"left-col"),(0,S.tZ)(s.Z,{span:12,children:L.map(((e,t)=>(0,S.tZ)(z,{$visible:!!(h||i.length<=6)||t<3,children:(0,S.tZ)(w,{storeReview:e,onClick:()=>N(i.indexOf(e))})},t)))},"right-col")]}),h||i.length<=6?null:(0,S.tZ)(s.Z,{span:24,children:(0,S.tZ)(E,{$shouldStyleForGrModal:u,children:(0,S.tZ)(l.Z,{kind:c.TO.secondary,shape:c.X3.pill,size:c.NO.compact,startEnhancer:()=>(0,S.tZ)(I.default,{size:16}),onClick:()=>{M("eats:store_reviews_list_see_all_click",{numberOfReviews:U,storeUuid:t,isStoreRatingRedesignEnabled:!0}),Z(!0)},overrides:{BaseButton:{style:e=>{let{$theme:t}=e;return{marginTop:t.sizing.scale200,marginBottom:t.sizing.scale200}}}},children:(0,S.tZ)(g.v,{id:"shared.showMore"})})})})]})})}},20395:(e,t,i)=>{i.d(t,{Z:()=>n});var r=i(75514),o=i(74369);const n=e=>{let{ref:t,key:i,scrollDelay:n}=e;const a=(0,o.useRef)(!0);(0,o.useEffect)((()=>{let e;const i=t?.current;if(i&&!a.current){if(r.Z&&i){const t=i.getBoundingClientRect().top,o=r.Z.innerHeight;t>=0&&t<=o||(n?e=setTimeout((()=>{i.scrollIntoView({behavior:"smooth",block:"start"})}),n):i.scrollIntoView({behavior:"smooth",block:"start"}))}return()=>clearTimeout(e)}a.current=!1}),[i,t,n])}}}]);