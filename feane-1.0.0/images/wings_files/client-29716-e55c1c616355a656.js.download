(self.webpackChunkFusion=self.webpackChunkFusion||[]).push([[29716,58266,95512,78869,10539,18684,5576,48907,69338,20413],{__fusion__1185:(e,t,o)=>{"use strict";o.r(t),o.d(t,{default:()=>n});var r=o(74369),i=o(59924);const n=r.forwardRef((function(e,t){let{title:o="Apartment",titleId:r,size:n="1em",...l}=e;return(0,i.BX)("svg",{width:n,height:n,viewBox:"0 0 24 24",fill:"none",ref:t,"aria-labelledby":r,...l,children:[void 0===o?(0,i.tZ)("title",{id:r,children:"Apartment"}):o?(0,i.tZ)("title",{id:r,children:o}):null,(0,i.tZ)("path",{d:"M13.5 1H3v19H1v3h22v-3h-2V7h-7.5V1ZM6 7V4h4.5v3H6Zm7.5 6v-3H18v3h-4.5ZM6 13v-3h4.5v3H6Zm7.5 7v-4H18v4h-4.5ZM6 20v-4h4.5v4H6Z",fill:"currentColor"})]})}))},__fusion__1872:(e,t,o)=>{"use strict";o.r(t),o.d(t,{default:()=>n});var r=o(74369),i=o(59924);const n=r.forwardRef((function(e,t){let{title:o="Apartment",titleId:r,size:n="1em",...l}=e;return(0,i.BX)("svg",{width:n,height:n,viewBox:"0 0 24 24",fill:"none",ref:t,"aria-labelledby":r,...l,children:[void 0===o?(0,i.tZ)("title",{id:r,children:"Apartment"}):o?(0,i.tZ)("title",{id:r,children:o}):null,(0,i.tZ)("path",{d:"M13.5 1H3v19H1v3h22v-3h-2V7h-7.5V1ZM6 7V4h4.5v3H6Zm7.5 6v-3H18v3h-4.5ZM6 13v-3h4.5v3H6Zm7.5 7v-4H18v4h-4.5ZM6 20v-4h4.5v4H6Z",fill:"currentColor"})]})}))},__fusion__619:(e,t,o)=>{"use strict";o.r(t),o.d(t,{default:()=>n});var r=o(74369),i=o(59924);const n=r.forwardRef((function(e,t){let{title:o="Bed",titleId:r,size:n="1em",...l}=e;return(0,i.BX)("svg",{width:n,height:n,viewBox:"0 0 24 24",fill:"none",ref:t,"aria-labelledby":r,...l,children:[void 0===o?(0,i.tZ)("title",{id:r,children:"Bed"}):o?(0,i.tZ)("title",{id:r,children:o}):null,(0,i.tZ)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M20 9V8h3v12h-3v-3H4v3H1V4h3v5h16ZM5 5h6v3H5V5Z",fill:"currentColor"})]})}))},__fusion__1307:(e,t,o)=>{"use strict";o.r(t),o.d(t,{default:()=>n});var r=o(74369),i=o(59924);const n=r.forwardRef((function(e,t){let{title:o="Bed",titleId:r,size:n="1em",...l}=e;return(0,i.BX)("svg",{width:n,height:n,viewBox:"0 0 24 24",fill:"none",ref:t,"aria-labelledby":r,...l,children:[void 0===o?(0,i.tZ)("title",{id:r,children:"Bed"}):o?(0,i.tZ)("title",{id:r,children:o}):null,(0,i.tZ)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M20 9V8h3v12h-3v-3H4v3H1V4h3v5h16ZM4 12v2h16v-2H4Zm1-7h6v3H5V5Z",fill:"currentColor"})]})}))},__fusion__1333:(e,t,o)=>{"use strict";o.r(t),o.d(t,{default:()=>n});var r=o(74369),i=o(59924);const n=r.forwardRef((function(e,t){let{title:o="Briefcase",titleId:r,size:n="1em",...l}=e;return(0,i.BX)("svg",{width:n,height:n,viewBox:"0 0 24 24",fill:"none",ref:t,"aria-labelledby":r,...l,children:[void 0===o?(0,i.tZ)("title",{id:r,children:"Briefcase"}):o?(0,i.tZ)("title",{id:r,children:o}):null,(0,i.tZ)("path",{d:"M18 6V1H6v5H1v16h22V6h-5ZM9 4h6v2H9V4Zm11 15H4V9h16v10Z",fill:"currentColor"})]})}))},__fusion__674:(e,t,o)=>{"use strict";o.r(t),o.d(t,{default:()=>n});var r=o(74369),i=o(59924);const n=r.forwardRef((function(e,t){let{title:o="Center",titleId:r,size:n="1em",...l}=e;return(0,i.BX)("svg",{width:n,height:n,viewBox:"0 0 24 24",fill:"none",ref:t,"aria-labelledby":r,...l,children:[void 0===o?(0,i.tZ)("title",{id:r,children:"Center"}):o?(0,i.tZ)("title",{id:r,children:o}):null,(0,i.tZ)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M20.9 10.5H24v3h-3.1c-.7 3.8-3.6 6.8-7.4 7.4V24h-3v-3.1c-3.8-.7-6.8-3.6-7.4-7.4H0v-3h3.1c.7-3.8 3.6-6.8 7.4-7.4V0h3v3.1c3.8.7 6.8 3.6 7.4 7.4ZM6 12c0 3.3 2.7 6 6 6s6-2.7 6-6-2.7-6-6-6-6 2.7-6 6Zm9 0a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z",fill:"currentColor"})]})}))},__fusion__805:(e,t,o)=>{"use strict";o.r(t),o.d(t,{default:()=>n});var r=o(74369),i=o(59924);const n=r.forwardRef((function(e,t){let{title:o="Home",titleId:r,size:n="1em",...l}=e;return(0,i.BX)("svg",{width:n,height:n,viewBox:"0 0 24 24",fill:"none",ref:t,"aria-labelledby":r,...l,children:[void 0===o?(0,i.tZ)("title",{id:r,children:"Home"}):o?(0,i.tZ)("title",{id:r,children:o}):null,(0,i.tZ)("path",{d:"M12 1 2 10.1V23h7v-8h6v8h7V10.1L12 1Z",fill:"currentColor"})]})}))},__fusion__1493:(e,t,o)=>{"use strict";o.r(t),o.d(t,{default:()=>n});var r=o(74369),i=o(59924);const n=r.forwardRef((function(e,t){let{title:o="Home",titleId:r,size:n="1em",...l}=e;return(0,i.BX)("svg",{width:n,height:n,viewBox:"0 0 24 24",fill:"none",ref:t,"aria-labelledby":r,...l,children:[void 0===o?(0,i.tZ)("title",{id:r,children:"Home"}):o?(0,i.tZ)("title",{id:r,children:o}):null,(0,i.tZ)("path",{d:"M12 1 2 10.1V23h20V10.1L12 1Zm7 19h-5v-6h-4v6H5v-8.6L12 5l7 6.4V20Z",fill:"currentColor"})]})}))},__fusion__1556:(e,t,o)=>{"use strict";o.r(t),o.d(t,{default:()=>n});var r=o(74369),i=o(59924);const n=r.forwardRef((function(e,t){let{title:o="Person",titleId:r,size:n="1em",...l}=e;return(0,i.BX)("svg",{width:n,height:n,viewBox:"0 0 24 24",fill:"none",ref:t,"aria-labelledby":r,...l,children:[void 0===o?(0,i.tZ)("title",{id:r,children:"Person"}):o?(0,i.tZ)("title",{id:r,children:o}):null,(0,i.tZ)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M17.5 6.5c0 3-2.5 5.5-5.5 5.5S6.5 9.5 6.5 6.5 9 1 12 1s5.5 2.5 5.5 5.5Zm-3 0C14.5 5.1 13.4 4 12 4S9.5 5.1 9.5 6.5 10.6 9 12 9s2.5-1.1 2.5-2.5ZM3 20c0-3.3 2.7-6 6-6h6c3.3 0 6 2.7 6 6v3h-3v-3c0-1.7-1.4-3-3-3H9c-1.6 0-3 1.3-3 3v3H3v-3Z",fill:"currentColor"})]})}))},54731:(e,t,o)=>{"use strict";o.d(t,{bu:()=>r,xk:()=>i});const r=Object.freeze({unknown:"unknown",door_to_door:"door_to_door",curbside:"curbside",leave_at_door:"leave_at_door",leave_in_lobby:"leave_in_lobby",meet_in_lobby:"meet_in_lobby",leave_inside_building_door:"leave_inside_building_door"}),i=(Object.freeze({UNKNOWN:"UNKNOWN",SAVED:"SAVED",SUGGESTED:"SUGGESTED",TARGET:"TARGET"}),Object.freeze({UNKNOWN:"UNKNOWN",USER_INPUT:"USER_INPUT",FIRST_TIME_USER_DEFAULT:"FIRST_TIME_USER_DEFAULT",USER_INPUT_MISSING:"USER_INPUT_MISSING",PLACE_HOLDER_1:"PLACE_HOLDER_1",PLACE_HOLDER_2:"PLACE_HOLDER_2",PLACE_HOLDER_3:"PLACE_HOLDER_3",PLACE_HOLDER_4:"PLACE_HOLDER_4"}));Object.freeze({NONE:"NONE",PNG:"PNG",JPEG:"JPEG"}),Object.freeze({UNKNOWN:"UNKNOWN",INVALID:"INVALID",VALIDATED:"VALIDATED"}),Object.freeze({UNKNOWN:"UNKNOWN",MULTI_UNIT:"MULTI_UNIT"}),Object.freeze({INVALID:"INVALID",CTA_INLINE:"CTA_INLINE",CTA_WITH_BUTTON:"CTA_WITH_BUTTON",LEGACY:"LEGACY",CTA_WITH_TWO_BUTTONS:"CTA_WITH_TWO_BUTTONS"}),Object.freeze({INVALID:"INVALID",UPSERT_DELIVERY_LOCATION:"UPSERT_DELIVERY_LOCATION",REFRESH_MARKETPLACE:"REFRESH_MARKETPLACE",EDIT_DELIVERY_LOCATION:"EDIT_DELIVERY_LOCATION"}),Object.freeze({UNKNOWN:"UNKNOWN",CURRENT_LOCATION_CONFIRMATION:"CURRENT_LOCATION_CONFIRMATION",CURRENT_ADDRESS_FAR_AWAY:"CURRENT_ADDRESS_FAR_AWAY",EARLY_LIFECYCLE_NUDGE:"EARLY_LIFECYCLE_NUDGE"})},62083:(e,t,o)=>{"use strict";o.d(t,{G:()=>r});Object.freeze({UNKNOWN:"UNKNOWN",STREET_ADDRESS:"STREET_ADDRESS",APT_OR_SUITE:"APT_OR_SUITE",AREA:"AREA",LANDMARK:"LANDMARK",POSTCODE:"POSTCODE",BUILDING_NAME:"BUILDING_NAME",BUILDING_NUMBER:"BUILDING_NUMBER",BUSINESS_NAME:"BUSINESS_NAME",CITY:"CITY",DISTRICT:"DISTRICT",STREET_TYPE:"STREET_TYPE",NEIGHBORHOOD:"NEIGHBORHOOD",REFERENCE:"REFERENCE",STREET_NUMBER:"STREET_NUMBER",FAMILY_NAME:"FAMILY_NAME",ADDITIONAL_INFO:"ADDITIONAL_INFO",FLOOR:"FLOOR",GATE_CODE:"GATE_CODE",RESIDENCE_TYPE:"RESIDENCE_TYPE",HOUSE_NUMBER:"HOUSE_NUMBER",ENCODED_VENUE_LOCATION:"ENCODED_VENUE_LOCATION",HUMAN_READABLE_VENUE_LOCATION:"HUMAN_READABLE_VENUE_LOCATION",COUNTRY:"COUNTRY",FIRST_LEVEL_SUBDIVISION:"FIRST_LEVEL_SUBDIVISION",ROOM_NUMBER:"ROOM_NUMBER",ACCESS_INSTRUCTIONS:"ACCESS_INSTRUCTIONS",HOTEL_NAME:"HOTEL_NAME",NAME_PLATE:"NAME_PLATE",BUZZER_CODE:"BUZZER_CODE",TOWER_NUMBER:"TOWER_NUMBER",ADDITIONAL_DETAILS:"ADDITIONAL_DETAILS"});const r=Object.freeze({UNKNOWN:"UNKNOWN",HOUSE:"HOUSE",APARTMENT_BUILDING:"APARTMENT_BUILDING",APARTMENT_COMPLEX:"APARTMENT_COMPLEX",BUSINESS:"BUSINESS",HOTEL:"HOTEL",OTHER:"OTHER",CONDOMINIUM:"CONDOMINIUM"})},37649:(e,t,o)=>{"use strict";o.d(t,{Z:()=>n});var r=o(74369),i=o(33535);function n(e){const t=(0,i.ZP)();return(0,r.useEffect)((()=>{t(e.eventName,e.eventPayload)}),[]),null}},73057:(e,t,o)=>{"use strict";o.d(t,{Z:()=>y});var r=o(74369),i=o(94813),n=o(14016),l=o(46933),a=o(67318),s=o(78422),d=o(61799),c=o(45423),u=o(55437),h=o(47885),p=o(69694),_=o(87444),v=o(33535),f=o(91931),g=o(59924);const y=e=>{const t=(0,i.TH)(),o=(0,n.T)(),y=Boolean(e.storeUuid),{isStorePrecheckoutBundlingEnabled:Z}=(0,h.Z)(),{draftOrder:m}=(0,p.Z)(e.storeUuid),T=(0,_.Z)("store_scheduled_delivery_time_cookie_reset_enabled"),[,E]=(0,f.hQ)(),I=T&&!e.isSchedulable||Z&&y&&Boolean(m?.bundleGroupInfo),b=(0,v.ZP)();(0,r.useEffect)((()=>{b("eats:delivery_details_schedule_option_state",{label:I?"disabled":"enabled"})}),[b,I]);const C="scheduled"in e.deliveryTime?(0,g.tZ)(d.Z,{date:e.deliveryTime.date,startTime:e.deliveryTime.startTime,endTime:e.deliveryTime.endTime}):(0,g.tZ)(c.Z,{});return(0,g.tZ)(u.Z,{isDisabled:I,icon:(0,g.tZ)(s.Z,{name:"ClockOutlined",color:E.colors.contentTertiary,title:o("shared.when"),size:24}),title:C,ctaLink:(0,a.t)(t,{entryPoint:e.storeUuid?"store-delivery-details":"global-delivery-details",storeUuid:e.storeUuid}),ctaText:(0,g.tZ)(l.v,{id:"components.CheckoutStepDeliveryTime.schedule"}),hasBorder:!1,dataTestId:"schedule-button"})}},63649:(e,t,o)=>{"use strict";o.d(t,{Z:()=>s});var r=o(74369),i=o(91931),n=o(62851),l=o(59924);const a=(0,i.w1)(n.U,(e=>({outline:"none",resize:"vertical","::placeholder":{color:e.$theme.colors.contentTertiary},...e.disabled?{color:e.$theme.colors.contentStateDisabled}:{":focus":{boxShadow:e.$hasError?`inset 0px -2px 0px ${e.$theme.colors.negative}`:e.$theme.shadows.focusedInput}}}))),s=r.forwardRef((function(e,t){return(0,l.tZ)(a,{$as:"textarea",ref:t,id:e.id,name:e.name,value:e.value,disabled:Boolean(e.isDisabled),placeholder:e.placeholder,onChange:e.onChange,onBlur:e.onBlur,onFocus:e.onFocus,cols:e.cols?Number(e.cols):void 0,rows:e.rows?Number(e.rows):void 0,"aria-label":e.ariaLabel,maxLength:e.maxLength})}))},55437:(e,t,o)=>{"use strict";o.d(t,{Z:()=>f});var r=o(17222),i=o(91931),n=o(36278),l=o(22787),a=o(57444),s=o(59924);const d=(0,i.zo)(r.rU,(e=>{let{$isDisabled:t,$theme:o}=e;return{borderRadius:o.borders.pillButtonBorderRadius,...(0,l.y)({$theme:o}),...o.typography.LabelSmall,display:"flex",padding:"12px",height:"36px",alignItems:"center",boxSizing:"border-box",justifyContent:"center",flexShrink:0,...t?(0,a.Z)(o):{},cursor:t?"not-allowed":"pointer"}})),c=(0,i.zo)("div",{display:"flex",flexDirection:"row",alignItems:"center",boxSizing:"border-box",height:"72px"}),u=(0,i.zo)("div",{width:"64px",height:"64px",display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0}),h=(0,i.zo)("div",(e=>{let{$theme:t,$hasBorder:o}=e;return{flexGrow:1,height:"100%",display:"flex",alignItems:"center",justifyContent:"flex-start",overflow:"hidden",...o?{borderBottom:`1px solid ${t.colors.borderOpaque}`}:{}}})),p=(0,i.zo)("div",(e=>{let{$theme:t}=e;return{...t.typography.LabelMedium,display:"flex",flexDirection:"column",overflow:"hidden",flexGrow:1}})),_=(0,i.zo)("div",(e=>{let{$theme:t}=e;return{...t.typography.LabelMedium,whiteSpace:"nowrap",textOverflow:"ellipsis",overflow:"hidden"}})),v=(0,i.zo)("div",(e=>{let{$theme:t}=e;return{...t.typography.ParagraphSmall,color:t.colors.contentSecondary,textOverflow:"ellipsis",overflow:"hidden",whiteSpace:"nowrap"}})),f=e=>(0,s.BX)(c,{children:[(0,s.tZ)(u,{children:e.icon}),(0,s.BX)(h,{$hasBorder:Boolean(e.hasBorder),children:[(0,s.BX)(p,{children:[(0,s.tZ)(_,{children:e.title}),e.subtitle?(0,s.tZ)(v,{children:e.subtitle}):null]}),(0,s.tZ)(n.ZP,{$width:"8px"}),(0,s.tZ)(d,{$isDisabled:Boolean(e.isDisabled),"data-testid":e.dataTestId,to:e.ctaLink,onClick:t=>{e.isDisabled?t.preventDefault():e.ctaOnClick&&e.ctaOnClick(t)},children:e.ctaText}),(0,s.tZ)(n.ZP,{$width:"16px"})]})]})},31809:(e,t,o)=>{"use strict";o.d(t,{e:()=>r});const r=(e,t,o)=>(t||[]).map((e=>e?.address?.reference)).includes(e?.reference||"")&&o?.reference!==e?.reference},31704:(e,t,o)=>{"use strict";o.d(t,{Z:()=>C});var r=o(74369),i=o("__fusion__1519"),n=o("__fusion__831"),l=o(13218),a=o(40832),s=o(40606),d=o(1795),c=o(72238),u=o(21322),h=o(91931),p=o(67780),_=o(940),v=o(14016),f=o(97130),g=o(33535),y=o(85301),Z=o("__fusion__645"),m=o("__fusion__1333"),T=o("__fusion__1493"),E=o("__fusion__805"),I=o(59924);const b=(0,h.w1)(p.c,(e=>{let{$theme:t}=e;return{background:"transparent",marginRight:t.sizing.scale300}})),C=e=>{const{saveChanges:t,updateLocationDraft:o}=(0,a.a8)(),p=(0,g.ZP)(),{deliveryLocationSubtitle:C,getUpsertDeliveryLocationRequestV2:L,isCurrentLocation:S}=(0,f.X)(),{onAddressSaved:R}=e,O=(0,v.T)(),[,N]=(0,h.hQ)(),D=(0,r.useCallback)((e=>{p("eats:change_address_click_v2");const r=e?.deliveryPayload?.selectedInteractionType||y.lq,i=L({addressInfo:e?.deliveryPayload?.addressInfo,deliveryInstruction:e?.deliveryPayload?.deliveryInstructions?.[r],label:e?.personalPayload?.label,deliveryLocation:e}),n=(0,l._W)(e?.location,e?.personalPayload);n&&(o(n),t((()=>{R(n)}),{overrideLocationDraft:n,skipDraftInstructions:!0,upsertDeliveryLocationRequestPayload:i}))}),[p,L,o,t,R]);return(0,I.tZ)("ul",{children:(0,I.tZ)(s.a,{source:e.deliveryLocations,loaded:t=>t?.deliveryLocations?.SUGGESTED?.map(((t,o)=>(0,I.tZ)(c.Z,{artwork:()=>(e=>{const t=S(e);return"HOME"===e?.personalPayload?.labelType?t?(0,I.tZ)(E.default,{size:24}):(0,I.tZ)(T.default,{size:24,color:N.colors.contentTertiary}):"WORK"===e?.personalPayload?.labelType?t?(0,I.tZ)(Z.default,{size:24}):(0,I.tZ)(m.default,{size:24,color:N.colors.contentTertiary}):t?(0,I.tZ)(n.default,{size:24}):(0,I.tZ)(i.default,{size:24,color:N.colors.contentTertiary})})(t),onClick:()=>D(t),endEnhancer:()=>(0,I.tZ)(b,{onClick:o=>{o.stopPropagation(),e.onEditClick(t)},"data-test":"edit-location",children:(0,I.tZ)(_.Z,{size:16,color:"contentTertiary","aria-label":O("shared.edit")})}),overrides:{Content:{style:e=>{let{$theme:t}=e;return{padding:`${t.sizing.scale100} 0`}}},Root:{style:e=>{let{$theme:o}=e;return{...S(t)?{backgroundColor:o.colors.backgroundSecondary}:{}}}}},children:(0,I.tZ)(u.Z,{description:C(t),children:t?.personalPayload?.label||t?.title||""})},o))),loading:()=>(0,I.tZ)(d.Z,{}),error:()=>null})})}},83949:(e,t,o)=>{"use strict";o.d(t,{Z:()=>s});var r=o(46933),i=o(91931),n=o(34567),l=o(59924);const a=(0,i.w1)(n.Z,{marginTop:"24px"}),s=e=>{let{onDone:t}=e;return(0,l.tZ)(a,{onClick:t,children:(0,l.tZ)(r.v,{id:"shared.done"})})}},75241:(e,t,o)=>{"use strict";o.d(t,{Z:()=>A});var r=o(74369),i=o(40606),n=o("__fusion__476"),l=o(14016),a=o(91931),s=o(36278),d=o(79908),c=o(94579),u=o(32562),h=o(67780),p=o(940),_=o(81707),v=o("__fusion__1519"),f=o("__fusion__831"),g=o(59924);const y=(0,a.zo)("li",(e=>({backgroundColor:e.$isHighlighted?e.$theme.colors.backgroundSecondary:"transparent",padding:"16px 24px",display:"flex",cursor:"pointer",transition:c.pB.itemBackground,outline:"none",":hover":{background:e.$theme.colors.backgroundSecondary}}))),Z=(0,a.zo)("div",{alignSelf:"center"}),m=(0,a.zo)("div",{minWidth:0,display:"flex",flexDirection:"column",flexGrow:1}),T=(0,a.zo)("div",(e=>{let{$theme:t}=e;return{...t.typography.LabelLarge,textOverflow:"ellipsis",overflow:"hidden"}})),E=(0,a.zo)("div",(e=>{let{$theme:t}=e;return{...t.typography.ParagraphSmall,color:t.colors.contentSecondary,textOverflow:"ellipsis",overflow:"hidden"}})),I=(0,a.w1)(h.c,{background:"transparent"}),b=e=>{const t=(0,l.T)(),o=n.useRef(null),[,r]=(0,a.hQ)(),i=(0,u.Z)(o),c=()=>0===e.index?(0,g.tZ)(f.default,{size:24,color:r.colors.backgroundInversePrimary}):"home"===e.taggedLocation.tag.toLowerCase()?(0,g.tZ)(d.Z,{type:"Home",width:"24",height:"24"}):(0,g.tZ)(v.default,{size:24,color:r.colors.backgroundInversePrimary});return(0,g.BX)(y,{ref:o,$isHighlighted:i,onClick:e.onClick,...e.getItemProps?e.getItemProps({index:e.index}):{},children:[(0,g.BX)(Z,{children:["work"===e.taggedLocation.tag.toLowerCase()?(0,g.tZ)(_.Z,{}):null,"work"!==e.taggedLocation.tag.toLowerCase()?(0,g.tZ)(c,{}):null]}),(0,g.tZ)(s.ZP,{$width:"24px"}),(0,g.BX)(m,{children:[(0,g.tZ)(T,{children:e.taggedLocation.address.address.title}),(0,g.tZ)(E,{children:e.taggedLocation.address.address.subtitle})]}),(0,g.tZ)(s.ZP,{$width:"8px"}),(0,g.tZ)(Z,{children:(0,g.tZ)(I,{onClick:t=>{t.stopPropagation(),e.onEditClick(e.taggedLocation.address)},"data-test":"edit-location",children:(0,g.tZ)(p.Z,{size:20,color:"contentInverseTertiary","aria-label":t("shared.edit")})})})]})};var C=o(25750),L=o(52692),S=o(40832),R=o(1795),O=o(73472),N=o(94813);const D=()=>(0,g.tZ)(L.Z,{$margin:"0 0 0 64px",$as:"li"}),A=e=>{const{saveChanges:t,updateLocationDraft:o}=(0,S.a8)(),{onAddressSaved:n}=e,{startTiming:l}=(0,O.K3)(),a=(0,N.TH)().pathname.replace(/\//g,""),s=(0,r.useCallback)((e=>{e&&(l(`${a}_delivery_details_select_address`),o(e),t((t=>{n(e)}),{overrideLocationDraft:e,skipDraftInstructions:!0}))}),[t,o,n,l,a]);return(0,g.tZ)("ul",{children:(0,g.tZ)(i.Z,{source:e.taggedLocations,loaded:t=>(0,g.tZ)(C.Z,{separator:D,children:t.map(((t,o)=>(0,g.tZ)(b,{index:o,taggedLocation:t,onClick:()=>s(t.address),onEditClick:e.onEditClick},o)))}),loading:()=>(0,g.tZ)(R.Z,{}),error:()=>null})})}},90200:(e,t,o)=>{"use strict";o.d(t,{Z:()=>u});var r=o(74369),i=o(46933),n=o(91931),l=o(7646),a=o(36278),s=o(698),d=o(59924);const c=(0,n.w1)(l.Bi,{marginTop:"16px"}),u=e=>{let{selectedDeliveryLocation:t,onRemoveAddress:o}=e;const[n,l]=(0,r.useState)(!1),{reference:u,referenceType:h}=t||{};return u&&h?(0,d.BX)(c,{onClick:async()=>{l(!0),await o(),l(!1)},disabled:n,children:[(0,d.tZ)(s.Z,{color:"negative",size:16}),(0,d.tZ)(a.sA,{}),(0,d.tZ)(i.v,{id:"components.delivery.remove_saved_address"})]}):null}},81282:(e,t,o)=>{"use strict";o.d(t,{Z:()=>h});var r=o(91931),i=o(62851),n=o(36278),l=o(14016),a=o(28929),s=o(59924);const d=(0,r.w1)(i.U,(e=>{let{$theme:t}=e;return{display:"flex",position:"relative",":focus":{boxShadow:t.shadows.focusedInput}}})),c=(0,r.zo)("div",{display:"flex",flexShrink:0,alignItems:"center"}),u=(0,r.zo)("input",(e=>{let{$theme:t}=e;return{flex:1,backgroundColor:t.colors.inputFill,outline:"none","::placeholder":{color:t.colors.contentTertiary}}})),h=e=>{const t=(0,l.T)();return(0,s.BX)(d,{children:[(0,s.tZ)(c,{children:(0,s.tZ)(a.Z,{})}),(0,s.tZ)(n.ZP,{$width:"8px"}),(0,s.tZ)(u,{value:e.address,onChange:t=>{e.setAddress(t.target.value||"")},placeholder:t("components.delivery.add_a_label")})]})}},7708:(e,t,o)=>{"use strict";o.d(t,{Z:()=>h});var r=o(46933),i=o(91931),n=o(34567),l=o(40832),a=o(73472),s=o(94813),d=o(59924);const c=(0,i.w1)(n.Z,{marginTop:"24px"}),u=(e,t)=>t&&e?{...e,address:{...e.address??{},label:t??""}}:e,h=e=>{let{addressLabel:t,selectedDeliveryLocation:o,onAddressSaved:i}=e;const{saveChanges:n,isSaveDisabled:h}=(0,l.a8)(),{startTiming:p}=(0,a.K3)(),_=(0,s.TH)().pathname.replace(/\//g,"");return(0,d.tZ)(c,{"data-test":"save-address",disabled:!o||h,onClick:()=>{p(`${_}_delivery_details_save_address`),n((e=>{o&&i(u(o,t))}),{overrideLocationDraft:u(o,t),addressLabel:t})},children:(0,d.tZ)(r.v,{id:"shared.save"})})}},93685:(e,t,o)=>{"use strict";o.d(t,{Z:()=>p});var r=o(46933),i=o(91931),n=o(34567),l=o(22787),a=o(52298),s=o(95747),d=o(79851),c=o(59924);const u=(0,i.zo)("div",(e=>{let{$theme:t}=e;return t.typography.HeadingLarge})),h=(0,i.zo)("div",(e=>{let{$theme:t}=e;return t.typography.ParagraphLarge}));function p(e){let{onKeepAddress:t,onRemoveAddress:o}=e;const i=(0,d.Z)(),p=(0,s.Z)();return(0,c.BX)(c.HY,{children:[(0,c.tZ)(u,{children:(0,c.tZ)(r.v,{id:"components.address_entry.remove_confirmation"})}),(0,c.tZ)(a.ZP,{$height:24}),(0,c.tZ)(h,{children:(0,c.tZ)(r.v,{id:"shared.action_undone_confirmation"})}),(0,c.tZ)(a.ZP,{$height:24}),(0,c.tZ)(n.Z,{onClick:()=>{p(i),o()},children:(0,c.tZ)(r.v,{id:"shared.remove"})}),(0,c.tZ)(a.ZP,{$height:16}),(0,c.tZ)(l.Z,{onClick:()=>t(),children:(0,c.tZ)(r.v,{id:"components.address_entry.keep_address"})})]})}},71996:(e,t,o)=>{"use strict";o.d(t,{Z:()=>s});var r=o(91931),i=o(79908),n=o(36278),l=o(59924);const a=(0,r.zo)("div",(e=>{let{$theme:t}=e;return{...t.typography.ParagraphMedium,display:"flex",alignItems:"flex-start",paddingTop:"12px"}})),s=(0,r.Le)(a,(e=>function(t){return(0,l.BX)(e,{children:[(0,l.tZ)(i.Z,{type:t.iconType}),(0,l.tZ)(n.ZP,{$width:"8px"}),t.children]})}))},26336:(e,t,o)=>{"use strict";o.d(t,{Z:()=>a});var r=o("__fusion__1349"),i=o("__fusion__1428"),n=o("__fusion__1556"),l=o(59924);function a(e){let{interactionType:t,size:o}=e;const a={size:o||20};switch(t){case"curbside":return(0,l.tZ)(r.default,{...a});case"leave_at_door":case"leave_inside_building_door":return(0,l.tZ)(i.default,{...a});case"door_to_door":case"leave_in_lobby":case"meet_in_lobby":default:return(0,l.tZ)(n.default,{...a})}}},77947:(e,t,o)=>{"use strict";o.d(t,{Z:()=>_});var r=o(31913),i=o(72238),n=o(21322),l=o(52200),a=o(11849),s=o(14016),d=o(32857),c=o(68065),u=o(91931),h=o(59924);const p=(0,u.zo)("div",{display:"flex",flexDirection:"column"}),_=e=>{let{deliveryInteractionViewConfig:t,onClick:o,selectedInteraction:u}=e;const _=(0,s.T)(),v=t?.interactionTypeMap?.[u]?.illustration,f=t?.interactionTypeMap?.[u]?.title,g=t?.interactionTypeMap?.[u]?.descriptionBadgeViewModel;return(0,h.BX)("div",{children:[t?.header?(0,h.tZ)(r.ZP,{text:t?.header}):null,(0,h.tZ)(i.Z,{overrides:{Content:{style:{borderBottom:"none",paddingRight:0}}},artwork:()=>v?(0,h.tZ)(l.SZ,{richIllustration:v}):null,endEnhancer:()=>(0,h.tZ)(d.Z,{kind:c.TO.secondary,size:c.NO.compact,shape:c.X3.pill,onClick:o,children:_("shared.edit")}),children:(0,h.tZ)(n.Z,{children:(0,h.BX)(p,{children:[f?(0,h.tZ)(r.ZP,{text:f}):null,g?(0,h.tZ)(a.Z,{viewModel:g}):null]})})})]})}},69955:(e,t,o)=>{"use strict";o.d(t,{Z:()=>c});var r=o("__fusion__476"),i=o(91931),n=o(31913),l=o(36746),a=o(91483),s=o(59924);const d=(0,i.zo)("div",(e=>{let{$theme:t}=e;return{display:"flex",flexDirection:"column",marginTop:t.sizing.scale600,gap:t.sizing.scale300}})),c=e=>{let{deliveryInstructionInputViewModel:t,ephemeralInstruction:o,onChange:i}=e;const[c,u]=r.useState((o||t?.text)??"");let h,p;if(t?.lineConfig&&"multiline"===t?.lineConfig.type){const{startingNumberOfLines:e,characterLimit:o}=t?.lineConfig.multiline||{};h=e,p=o}r.useEffect((()=>{u(o??t?.text??"")}),[t?.text,o]);return(0,s.tZ)(s.HY,{children:t?(0,s.BX)(d,{children:[(0,s.tZ)(n.ZP,{text:t?.title}),(0,s.tZ)(l.Z,{placeholder:(0,a.un)(t?.placeholder),value:c,onChange:e=>(e=>{u(e),i?.(e)})(String(e.target.value)),rows:h||1,maxLength:p??null})]}):null})}},66473:(e,t,o)=>{"use strict";o.d(t,{Z:()=>N});var r=o("__fusion__476"),i=o(91931),n=o(14016),l=o(31913),a=o(59210),s=o(58424),d=o(1946),c=o(68561),u=o(26460),h=o(52200),p=o(69955),_=o(5639),v=o(94813);var f=o(40832),g=o(11841),y=o(32857),Z=o(58679),m=o(59924);const T=(0,i.zo)("div",(e=>{let{$theme:t}=e;return{padding:`${t.sizing.scale600} 0`}})),E=e=>{let{onClick:t,onClose:o}=e;const[i,l]=r.useState(""),s=(0,n.T)(),d=s("location_manager.apt_or_suite.input_placeholder"),c=s("shared.save"),u=s("location_manager.apt_or_suite.modal_title");return(0,m.BX)(Z.R1,{onBackdropClick:o,children:[(0,m.tZ)(Z._g,{children:(0,m.tZ)(a.fH,{margin:"0",children:u})}),(0,m.BX)(Z.bd,{children:[(0,m.tZ)(g.Z,{value:i,placeholder:d,onChange:e=>l(e.target.value)}),(0,m.tZ)(T,{children:(0,m.tZ)(y.Z,{overrides:{BaseButton:{style:{width:"100%"}}},onClick:()=>t(i),children:c})})]})]})},I=(0,i.zo)("span",(e=>{let{$theme:t}=e;return{...t.typography.LabelMedium,textDecoration:"underline",cursor:"pointer"}})),b=e=>{let{interactionType:t,aptOrSuite:o,setAptModalOpen:i}=e;const{setAddressInfo:l}=(0,f.a8)(),a=(0,v.TH)().search.includes("mod=dropOffOptions"),s="door_to_door"===t&&!o||"leave_at_door"===t&&!o,{isMobile:d}=(0,_.hU)(),c=(0,n.T)(),[u,h]=r.useState(!1),p=c("location_manager.apt_or_suite.modal_title"),g=e=>{l((t=>({...t,APT_OR_SUITE:e}))),h(!1)};return a&&s?d&&u?(0,m.tZ)(E,{onClick:g,onClose:()=>h(!1)}):(0,m.tZ)(I,{"data-testid":"dropOffAptEntryPoint",onClick:()=>{i?i(!0):h(!0)},children:p}):null};var C=o(33535),L=o(55421);const S=(0,i.zo)("div",(e=>{let{$theme:t}=e;return{display:"flex",justifyContent:"flex-end",alignItems:"center",gap:t.sizing.scale600}})),R=(0,i.zo)("div",(e=>{let{$theme:t}=e;return{marginTop:t.sizing.scale600}})),O=(0,i.zo)("div",(e=>{let{$theme:t}=e;return{marginTop:t.sizing.scale600,minWidth:"100%",width:"100%"}})),N=e=>{let{deliveryInteractionDetailsViewConfig:t,ephemeralInteractionType:o,ephemeralInstruction:i,setEphemeralInstruction:v,setEphemeralInteractionType:f,ephemeralAptOrSuite:g,setAptModalOpen:y}=e;const{isMobile:Z}=(0,_.hU)(),T=(0,C.ZP)(),{header:E,addressInfo:I,interactionTypeGroups:N,deliveryInstructionInputViewModelsMap:D}=t||{},A=(0,L.Qs)(E),P=(0,n.T)(),x=g||I?.APT_OR_SUITE||"",w=`${P("location_manager.drop_off_options_subtitle")} ${I?.STREET_ADDRESS}. ${x}`,[B,M]=r.useState(),z=e=>e?.some((e=>e.interactionType===o))||!1,U=e=>{const t=D?.[e];M(t),v(t?.text)},k=e=>{const t=e.currentTarget.value;f(t),U(t),H(t)},H=e=>{v(D?.[e]?.text??"")};return r.useEffect((()=>{M(D?.[o])}),[D,o]),r.useEffect((()=>{T("eats:location_manager_dropoff_impression")}),[T]),(0,m.BX)("div",{children:[(0,m.tZ)(a.Jf,{marginBottom:Z?"scale300":"scale600",marginTop:Z?0:"scale900",children:A}),(0,m.BX)(a.aM,{marginTop:"scale300",marginBottom:"scale600",children:[w,(0,m.tZ)(b,{interactionType:o,aptOrSuite:x,setAptModalOpen:y})]}),N?.map(((e,t)=>(0,m.BX)(s.Z,{tileKind:d._r.selection,selected:z(e?.interactionTypeItems),onClick:()=>(e=>{if(!e)return;const t=e.interactionTypeItems?.[0]?.interactionType;t&&(f(t),U(t),H(t))})(e),overrides:{Root:{style:e=>{let{$theme:o}=e;return{width:"100%",marginBottom:0===t?o.sizing.scale300:0,":hover:enabled":{backgroundColor:"none"},":active:enabled":{backgroundColor:"none"}}}},BodyContainerContent:{style:{width:"100%"}}},children:[(0,m.BX)(S,{children:[e?.illustration?(0,m.tZ)(h.SZ,{richIllustration:e.illustration}):null,e?.title?(0,m.tZ)(l.ZP,{text:e.title}):null]}),z(e?.interactionTypeItems)?(0,m.tZ)(O,{children:(0,m.tZ)(c.Z,{value:o,onChange:k,name:"interactionGroup",labelPlacement:"left",children:e?.interactionTypeItems?.map((e=>(0,m.tZ)(u.Z,{overrides:{Root:{style:t=>{let{$theme:r}=t;return{width:"100%",boxSizing:"border-box",display:"flex",justifyContent:"space-between",backgroundColor:o===e?.interactionType?r.colors.backgroundSecondary:"transparent",padding:r.sizing.scale600,borderRadius:r.borders.radius300,marginTop:0,marginBottom:0}}},Label:{style:{justifyContent:"flex-start",display:"flex",boxSizing:"border-box"}}},value:String(e?.interactionType),"data-testid":`drop-off-option-${e?.interactionType}`,children:e?.text?(0,m.tZ)(l.ZP,{text:e.text}):null},e?.interactionType)))})}):null]},t))),B?(0,m.tZ)(R,{children:(0,m.tZ)(p.Z,{ephemeralInstruction:i,deliveryInstructionInputViewModel:B,onChange:e=>v(e)})}):null]})}},36154:(e,t,o)=>{"use strict";o.d(t,{Z:()=>z});var r=o("__fusion__476"),i=o(7903),n=o(97130),l=o(31913),a=o(91931),s=o(40832),d=o(59924);const c=(0,a.zo)("div",(e=>{let{$theme:t}=e;return{marginBottom:t.sizing.scale300}})),u=e=>{let{dropDownInputProperty:t,initialResidenceType:o,name:a,setShouldHighlightRequired:u}=e;const{addressInfo:h,setAddressInfo:p}=(0,s.a8)(),{getSelectOptionsFromDropDownInputProperty:_}=(0,n.X)(),[v,f]=r.useState(!0),{options:g,selectedOption:y,selectLabel:Z}=_({dropDownInputProperty:t,initialResidenceType:o});r.useEffect((()=>{v&&(p({[a]:h?.[a]||y?.id||""}),f(!1))}),[h,v,a,y?.id,p]);const m=g?.find((e=>e.id===h?.[a]))||y;return(0,d.BX)(d.HY,{children:[(0,d.tZ)(c,{children:(0,d.tZ)(l.ZP,{text:Z})}),(0,d.tZ)(i.Z,{options:g,value:m?[m]:[],onChange:e=>{p({[a]:e?.value?.[0]?.id||""}),u(!1)},searchable:!1,clearable:!1,overrides:{DropdownListItem:{style:e=>{let{$theme:t}=e;return{padding:`${t.sizing.scale550} ${t.sizing.scale600}`}}},SelectArrow:{props:{overrides:{Svg:{style:e=>{let{$theme:t}=e;return{color:t.colors.contentTertiary}}}}}}}})]})};var h=o(11841),p=o(59210),_=o(14016),v=o("__fusion__1104");const f=(0,a.zo)("div",(e=>{let{$theme:t}=e;return{display:"flex",alignItems:"center",justifyContent:"center",color:t.colors.backgroundNegative}})),g=e=>{let{textInputProperty:t,name:o,shouldHighlightRequired:i}=e;const{addressInfo:n,setAddressInfo:l}=(0,s.a8)(),{defaultValue:a,placeholder:c,title:u,allowEmpty:g}=t||{},[y,Z]=r.useState(!0),m=(0,_.T)(),T=g?null:m("location_manager.input_field_required");return r.useEffect((()=>{y&&(l((e=>({...e,[o]:n?.[o]??a}))),Z(!1))}),[n,a,y,o,l]),(0,d.BX)("div",{children:[(0,d.BX)(p.Uc,{paddingBottom:"scale300",children:[u," ",T]}),(0,d.tZ)(h.Z,{name:o,value:n?.[o]??a,endEnhancer:g||n?.[o]||!i?null:(0,d.tZ)(f,{children:(0,d.tZ)(v.default,{size:"20px"})}),onChange:e=>l((t=>({...t,[o]:e?.target?.value}))),placeholder:c||""})]})};var y=o(72238),Z=o(21322),m=o("__fusion__686"),T=o(58679),E=o("__fusion__690"),I=o("__fusion__1493"),b=o("__fusion__1872"),C=o("__fusion__1333"),L=o("__fusion__1307"),S=o("__fusion__1519"),R=o("__fusion__805"),O=o("__fusion__1185"),N=o("__fusion__645"),D=o("__fusion__619"),A=o("__fusion__831");const P=(0,a.zo)("div",(e=>{let{$theme:t}=e;return{marginBottom:t.sizing.scale300}})),x=(0,a.zo)("div",{display:"flex",flexDirection:"column"}),w=e=>{let{dropDownInputProperty:t,initialResidenceType:o,name:i,setShouldHighlightRequired:c}=e;const{addressInfo:u,setAddressInfo:p}=(0,s.a8)(),{getSelectOptionsFromDropDownInputProperty:_}=(0,n.X)(),[v,f]=r.useState(!0),[,g]=(0,a.hQ)(),[w,B]=r.useState(!1),{options:M,selectedOption:z,selectLabel:U}=_({dropDownInputProperty:t,initialResidenceType:o}),k="residenceTypePayload"===t?.payload?.type?t?.payload?.residenceTypePayload?.title:null,H="residenceTypePayload"===t?.payload?.type?t?.payload?.residenceTypePayload?.subTitle:null;r.useEffect((()=>{v&&(p({[i]:u?.[i]||z?.id||""}),f(!1))}),[u,v,i,z?.id,p]);const V=M?.find((e=>e.id===u?.[i]))||z,$={HOUSE:{outlined:()=>(0,d.tZ)(I.default,{color:g.colors.contentTertiary,size:20}),filled:()=>(0,d.tZ)(R.default,{size:20})},APARTMENT_BUILDING:{outlined:()=>(0,d.tZ)(b.default,{color:g.colors.contentTertiary,size:20}),filled:()=>(0,d.tZ)(O.default,{size:20})},BUSINESS:{outlined:()=>(0,d.tZ)(C.default,{color:g.colors.contentTertiary,size:20}),filled:()=>(0,d.tZ)(N.default,{size:20})},HOTEL:{outlined:()=>(0,d.tZ)(L.default,{color:g.colors.contentTertiary,size:20}),filled:()=>(0,d.tZ)(D.default,{size:20})},OTHER:{outlined:()=>(0,d.tZ)(S.default,{color:g.colors.contentTertiary,size:20}),filled:()=>(0,d.tZ)(A.default,{size:20})}};return(0,d.BX)(d.HY,{children:[(0,d.tZ)(P,{children:(0,d.tZ)(l.ZP,{text:U})}),(0,d.tZ)("div",{onClick:()=>B(!0),children:(0,d.tZ)(h.Z,{value:V?.label,readOnly:!0,endEnhancer:(0,d.tZ)(E.default,{size:"18px",color:g.colors.contentTertiary})})}),(0,d.BX)(T.R1,{isOpen:w,onClose:()=>B(!1),closeable:!0,children:[(0,d.tZ)(T._g,{children:(0,d.BX)(x,{children:[k?(0,d.tZ)(l.ZP,{text:k}):null,H?(0,d.tZ)(l.ZP,{text:H}):null]})}),(0,d.tZ)("ul",{children:M?.map((e=>{const t=V?.id===e?.id,o=t?"filled":"outlined";return(0,d.tZ)(y.Z,{onClick:()=>{p({[i]:e?.id||""}),c(!1),B(!1)},artwork:$?.[e?.id]?.[o],endEnhancer:()=>t?(0,d.tZ)(m.default,{size:20}):null,overrides:{Content:{style:{padding:"0"}}},children:(0,d.tZ)(Z.Z,{children:e.label})},e.id)}))})]})]})};var B=o(5639);const M=(0,a.zo)("div",(e=>{let{$theme:t}=e;return{marginTop:t.sizing.scale300}})),z=e=>{let{getAddressEntryFormPayload:t,shouldHighlightRequired:o,setShouldHighlightRequired:r}=e;const{isMobile:i}=(0,B.hU)(),{residenceTypeFieldsMap:n,initialResidenceType:a}=t?.form||{},{addressInfo:c}=(0,s.a8)();return(n?.[c?.RESIDENCE_TYPE||a||"OTHER"]||{})?.rows?.map((e=>{if("LABEL"===e?.fields?.[0]?.type&&"labelProperty"===e.fields?.[0]?.property?.type)return(0,d.tZ)(M,{children:(0,d.tZ)(l.ZP,{text:e.fields?.[0]?.property?.labelProperty?.titleRichText})});if("DROP_DOWN"===e?.fields?.[0]?.type&&"dropDownInputProperty"===e?.fields?.[0]?.property?.type){const t=e?.fields?.[0]?.property?.dropDownInputProperty,o=e?.fields?.[0]?.key?.addressFieldKey||"";return(0,d.tZ)(M,{children:i?(0,d.tZ)(w,{name:o,dropDownInputProperty:t,initialResidenceType:a,setShouldHighlightRequired:r},o):(0,d.tZ)(u,{name:o,dropDownInputProperty:t,initialResidenceType:a,setShouldHighlightRequired:r},o)})}if("TEXT_INPUT"===e?.fields?.[0]?.type&&"textInputProperty"===e?.fields?.[0]?.property?.type){const t=e?.fields?.[0]?.property?.textInputProperty,r=e?.fields?.[0]?.key?.addressFieldKey||"";return(0,d.tZ)(M,{children:(0,d.tZ)(g,{name:r,textInputProperty:t,shouldHighlightRequired:o},r)})}}))}},9242:(e,t,o)=>{"use strict";o.d(t,{Z:()=>u});var r=o(46933),i=o(40832),n=o(32857),l=o(68065),a=o(13218),s=o(97130),d=o(33535),c=o(59924);const u=e=>{let{onAddressSaved:t,selectedDeliveryLocationV2:o,label:u,setShouldHighlightRequired:h,getAddressEntryFormPayload:p,isMobile:_}=e;const v=(0,d.ZP)(),{saveChanges:f,isLoading:g,deliveryInstructionV2:y,addressInfo:Z}=(0,i.a8)(),{getUpsertDeliveryLocationRequestV2:m}=(0,s.X)(),T=Z?.RESIDENCE_TYPE||"",E=p?.form?.residenceTypeFieldsMap?.[T]?.rows,I=m({addressInfo:Z,deliveryLocation:o,deliveryInstruction:y,label:u}),b=(0,a._W)(o?.location,o?.personalPayload);return(0,c.tZ)(n.Z,{"data-test":"save-address",disabled:!o||g,size:_?l.NO.large:l.NO.default,overrides:{BaseButton:{style:{width:_?"100%":"auto"}}},onClick:()=>{v("eats:edit_address_v2_submit_click"),E?.reduce(((e,t)=>{const o=t?.fields?.[0],r=o?.property?.textInputProperty?.allowEmpty;if("TEXT_INPUT"===o?.type&&!r){const e=o?.key?.addressFieldKey;if(e&&!Z?.[e])return!0}return e}),!1)?h(!0):f((()=>{b&&t(b)}),{overrideLocationDraft:b,addressLabel:u,upsertDeliveryLocationRequestPayload:I})},children:(0,c.tZ)(r.v,{id:"shared.save"})})}},46700:(e,t,o)=>{"use strict";o.d(t,{Z:()=>c});var r=o(1765),i=o(32857),n=o(68065),l=o(14016),a=o(91931),s=o(59924);const d=(0,a.zo)("div",(e=>{let{$theme:t}=e;return{overflow:"hidden",borderRadius:t.sizing.scale300}})),c=e=>{let{coordinates:t,onClick:o}=e;const a=(0,l.T)();return(0,s.tZ)(d,{children:(0,s.tZ)(r.Z,{noZoomOnMouseWheelScroll:!0,coordinates:t,zoom:18,height:"148px",draggable:!1,showZoomButtons:!1,actionButton:(0,s.tZ)(i.Z,{"data-testid":"drop-off-entry-button",onClick:o,kind:n.TO.tertiary,size:n.NO.compact,shape:n.X3.pill,overrides:{BaseButton:{style:e=>{let{$theme:t}=e;return{backgroundColor:t.colors.backgroundPrimary,marginBottom:t.sizing.scale600}}}},children:a("location_manager.map_entry_point_button_title")})})})}},1765:(e,t,o)=>{"use strict";o.d(t,{Z:()=>m});var r=o("__fusion__476"),i=o(67007),n=o(55318),l=o(51325),a=o(91931),s=o(54612),d=o(42463),c=o("__fusion__674"),u=o(70401),h=o(65717),p=o(59924);function _(e){const t=["maps-sdk-map-controls-locate-me","maps-sdk-map-controls-zoom-in","maps-sdk-map-controls-zoom-out"],o=e.target;if(o&&"closest"in o&&"function"==typeof o.closest)for(const e of t)if(o.closest(`[name="${e}"]`))return!0;return!1}const v=(0,a.zo)("div",{alignItems:"center",bottom:"0px",display:"flex",flexDirection:"column",justifyContent:"center",left:"0px",pointerEvents:"none",position:"absolute",right:"0px",top:"0px"}),f=(0,a.zo)("div",{height:"100%",width:"100%",position:"relative"}),g=(0,a.zo)("div",{top:0,position:"absolute",height:"100%",width:"100%"}),y=(0,a.zo)("div",{height:"100%",width:"100%",display:"flex",justifyContent:"center",alignItems:"flex-end"}),Z=e=>e.stopPropagation(),m=e=>{const t=225+((0,h.Z)()?0:56),[o,m]=(0,a.hQ)(),T=(0,i.q)(),[E,I]=r.useState(!1),[b,C]=r.useState(!1),L=r.useRef(null),[S,R]=r.useState({longitude:e.coordinates?.longitude||0,latitude:e.coordinates?.latitude||0,zoom:e.zoom||15,transitionDuration:300}),O=e.pinConstraints?.maxRadiusMeters||0,N=e.pinConstraints?.centerCoordinate?.longitude||0,D=e.pinConstraints?.centerCoordinate?.latitude||0,A=()=>{if(!L.current)return 0;const e=L.current.getMercatorViewport();if(!e)return 0;const t=e.getDistanceScales().metersPerUnit[0]/Math.pow(2,S.zoom);return O/t},P={coordinates:[N,D],content:(0,p.tZ)("div",{className:o({position:"absolute",transform:"translate(-50%, -50%)",width:2*A()+"px",height:2*A()+"px",borderRadius:"100%",border:`2px solid ${E?m.colors.negative:m.colors.primaryA}`,zIndex:"0"})}),provider:n.a.uber},x=r.useCallback((t=>{_(t)||(w.current.cancel(),e.draggable&&(C(!0),e.setCanSubmit?.(!1)))}),[e]),w=r.useRef((0,u.Z)((()=>{C(!1)}),300)),B=r.useCallback((e=>{_(e)||(w.current.cancel(),w.current())}),[]),M=r.useCallback((()=>{R({longitude:N,latitude:D,zoom:e.zoom||15,transitionDuration:300})}),[D,N,e.zoom]);return r.useEffect((()=>{e.pinConstraints&&((e,t,o,r)=>{const i=e*Math.PI/180,n=o*Math.PI/180,l=(o-e)*Math.PI/180,a=(r-t)*Math.PI/180,s=Math.sin(l/2)*Math.sin(l/2)+Math.cos(i)*Math.cos(n)*Math.sin(a/2)*Math.sin(a/2);return 2*Math.atan2(Math.sqrt(s),Math.sqrt(1-s))*6371e3})(D,N,S.latitude,S.longitude)>O?(I(!0),e.setCanSubmit?.(!1)):b||(I(!1),e.setCanSubmit?.(!0))}),[D,N,b,E,O,e,S.latitude,S.longitude]),T.data?(0,p.tZ)("div",{className:o({height:e.isMobileFullscreen?`calc(${e.height} - ${t}px)`:e.height,position:e.isMobileFullscreen?"fixed":"static",width:"100%"}),onPointerDown:x,onPointerUp:B,children:(0,p.BX)(f,{...e.noZoomOnMouseWheelScroll?{onWheelCapture:Z}:{},children:[(0,p.tZ)(l.Y,{ref:L,viewState:S,...e.draggable?{onClickLocateMe:M}:null,onViewStateChange:e.draggable?function(){const t=arguments.length<=0?void 0:arguments[0];R(t),e.onChange?.({longitude:t.longitude,latitude:t.latitude})}:null,overrides:{MapControls:{LocateMeButton:{icon:c.default}}},showZoomButtons:e.showZoomButtons,isLoadingLocation:!1,sessionId:T.data||"",theme:m.colors.colorPreference,onWheelCapture:e=>{"number"==typeof e.deltaY&&0!==e.deltaY&&(e.preventDefault(),e.stopPropagation(),R({...S,transitionDuration:300,zoom:S.zoom-e.deltaY/200}))},overlays:[[P]]}),(0,p.tZ)(v,{children:(0,p.tZ)(s.Z,{size:b||!e.draggable?d.x5.xSmallCircle:d.x5.medium,dragging:b,needle:e.draggable?d.dC.tall:d.dC.short,...E?{kind:d.TO.negative}:{},overrides:{Root:{style:{transform:"translate(0%, -70%)"}}},label:b?"":e.markerLabel})}),e.actionButton?(0,p.tZ)(g,{children:(0,p.tZ)(y,{children:e.actionButton})}):null]})}):null}},3899:(e,t,o)=>{"use strict";o.d(t,{Z:()=>p});var r=o(46933),i=o(79851),n=o(95747),l=o(91931),a=o(32857),s=o(68065),d=o(59924);const c=(0,l.zo)("div",(e=>{let{$theme:t}=e;return{display:"flex",alignItems:"center",justifyContent:"center",marginBottom:t.sizing.scale600,...t.typography.HeadingXSmall}})),u=(0,l.zo)("div",(e=>{let{$theme:t}=e;return{marginBottom:t.sizing.scale600,...t.typography.ParagraphLarge}})),h=(0,l.zo)("div",(e=>{let{$theme:t}=e;return{display:"flex",flexDirection:"column",gap:t.sizing.scale300}}));function p(e){let{onKeepAddress:t,onRemoveAddress:o}=e;const l=(0,i.Z)(),p=(0,n.Z)();return(0,d.BX)(d.HY,{children:[(0,d.tZ)(c,{children:(0,d.tZ)(r.v,{id:"components.address_entry.remove_confirmation"})}),(0,d.tZ)(u,{children:(0,d.tZ)(r.v,{id:"shared.action_undone_confirmation"})}),(0,d.BX)(h,{children:[(0,d.tZ)(a.Z,{onClick:()=>{o(),p(l)},children:(0,d.tZ)(r.v,{id:"shared.remove"})}),(0,d.tZ)(a.Z,{kind:s.TO.secondary,onClick:t,children:(0,d.tZ)(r.v,{id:"components.address_entry.keep_address"})})]})]})}},59696:(e,t,o)=>{"use strict";o.d(t,{F:()=>n});var r=o(89151),i=o(62459);function n(){const e=(0,i.Z)("clearDeliveryLocationV1"),t=(0,r.useQueryClient)();return(0,r.useMutation)((t=>e.request("clearDeliveryLocationV1",t)),{onSuccess:()=>{t.invalidateQueries("getDeliveryLocationsV2")}})}},896:(e,t,o)=>{"use strict";o.d(t,{Z:()=>h});var r=o(74369),i=o(69420),n=o(94813),l=o(47986),a=o(87444),s=o(54176),d=o(64282),c=o(33535);const u="uev2.venue-popover",h=e=>{const t=(0,i.k6)(),o=(0,n.TH)(),{feed:h}=(0,s.Z)(),p=(0,c.ZP)(),_=(0,d._)(),[v,f]=(0,r.useState)(Boolean(_.get(u).sent));let g=h.data?.venueInfo?.rootSection?.uuid??"";if(e){const e=document.querySelector("messaging-carousel-autoplay")?.querySelector("a")?.href??"";g=e?.split("venueUUID=")[1]??""}const y=(0,a.Z)("eats_at_venues")&&Boolean(g)&&!v,Z=(0,r.useCallback)((()=>{f(!1),_.remove(u)}),[_]);return{showVenueEntryPopover:(0,r.useCallback)((()=>{p("eats:venues_welcome_automated_popover_impression",{venueUuid:g}),f(!0),_.set(u,{sent:!0},86400);const e=(0,l.Dc$)(o,g);t.push(e)}),[p,g,_,t,o]),shouldShowVenueEntryPopover:y,flushVenuePopoverState:Z,sentVenuePopover:v}}},92717:(e,t,o)=>{"use strict";o.d(t,{z:()=>l});var r=o(89151),i=o(2237),n=o(62459);function l(e,t){const o=(0,n.Z)("getAddressEntryFormV2"),l=(0,i.H)("getAddressEntryFormV2",e);return(0,r.useQuery)({queryKey:l,queryFn:e=>{let{queryKey:t}=e;return o.request("getAddressEntryFormV2",t[1])},...t?.queryObserverOptions})}},79609:(e,t,o)=>{"use strict";o.d(t,{Z:()=>b});var r=o(74369),i=o(15070),n=o(44369),l=o(93042),a=o(69420),s=o(47986),d=o(53614),c=o(46668),u=o(78284),h=o(20568),p=o(55758),_=o(30403),v=o(70496),f=o(68094),g=o(896),y=o(94813),Z=o(95698),m=o(4865),T=o(89151),E=o(2237),I=o(62459);const b=e=>{const t=(0,p.d)(),o=(0,v.Z)(),b=(0,r.useContext)(d.v),C=(0,y.TH)(),L=(0,a.k6)(),S=(0,f.Z)(),[R,O]=(0,r.useState)(e.deliveryLocation),[N,D]=(0,r.useState)(e.deliveryLocation),[A,P]=(0,r.useState)(c.E),[x,w]=(0,r.useState)(!1),[B,M]=(0,r.useState)(S),{deliveryInstructions:z}=(0,_.Z)(N),U=(0,i.v)((e=>{let{user:t}=e;return t.data?.isLoggedIn||!1})),[k,H]=(0,r.useState)(Boolean(e.isEditMode)),{resetCoordinates:V}=(0,Z.Z)(),{sentVenuePopover:$,flushVenuePopoverState:X}=(0,g.Z)(),F=function(e,t){const o=(0,I.Z)("getDeliveryLocationsV2"),r=(0,E.H)("getDeliveryLocationsV2",e);return(0,T.useQuery)({queryKey:r,queryFn:e=>{let{queryKey:t}=e;return o.request("getDeliveryLocationsV2",t[1])},...t?.queryObserverOptions})}({locationTypes:["SUGGESTED"]},{queryObserverOptions:{enabled:U,staleTime:0}}),[G,W]=(0,r.useState)(null),q=(0,r.useCallback)((e=>{if(!e?.data?.deliveryLocations?.SUGGESTED||e?.isLoading||e?.error)e?.isLoading||P({data:null,hasLoaded:!0,isLoading:!1,error:e?.error||""});else{const t=(0,m.BU)(e?.data?.deliveryLocations.SUGGESTED);P({data:t,hasLoaded:!0,isLoading:!1,error:null})}}),[]),Y=(0,r.useCallback)((e=>{D(e),O(e),w(!1)}),[]),K=(0,r.useCallback)((e=>{O(e)}),[]),j=(0,r.useCallback)((e=>{M(e)}),[]),Q=(0,r.useCallback)((t=>{const o=t||R;if(!o||!o.address)return;if(e.disableRedirectToFeed)return;$&&X(),V();!(0,s.nyP)(C)&&b&&L.goBack(),L.replace(function(e,t,o){const r=(0,s.nyP)(e),i=r&&(0,s.v4Q)(r);if(i){const r=(0,l.Z)(i.search,["pl","lat","lng","d","st","et","next"]);return{pathname:i.path,search:`${n.stringify({...r,...t?{pl:(0,u.aj)((0,u.VN)(t))}:{},..."scheduled"in o?{d:o.date,st:o.startTime,et:o.endTime}:{}})}`,...e.state&&e.state.persistState?{state:e.state}:{}}}return(0,s.dat)(e,{deliveryLocation:t,..."scheduled"in o?{time:o}:{}})}(C,o,B))}),[b,L,C,R,B,e.disableRedirectToFeed,$,X,V]);(0,r.useEffect)((()=>{U&&!F?.isLoading&&q(F)}),[t,U,F?.isLoading,F?.data]);const J=(0,r.useCallback)((e=>{const t=e||R;o(t,B),Q(t)}),[o,R,B,Q]),ee=(0,h.Z)("clearDeliveryLocationV1",{continueOnUnmount:!0}),te=(0,r.useCallback)((()=>R?ee({placeId:R.reference,provider:R.referenceType}).then((()=>{A.data&&(P({...A,data:A.data.filter((e=>e.address.reference!==R.reference))}),H(!1))})):Promise.resolve()),[R,ee,A,P,H]);return{selectedDeliveryLocation:R,ephemeralLocation:N,ephemeralLocationInstruction:z,isEphemeralLocationTagged:x,taggedLocations:A,onLocationSelected:K,onTypeaheadLocationSelected:Y,selectedTimeOption:B,onTimeOptionSelected:j,isLoggedIn:U,onDone:Q,saveDeliveryDetailsLoggedOut:J,showDeliveryDetails:k,setShowDeliveryDetails:H,removeTaggedLocation:te,deliveryLocationsV2:F,setTaggedLocationsWithDeliveryLocations:q,selectedDeliveryLocationV2:G,setSelectedDeliveryLocationV2:W}}},45142:(e,t,o)=>{"use strict";o.d(t,{Z:()=>i});var r=o(14016);function i(){const e=(0,r.T)();return t=>{switch(t){case"leave_at_door":return e("shared.deliverymethod.leave_at_door");case"curbside":return e("shared.deliverymethod.meet_outside");case"leave_inside_building_door":return e("shared.deliverymethod.leave_inside_building_door");case"leave_in_lobby":return e("shared.deliverymethod.leave_in_lobby");case"meet_in_lobby":return e("shared.deliverymethod.meet_in_lobby");default:return e("shared.deliverymethod.meet_at_door")}}}},43978:(e,t,o)=>{"use strict";o.d(t,{Z:()=>a});var r=o(74369),i=o(14016),n=o(32711),l=o(39697);const a=e=>{const t=(0,i.T)(),{fetchLocations:o,handleLocationSelected:a,areLocationDetailsLoading:s,placeholder:d}=(0,n.Z)({onLocationSelected:e?.onLocationSelected,onLocationSelectedV2:e?.onLocationSelectedV2,overrideDiningMode:e.overrideDiningMode}),c=e=>a(e),u=(e,t)=>{const o=t?.[0];o&&c(o)},h=r.useCallback((e=>{let{results:o,query:r}=e;return 0===o.length?r?t("components.DeliveryLocationSearch.noResults"):"":r?t("components.MarketplaceSearch.resultsDescription",{numResults:o.length,searchTerm:r}):t("shared.searchResultsCount",{resultsCount:o.length})}),[]),{query:p,results:_,getLabelProps:v,getInputProps:f,getMenuProps:g,getItemProps:y,reset:Z,highlightedIndex:m,isOpen:T,openMenu:E}=(0,l.Z)({id:`location-typeahead-${e.id}`,initialQuery:e.initialQuery,fetchResults:e=>o(e),onResultSelected:c,getQueryFromResult:e=>e&&e?.addressLine1||"",initialIsClosed:e.initialIsClosed,onEnterKeyWithNoSelectedResult:u,getA11yStatusMessage:h});return{query:p,locations:_,getLabelProps:v,getInputProps:f,getMenuProps:g,getItemProps:y,reset:Z,highlightedIndex:m,placeholder:d,isLoading:s||_.isLoading,showTryAgainMessage:Boolean(p&&_.hasLoaded&&_.data&&0===_.data.length),isOpen:T,openMenu:E,onSubmitWithNoSelectedResult:u}}},19551:(e,t,o)=>{e.exports=o.p+"8cedf4ca3ce1ae00.svg"},93042:(e,t,o)=>{"use strict";o.d(t,{Z:()=>r});var r=function(e,t){var o={};"string"==typeof t&&(t=[].slice.call(arguments,1));for(var r in e)e.hasOwnProperty&&!e.hasOwnProperty(r)||-1===t.indexOf(r)&&(o[r]=e[r]);return o}}}]);