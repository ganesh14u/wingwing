"use strict";(self.webpackChunkFusion=self.webpackChunkFusion||[]).push([[46231],{45481:(e,t,i)=>{i.d(t,{Z:()=>p});var r=i(46933),o=i(91931),n=i(6319),a=i(8961),l=i(67206),s=i(49235),d=i(74475),c=i(59924);const u=(0,o.zo)("div",(e=>{let{$theme:t,$isGrocery:i}=e;return{...i?t.typography.HeadingXSmall:t.typography.DisplayBold4XSmall,marginBottom:`${s.lS}px`}})),g=(0,o.zo)("div",{display:"flex",columnGap:"24px"}),m=(0,o.zo)("div",(e=>{let{$theme:t}=e;return{...(0,l.Z)({height:136,$theme:t}),width:"50%",borderRadius:"12px"}})),p=e=>{let{catalogSection:t,feedIndex:i,isShipmentStore:o,isGrocery:l}=e;const s=(0,a.Z)();if("eaterMessagingPayload"!==t.type||!t.eaterMessagingPayload?.eaterMessage)return null;const{eaterMessage:p}=t.eaterMessagingPayload,h="cardCarousel"===p?.payload?.type&&1===p.payload.cardCarousel?.carouselItems?.length;return(0,c.BX)(d.Z,{children:[o&&h?null:(0,c.tZ)(u,{$isGrocery:l,children:(0,c.tZ)(r.v,{id:"eaterMessage.storefront.headline.v2"})}),s?(0,c.tZ)(n.Z,{eaterMessage:p,feedIndex:i}):(0,c.BX)(g,{children:[(0,c.tZ)(m,{}),(0,c.tZ)(m,{})]})]})}},80363:(e,t,i)=>{i.d(t,{Z:()=>de});var r=i(74369),o=i(69420),n=i(94813),a=i(91931),l=i(14016),s=i(46933),d=i(32857),c=i(68065),u=i(47870),g=i("__fusion__577"),m=i("__fusion__589"),p=i(29194),h=i(75514),y=i(22250),S=i(28984),U=i(43832),Z=i(59924);const f=(0,a.zo)("div",(e=>{let{$theme:t}=e;return{maxWidth:"100%",width:"100%",overflow:"hidden",padding:`0 ${t.sizing.scale100}`,marginBottom:t.sizing.scale850}})),C=(0,a.zo)("img",(e=>{let{$theme:t}=e;return{width:t.sizing.scale800,height:t.sizing.scale800,borderRadius:"50%",objectFit:"cover"}})),b=(0,a.zo)("span",(e=>{let{$theme:t}=e;return{overflow:"hidden",textOverflow:"ellipsis",...t.typography.LabelSmall}})),v=e=>{if(!h.Z?.getComputedStyle||!e)return 0;const t=h.Z.getComputedStyle(e);return e.getBoundingClientRect().width+parseFloat(t.marginLeft)+parseFloat(t.marginRight)},k=e=>{let{bundleStores:t=[],selectedIndex:i=0,onSelectedIndexChange:o,onSeeAllClick:n}=e;const a=(0,r.useMemo)((()=>t.filter((e=>Boolean(e.storeUuid)))),[t]),[h,k]=(0,r.useState)(a),[I,w]=(0,r.useState)(!0),x=(0,p.gm)(),D=(0,r.useRef)(null),A=(0,r.useRef)([]),B=(0,r.useRef)(0),{windowWidth:P}=(0,y.Z)(),$=(0,l.T)(),{onBundleCatalogSectionStorePillsScrolled:_}=(0,S.Z)(),{storeUuid:z}=(0,U.QT)();return(0,r.useLayoutEffect)((()=>{const e=((e,t,i)=>{if(!e||!t||0===t?.length)return 0;const r=e.getBoundingClientRect().width;let o=i||0;for(let e=0;e<t.length;e++)if(o+=t[e]||0,o>r)return e;return t.length})(D.current,A.current,B.current);k(a.slice(0,e)),w(e<a.length)}),[a,P]),(0,Z.tZ)(f,{ref:D,onScroll:()=>_({primaryStoreUuid:z,bundleStores:a}),children:(0,Z.BX)(u.Z,{size:c.NO.mini,shape:c.X3.pill,selected:i,overrides:{Root:{style:{display:"inline-flex"}}},children:[h.map(((e,t)=>(0,Z.tZ)(d.Z,{"data-testid":`bundle-store-${e.storeUuid}`,ref:e=>{e&&(A.current[t]=v(e))},onClick:()=>o(t),startEnhancer:e.imageUrl?(0,Z.tZ)(C,{src:e.imageUrl,alt:e.titleV2||$("online_ordering.logo.alt_text")}):null,overrides:{BaseButton:{style:e=>{let{$theme:t}=e;return{maxWidth:"200px",overflow:"hidden",whiteSpace:"nowrap",marginRight:t.sizing.scale300,justifyContent:"flex-start",flexGrow:1}}}},children:(0,Z.tZ)(b,{children:e.titleV2})},e.storeUuid))),(0,Z.tZ)(d.Z,{ref:e=>B.current=v(e),kind:c.TO.secondary,overrides:{BaseButton:{style:e=>{let{$theme:t}=e;return{paddingLeft:t.sizing.scale500,paddingRight:t.sizing.scale500,whiteSpace:"nowrap",visibility:I?"visible":"hidden"}}}},endEnhancer:"ltr"===x?(0,Z.tZ)(m.default,{color:"buttonSecondaryText"}):(0,Z.tZ)(g.default,{color:"buttonSecondaryText"}),onClick:n,children:(0,Z.tZ)(b,{children:(0,Z.tZ)(s.v,{id:"see_all_stores"})})},"see-more")]})})};var I=i("__fusion__476"),w=i(96911),x=i(66931),D=i(29217),A=i(21266),B=i(32762);const P=(0,a.zo)("div",{display:"block",position:"relative"}),$=(0,a.w1)(x.im,{overflowY:"hidden",margin:"-16px"}),_=(0,a.w1)(x.T3,{display:"flex",padding:"16px",boxSizing:"border-box"}),z=(0,a.w1)(D.ZP,{width:"100%"}),T=e=>({top:"50%",width:e.sizing.scale950,height:e.sizing.scale950,background:e.colors.primaryB,boxShadow:"0px 4px 16px rgba(0, 0, 0, 0.12)",borderRadius:"50%",cursor:"pointer",display:"flex",justifyContent:"center",alignItems:"center",transform:"translateY(-50%)"}),R=e=>({left:`calc(-1 * ${e.sizing.scale950}/2)`}),E=e=>({right:`calc(-1 * ${e.sizing.scale950}/2)`}),O=(0,a.zo)("button",(e=>{let{$theme:t,direction:i}=e;return{position:"absolute",..."rtl"===i?R(t):E(t),...T(t)}})),L=(0,a.zo)("button",(e=>{let{$theme:t,direction:i}=e;return{position:"absolute",..."rtl"===i?E(t):R(t),...T(t)}})),M=e=>{let{primaryStoreUuid:t,storeUuid:i,storeCatalogEventMeta:o,catalogItems:n,children:a}=e;const l=(0,p.gm)(),s=I.useRef(!1),d=a?.length||0,{emitStoreCatalogScrollEvent:c}=(0,A.Z)(o),{onCatalogSectionItemListScrolled:u}=(0,S.Z)(),{desktopFeatures:h}=(0,B.Z)(),y=h.overwriteHorizontalGridColumns?h.horizontalGridColumns:5,U=I.useCallback((()=>{s.current||(c(),u({primaryStoreUuid:String(t||""),secondaryStoreUuid:String(i||""),bundleItems:n}),s.current=!0)}),[u,c,n,t,i]),{containerRef:f,getPageChunks:C,getPageProps:b,isPreviousPageDisabled:v,isNextPageDisabled:k,handlePageChange:x,supportsScrollSnapping:D}=(0,w.Z)({scrollOffset:24});(0,r.useEffect)((()=>{if(!f.current?.getBoundingClientRect)return;const e="rtl"===l?f.current.getBoundingClientRect().width:0;f.current.scrollLeft=e}),[l,f,i]);const T=C(a||[],y),R=d>y;return(0,Z.BX)(P,{children:[(0,Z.tZ)($,{ref:f,$supportsScrollSnapping:D,onScroll:U,children:T.map(((e,t,i)=>(0,Z.tZ)(_,{$pageMargin:24,...b(t,i.length),children:(0,Z.tZ)(z,{$as:"ul",$numColumns:y,children:e})},t)))}),!k&&R?(0,Z.tZ)(O,{onClick:e=>{e.stopPropagation(),x("forward")},direction:l,children:"rtl"===l?(0,Z.tZ)(g.default,{}):(0,Z.tZ)(m.default,{})}):null,!v&&R?(0,Z.tZ)(L,{onClick:e=>{e.stopPropagation(),x("back")},direction:l,children:"rtl"===l?(0,Z.tZ)(m.default,{}):(0,Z.tZ)(g.default,{})}):null]})};var V=i(95427),Q=i(7978),q=i(4864),G=i(6703),F=i(47986),X=i(15070),N=i(24316),H=i(22208);const Y=e=>{const t=(0,n.TH)(),{currentStoreDraftOrderUUID:i}=(0,N.Z)(),{syncItems:r,quantities:o}=(0,X.v)((e=>e.quickAdd)),{cartCountSummary:a,cartCountDecimalsSummary:l}=(0,q.F7)(e.storeUuid),{uuid:s,sectionUuid:d,subsectionUuid:c}=e.item,u=e.item.slug||e.storeSlug;if(!(s&&d&&c&&u))return null;const g=a[s]??0,m=l[s]??null,p=Boolean(e.syncToCart||r[s]),h=o[s]??(0,G.bN)(),y=i||void 0,S=e.redirectToQuickViewModal?(0,F.f_e)(t,{storeUuid:e.storeUuid,sectionUuid:d,subsectionUuid:c,itemUuid:s,showSeeDetailsCTA:e.showQuickViewSeeDetailsCTA,...e.primaryBundledStoreUuid&&{primaryBundledStoreUuid:e.primaryBundledStoreUuid,primaryDraftOrderUUID:y,entryPoint:H.x9.BUNDLE_CAROUSEL}},H.x9.BUNDLE_CAROUSEL):(0,F.yz4)({location:t,args:{storeUuid:e.storeUuid,storeSlug:u,sectionUuid:d,subsectionUuid:c,itemUuid:s,...e.primaryBundledStoreUuid&&{primaryBundledStoreUuid:e.primaryBundledStoreUuid,primaryDraftOrderUUID:y,entryPoint:H.x9.BUNDLE_CAROUSEL}},previousContext:H.x9.BUNDLE_CAROUSEL});return(0,Z.tZ)(Q.Z,{item:e.item,storeUuid:e.storeUuid,sectionUuid:d,subsectionUuid:c,catalogSectionUuid:e.catalogSectionUuid,cartItemCount:g,cartItemDecimalCount:m,syncItemQuantity:p,quickAddCount:h,quickAddDisabled:e.quickAddDisabled,catalogSectionType:e.catalogSectionType,isOpen:e.isOpen,quickAddSource:e.quickAddSource,onLowAvailabilityAlternateItemClick:e.onLowAvailabilityAlternateItemClick,showQuickViewEntryPoint:e.showQuickViewEntryPoint,itemUrl:S,...e.onCatalogItemClickEvent?{onCatalogItemClickEvent:e.onCatalogItemClickEvent}:{},itemStyle:e.itemStyleMetadata,surface:e.surface,isGrocery:e.isGrocery,shouldHideQuickAdd:!0,primaryBundledStoreUuid:e.primaryBundledStoreUuid,isQuickView:e.redirectToQuickViewModal})};var j=i(54735),K=i(57578),W=i(31913),J=i(52298),ee=i(53514),te=i(8961),ie=i(74952),re=i(16046),oe=i(45288),ne=i(56065);const ae=(0,a.zo)("div",(e=>{let{$theme:t}=e;return{paddingBottom:t.sizing.scale600}})),le=(0,a.zo)("div",(()=>({alignSelf:"center"}))),se=(0,a.zo)("div",(e=>{let{$theme:t}=e;return{borderRadius:t.sizing.scale500,boxSizing:"border-box",padding:`${t.sizing.scale600} ${t.sizing.scale800}`,border:`2px solid ${t.colors.borderOpaque}`}})),de=e=>{let{storeUuid:t,sectionUuid:i,catalogSectionUuid:a,syncToCart:l,bundleStorePayload:s,redirectToQuickViewModal:d,showQuickViewEntryPoint:c,showQuickViewSeeDetailsCTA:u,quickAddDisabled:g,catalogSectionType:m,isOpen:p,quickAddSource:h,onCatalogItemClickEvent:y,onLowAvailabilityAlternateItemClick:U,itemStyleMetadata:f,surface:C,isGrocery:b}=e;const[v,I]=(0,r.useState)(0),w=(0,o.k6)(),x=(0,n.TH)(),D=(0,te.Z)(),{currentStoreDraftOrderUUID:A}=(0,N.Z)(),B=A||void 0,P=s.bundleStores?s.bundleStores[v]:null,$=P?.storeUuid,_=(0,ie.T_)()(),{setLastClickedPartialStore:z}=(0,r.useContext)(re.C),{registerSubsectionRef:T}=(0,ne._J)(),{onBundleCatalogSectionStorePillClick:R}=(0,S.Z)(),E=(0,ee.Z)({storeUuid:t,sectionUuid:i,selectedStoreUuid:$,bundleStorePayload:s}),O=(0,r.useCallback)((e=>{e&&a&&T(a,e)}),[a,T]);if(_.isDisabled||!s.bundleStores||!s.bundledStoreItems)return null;const L=$?s.bundledStoreItems[$]:null,Q=(L?(0,K.FA)(L):null)?.catalogItems||[],q={storeUuid:t,sectionUuid:i,catalogSectionType:m};return(0,Z.tZ)(se,{ref:O,children:(0,Z.BX)("div",{ref:E,"data-testid":"store-pcb-subsection",children:[(0,Z.BX)(ae,{children:[(0,Z.tZ)(V.Z,{title:s.title,iconUrl:s.bundleImageUrl}),s.subtitle?(0,Z.BX)(Z.HY,{children:[(0,Z.tZ)(J.P0,{}),(0,Z.tZ)(W.ZP,{text:s.subtitle})]}):null]}),D?(0,Z.tZ)(k,{selectedIndex:v,onSelectedIndexChange:e=>{I(e),R({primaryStoreUuid:t,secondaryStoreUuid:$})},bundleStores:s.bundleStores,onSeeAllClick:()=>{if(!t||!a)return;const e=(0,F.kb4)(x,{storeUuid:t,catalogSectionUuid:a});w.push(e)}}):null,$?(0,Z.tZ)(M,{storeUuid:$,storeCatalogEventMeta:q,catalogItems:Q,primaryStoreUuid:t,children:Q.map(((e,i)=>(0,Z.tZ)(Y,{item:e,storeUuid:$,catalogSectionUuid:a??"",primaryBundledStoreUuid:t,storeSlug:P.slug,syncToCart:l,redirectToQuickViewModal:d,showQuickViewEntryPoint:c,showQuickViewSeeDetailsCTA:u,quickAddDisabled:g,catalogSectionType:m,isOpen:p,quickAddSource:h,onCatalogItemClickEvent:y,onLowAvailabilityAlternateItemClick:U,itemStyleMetadata:f,surface:C,isGrocery:b},e.uuid+"-"+i))).concat((0,Z.tZ)(le,{children:(0,Z.tZ)(j.Z,{onClick:()=>{if(!P?.storeUuid||!P?.slug)return;const e=(0,F.gfM)(x,{storeUuid:P.storeUuid,storeSlug:P.slug,newQueryParams:{primaryBundledStoreUuid:t,primaryDraftOrderUUID:B,source:"primary-store"}});z((0,oe.RV)(P)),w.push(e)}})},"bundle-stores-see-all-item"))}):null]})})}},17019:(e,t,i)=>{i.d(t,{Z:()=>m});var r=i(32857),o=i(91931),n=i(87763),a=i(31913),l=i(25174),s=i(12888),d=i(26501),c=i(59924);const u=(0,o.zo)("div",(e=>{let{$theme:t}=e;return{padding:`${t.sizing.scale300} 0 ${t.sizing.scale600} 0`,display:"flex",justifyContent:"space-between",alignItems:"flex-start"}})),g=e=>{let{onClick:t,children:i}=e;return(0,c.tZ)(r.Z,{onClick:t,size:"compact",shape:"round",kind:"secondary",children:i})},m=e=>{const{aisleShortcutsRef:t}=(0,d.A)({catalogIndex:e.catalogIndex}),{aisleShortcutsCarouselRef:i}=(0,d.M)({catalogIndex:e.catalogIndex});if(!e.aisleShortcutItems||0===e.aisleShortcutItems?.length)return null;return(0,c.BX)("div",{ref:t,children:[e.title?(0,c.tZ)(u,{children:(0,c.tZ)(n.Z,{clamp:1,typographyKey:"HeadingXSmall",children:(0,c.tZ)(a.ZP,{text:e.title})})}):null,(0,c.tZ)(l.ZP,{scrollRef:i,items:e.aisleShortcutItems,renderItem:t=>{let{item:i}=t;return(0,c.tZ)(s.Z,{item:i,sectionUuid:e.sectionUuid,catalogIndex:e.catalogIndex})},renderForwardButton:e=>(0,c.tZ)(l.O0,{onButtonClick:e,direction:l.mQ.FORWARD,component:g}),renderBackButton:e=>(0,c.tZ)(l.O0,{onButtonClick:e,direction:l.mQ.BACK,component:g})})]})}},21866:(e,t,i)=>{i.d(t,{Z:()=>v});var r=i(66931),o=i(91931),n=i(96911),a=i(31913),l=i(29217),s=i(93995),d=i(45655),c=i(34911),u=i(29221),g=i(67444),m=i(59924);const p=(0,o.zo)("div",{display:"block",position:"relative"}),h=(0,o.w1)(r.im,{overflowY:"hidden",margin:"-16px"}),y=(0,o.w1)(r.T3,(e=>{let{$theme:t,$padding:i}=e;return{padding:i||t.sizing.scale600,display:"block",boxSizing:"border-box"}})),S=(0,o.zo)("div",{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"16px"}),U=(0,o.zo)("div",{display:"flex",flexDirection:"column"}),Z=(0,o.zo)("h4",(e=>{let{$theme:t}=e;return{...t.typography.HeadingSmall}})),f=(0,o.zo)("p",(e=>{let{$theme:t}=e;return{...t.typography.ParagraphMedium,color:t.colors.contentTertiary}})),C=(0,o.zo)("div",(e=>{let{$theme:t}=e;return{alignSelf:"flex-end",padding:t.sizing.scale200}})),b=24,v=e=>{let{canvasParent:t,canvasChildren:i,title:r,subtitle:o,numGridItemsPerRow:v,storeUuid:k,catalogIndex:I,withPaginationControls:w=!1,columnGap:x=b,storeCardImageEdge:D,onCarouselScroll:A,onItemClick:B}=e;const{containerRef:P,getPageChunks:$,getPageProps:_,supportsScrollSnapping:z,handlePageChange:T,isPreviousPageDisabled:R,isNextPageDisabled:E}=(0,n.Z)({scrollOffset:24}),O=$((i||[]).map(((e,i)=>{switch(e.template){case"STOREFRONT_OFFERS_CARD":return(0,m.tZ)(u.Z,{canvasData:e});case"STOREFRONT_OFFER_COMBO_CARD":return(0,m.tZ)(g.Z,{canvasData:e});default:return(0,m.tZ)(d.Z,{canvasData:e,canvasParent:t,surfaceUuid:k,index:i,imageEdge:D,onClick:()=>{B&&B(i,e)}},i)}})).filter(Boolean),v),L=(i?.length||0)>v;return(0,m.tZ)(s.Z,{canvasParent:t,storeUuid:k,catalogIndex:I,children:(0,m.BX)(p,{children:[(0,m.BX)(S,{children:[(0,m.BX)(U,{children:[r?(0,m.tZ)(Z,{children:r}):"label"===t.title?.type?(0,m.tZ)("div",{children:(0,m.tZ)(a.ZP,{text:t.title?.label?.richText})}):null,o?(0,m.tZ)(f,{children:o}):null]}),w&&L?(0,m.tZ)(C,{children:(0,m.tZ)(c.Z,{backwardEnabled:!R,forwardEnabled:!E,onPageChange:T})}):null]}),(0,m.tZ)(h,{ref:P,$supportsScrollSnapping:z,onScroll:A,children:O.map(((e,t,i)=>(0,m.tZ)(y,{$pageMargin:24,$padding:"16px",..._(t,i.length),children:(0,m.tZ)(l.ZP,{$as:"ul",$numColumns:v,$gridColumGap:x,children:e})},t)))})]})})}},50912:(e,t,i)=>{i.d(t,{Z:()=>L});var r=i("__fusion__476"),o=i(91931),n=i(65810),a=i(29217),l=i(47986),s=i(69420),d=i(94813),c=i(47091),u=i(57727),g=i(10400),m=i(32562),p=i(36278),h=i(77361),y=i(33535),S=i(37933),U=i(85907),Z=i(16797),f=i(40416),C=i(75514),b=i(84272),v=i(74031),k=i(4864),I=i(17222),w=i(55365),x=i(70329),D=i(22208),A=i(55186),B=i(54669),P=i(73472),$=i(4462),_=i(41063),z=i(34626),T=i(59924);const R=(0,o.w1)(a.bL,(e=>{let{$spanCount:t,$theme:i,$isNewVerticalGridDesign:r}=e;return{gridColumn:`span ${Math.min(2,t)}`,position:"relative",overflow:"hidden",...r?{paddingBottom:`${i.sizing.scale500}`,borderBottom:`1px solid ${i.colors.borderOpaque}`}:{border:`1px solid ${i.colors.borderOpaque}`,borderRadius:i.borders.radius400}}})),E=(0,o.zo)("div",(e=>{let{$isStoreOfdRedesignXpEnabled:t,$isMenuItemLink:i}=e;return{display:"flex",flex:1,textDecoration:"none",cursor:i?"pointer":"default",...t?{height:"auto",alignItems:"stretch"}:null,[c.k]:{height:"158px"}}})),O=(0,o.zo)("div",(e=>{let{$quickAddPosition:t,$theme:i}=e;return{position:"absolute",right:i.sizing.scale300,display:"flex",alignItems:"center",flexDirection:"row",...t===g.oN.BOTTOM_TRAILING?{bottom:i.sizing.scale300}:{top:i.sizing.scale300}}})),L=e=>{const t=(0,s.UO)(),i=(0,s.k6)(),o=(0,d.TH)(),a=(0,y.ZP)(),c=(0,S.n_)(),{setRestoreScrollPosition:g}=(0,f.Z)(),{primaryBundledStoreUuid:L,primaryDraftOrderUUID:M}=(0,b.Z)(),{storeCatalogSections:V}=(0,l.RAN)(o,["storeCatalogSections"]),Q=(0,U.F)(e.surface),q=(0,x.Z)(),{startTiming:G}=(0,P.K3)(),F="link"===q.menuItem,X=Q===D.x9.PDP_CROSS_SELL&&e.isComboFlow,N={storeCatalog:{storeUuid:e.storeUuid,sectionUuid:e.sectionUuid,subsectionUuid:e.subsectionUuid,itemUuid:e.item.uuid||"",endorsementAnalyticsTag:e.item.endorsementAnalyticsTag||"",itemPosition:e.item.catalogItemAnalyticsData?.catalogSectionItemPosition??void 0,itemDisplayType:e.item.displayType||"",catalogSectionType:e.catalogSectionType,sourceType:e.surface,catalogSectionAnalyticsData:e.catalogSectionAnalyticsData,analyticsLabel:e.item.analyticsLabel||"",...V?{originalCatalogSectionUuid:V}:null}},H={referrerItem:"",referrerItemCatalog:""};let Y={};const j=e.itemUrl??(0,l.yz4)({location:o,args:{...(0,l.WxO)(t),sectionUuid:e.sectionUuid,subsectionUuid:e.subsectionUuid,itemUuid:e.item.uuid||"",...L&&{primaryBundledStoreUuid:L,primaryDraftOrderUUID:M,entryPoint:Q}},previousContext:Q,inMemoryCartContext:H});"string"!=typeof j&&X&&(Y={...j,state:{...j?.state,previousContext:Q,inMemoryCartContext:H}});const K=(0,B.Z)(),{user:W}=(0,z.Z)(),J=X&&Object.keys(Y).length?Y:j,ee=e.item.quickAddConfig,te=ee?.position,ie=q.hasQuickAdd&&(ee?.shouldShow??!0)&&e.isOpen&&Boolean(e.item.isAvailable),re=e.item.spanCount||1,oe=r.useRef(null),ne=(0,k.ZP)(e.item.uuid||""),ae=e.cartItemCount??ne,le=(0,m.Z)(oe)&&!q.isStoreOfdRedesignXpEnabled,se=(0,w.Z)(N),de=r.useMemo((()=>({catalogSection:e.catalogSectionAnalyticsData})),[e.catalogSectionAnalyticsData]);return(0,T.tZ)(R,{ref:oe,"data-testid":`store-item-${e.item.uuid}`,$as:"li",$isNewVerticalGridDesign:e.isNewVerticalGridDesign,$spanCount:re*e.spanCountMultiplier,children:(0,T.tZ)(A.Z,{type:"login",children:t=>{let{onClick:r}=t;return(0,T.tZ)($.Z,{isEligible:!W.data?.isLoggedIn&&!K,experimentParams:_.v.storefront_auth_vs_add_nudge,children:t=>(0,T.tZ)("div",{onClick:()=>{t&&(a("eats:redirect_authentication_attempt",{source:"quick-view-item"}),r())},children:(0,T.tZ)(E,{...F?{ref:se,tabIndex:0,to:t?null:J}:{},onClick:r=>((t,r)=>{if(!F)return void a("eats:lost_store_catalog_item_tap",{storeCatalog:{storeUuid:e.storeUuid,sectionUuid:e.sectionUuid,itemUuid:e.item.uuid||""}});if(C.Z&&g(C.Z.scrollY),t.metaKey||t.ctrlKey)return;t.preventDefault();const o=e.isQuickView?"quick_view_loaded":"product_details_loaded";G(`${o}_${e.item.uuid}`,{metadata:{entryPoint:Q}}),a("eats:store_catalog_item_tap",N),e.item.itemAd&&c("ads:ads_click",{adsAnalyticsEvent:{adEventType:Z.J.CLICK,adImpressionUUID:e.item.itemAd.impressionId||"",adData:e.item.itemAd.adData||"",bidderUUID:null===e.storeUuid?void 0:e.storeUuid}}),e.emitPickedForYouSectionItemEvent?.(N),e.onCatalogItemClickEvent?.({storeUuid:e.storeUuid,itemUuid:e.item.uuid||"",position:e.resultIndex||0}),r||i.push(J)})(r,t),$as:F?I.rU:"div",$isStoreOfdRedesignXpEnabled:q.isStoreOfdRedesignXpEnabled,$isMenuItemLink:F,children:(0,T.tZ)(n.Z,{item:e.item,isHovering:le,isGrocery:e.isGrocery,isVirtualized:Boolean(e.isVirtualized),shouldForceVisible:e.shouldForceVisible,isNewVerticalGridDesign:e.isNewVerticalGridDesign,children:(0,T.BX)(O,{$quickAddPosition:te,children:[e.showQuickViewEntryPoint&&e.item.uuid?(0,T.tZ)(h.Z,{isHovering:le,item:e.item,itemUuid:e.item.uuid,storeUuid:e.storeUuid,sectionUuid:e.sectionUuid,subsectionUuid:e.subsectionUuid,surface:e.surface,catalogSectionAnalyticsData:e.catalogSectionAnalyticsData}):null,ie?(0,T.BX)(T.HY,{children:[e.showQuickViewEntryPoint?(0,T.tZ)(p.sA,{}):null,(0,T.tZ)(u.Z,{isInteractionEnabled:ee?.isInteractionEnabled??!0,storeUUID:e.storeUuid,sectionUUID:e.sectionUuid,subsectionUUID:e.subsectionUuid,catalogSectionUUID:e.catalogSectionUuid,item:e.item,cartItemCount:e.cartItemCount,syncItemQuantity:e.syncItemQuantity,quickAddCount:e.quickAddCount,disabled:e.quickAddDisabled,quickAddSource:e.quickAddSource,sourceType:e.surface,analytics:de,searchTerm:e.searchQuery})]}):ae?(0,T.BX)(T.HY,{children:[e.showQuickViewEntryPoint?(0,T.tZ)(p.sA,{}):null,(0,T.tZ)(v.Z,{count:ae})]}):null]})})})})})}})},e.item.uuid)}},76449:(e,t,i)=>{i.d(t,{Z:()=>l});var r=i(75514),o=i(74369),n=i(33535),a=i(57578);function l(e,t,i){const l=(0,n.ZP)(),s=t.every((e=>"HORIZONTAL_GRID"===e.type)),d=t.some((e=>((0,a.FA)(e)?.catalogItems||[]).some((e=>"LIST"===e.displayType)))),c=t.some((e=>((0,a.FA)(e)?.catalogItems||[]).some((e=>"GRID"===e.displayType)))),u=(0,o.useRef)(!1),g=(0,o.useCallback)((()=>{u.current||(u.current=!0,l("eats:store_view_scrolled",s?{storeCatalog:{storeUuid:e,displayType:"grid",layoutType:"horizontal",isLost:Boolean(i)}}:{storeCatalog:{storeUuid:e,displayType:d&&c?"mixed":d?"list":"grid",layoutType:"vertical",isLost:Boolean(i)}}))}),[s,l,e,d,c,i]);(0,o.useEffect)((()=>(r.Z&&r.Z.addEventListener("scroll",g),()=>{r.Z&&r.Z.removeEventListener("scroll",g)})),[g])}}}]);