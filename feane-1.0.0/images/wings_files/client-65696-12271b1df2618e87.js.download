"use strict";(self.webpackChunkFusion=self.webpackChunkFusion||[]).push([[65696],{69565:(e,t,a)=>{a.d(t,{n:()=>i});Object.freeze({UNKNOWN:"UNKNOWN",MENU:"MENU",COLLECTION:"COLLECTION"});const i=Object.freeze({UNKNOWN:"UNKNOWN",NV_L1_CAROUSEL:"NV_L1_CAROUSEL",NV_L2_CATALOG:"NV_L2_CATALOG",NV_L2_CAROUSEL:"NV_L2_CAROUSEL",SLIM_STORE_FRONT:"SLIM_STORE_FRONT",MULTISKU_PROMOTION_MODAL:"MULTISKU_PROMOTION_MODAL"})},96707:(e,t,a)=>{a.d(t,{O:()=>i});const i=Object.freeze({UNKNOWN:"UNKNOWN",MENU:"MENU",COLLECTION:"COLLECTION",CURATED_COLLECTION:"CURATED_COLLECTION",TAXONOMY_COLLECTION:"TAXONOMY_COLLECTION",AUTO_GENERATED_CAROUSEL:"AUTO_GENERATED_CAROUSEL",ELEVATED_SUBSECTION:"ELEVATED_SUBSECTION",ORDER_AGAIN:"ORDER_AGAIN",DEALS:"DEALS",BUNDLE_ITEMS:"BUNDLE_ITEMS",BUNDLE_STORE:"BUNDLE_STORE",EMBEDDED_MENU:"EMBEDDED_MENU",EMBEDDED_STOREFRONT:"EMBEDDED_STOREFRONT",PDP_LEGAL_CAROUSEL:"PDP_LEGAL_CAROUSEL",BILLBOARD:"BILLBOARD",SHOPPABLE_DISPLAY_AD:"SHOPPABLE_DISPLAY_AD",TAXONOMY_ELEVATED_SUBCOLLECTION:"TAXONOMY_ELEVATED_SUBCOLLECTION",SAME_STORE:"SAME_STORE"})},71274:(e,t,a)=>{a.d(t,{Z:()=>r});var i=a(74369),o=a("__fusion__476"),n=a(59924);const l=e=>{let{defaultInitialHeight:t,defaultInitialWidth:a,children:o,addToParentObserver:l,removeFromParentObserver:r,style:s={}}=e;const[d,c]=(0,i.useState)(!1),u=(0,i.useRef)(null),g=(0,i.useRef)(t),m=(0,i.useRef)(a);return(0,i.useEffect)((()=>{let e=null;return u.current&&(e=u.current,l(e,c)),()=>{r(e)}}),[l,r]),(0,i.useEffect)((()=>{u.current&&d&&(g.current=`${u.current.offsetHeight}px`,m.current=`${u.current.offsetWidth}px`)}),[d]),(0,n.tZ)("div",{ref:u,style:s,children:d?(0,n.tZ)(n.HY,{children:o}):(0,n.tZ)("div",{style:{height:g.current,width:m.current}})})},r=e=>{let{children:t,defaultInitialListElementHeight:a="300px",defaultInitialListElementWidth:r="100%",defaultObserverRootMargin:s="600px 0px 600px 0px",listElementStyle:d}=e;const[c]=(0,i.useState)(new Map),[u,g]=(0,i.useState)(null),m=(0,i.useRef)({initialListElementHeight:a,initialListElementWidth:r,observerRootMargin:s}),p=(0,i.useCallback)(((e,t)=>{c?.set(e,t),u?.observe(e)}),[u,c]),h=(0,i.useCallback)((e=>{c?.delete(e),u?.unobserve(e)}),[u,c]);return(0,i.useEffect)((()=>(u||g(new IntersectionObserver((e=>{for(const t of e){const e=c?.get(t.target);e?.(t.isIntersecting)}}),{rootMargin:m.current.observerRootMargin})),()=>{c?.clear(),u?.disconnect()})),[c,u]),o.Children.map(t,((e,t)=>(0,n.tZ)(l,{defaultInitialHeight:a,defaultInitialWidth:r,addToParentObserver:p,removeFromParentObserver:h,style:d,children:e})))}},41561:(e,t,a)=>{a.d(t,{Z:()=>u});var i=a(91931),o=a(22503),n=a(81231),l=a(47986),r=a(69420),s=a(94813),d=a(59924);const c=(0,i.zo)("div",{margin:0,width:"100%",maxWidth:"486px"}),u=e=>{let{catalogSection:t}=e;const{isCustomItemsEnabled:a}=(0,o.Z)(),i=(0,s.TH)(),u=(0,s.UO)(),g=t.payload,m=(0,r.k6)(),p=(0,l.w0g)(i,(0,l.WxO)(u));if(!a||!g)return null;if("specialRequestPayload"===g.type){const e=g.specialRequestPayload;return e.bannerViewModel?(0,d.tZ)(c,{children:(0,d.tZ)(n.Z,{viewModel:e.bannerViewModel,onClick:()=>m.push(p)})}):null}return null}},22503:(e,t,a)=>{a.d(t,{Z:()=>r});var i=a(60849),o=a(58077),n=a(63835),l=a(64388);const r=e=>{const t=(0,i.ip)({...o.g.enable_custom_items_consumer_web,defaultValue:!1}),{store:a}=(0,l.ZP)(e),r=a.data?.storeInfoMetadata?.specialRequestForm??null;return{isCustomItemsEnabled:t,isCustomItemsOverflowActionEnabled:Boolean(t&&a.data&&r),specialRequestForm:r,getTextAreaMaxLength:e=>"multiline"==e?.itemDescriptionInputViewModel?.lineConfig?.type?e.itemDescriptionInputViewModel.lineConfig.multiline.characterLimit:null,getTextAreaPlaceholder:e=>"text"===e?.itemDescriptionInputViewModel?.placeholder?.richTextElements?.[0]?.type?e.itemDescriptionInputViewModel?.placeholder?.richTextElements?.[0]?.text?.text?.text:"",getMinimumQuantityValue:e=>"number"==typeof e.quantityPickerInfo?.minimumValue?.base?e.quantityPickerInfo.minimumValue.base||1:e.quantityPickerInfo?.minimumValue?.base?.low||1,getMaximumQuantityValue:e=>"number"==typeof e.quantityPickerInfo?.maximumValue?.base?e.quantityPickerInfo.maximumValue.base||1:e.quantityPickerInfo?.maximumValue?.base?.low||1,getStepQuantityValue:e=>"number"==typeof e.quantityPickerInfo?.stepValue?.base?e.quantityPickerInfo.stepValue.base||1:e.quantityPickerInfo?.stepValue?.base?.low||1,getSelectPlaceholder:e=>"text"===e?.aisleSelectorInputViewModel?.placeholder?.richTextElements?.[0]?.type?e.aisleSelectorInputViewModel?.placeholder?.richTextElements?.[0]?.text?.text?.text:"",generateCustomItem:(e,t,a)=>({price:0,title:e,imageUrl:t,sectionUuid:a,uuid:(0,n.Z)(),hasCustomizations:!1,customizationsList:[],imageWatermarkContent:null,images:null,nutritionalInfo:null,suspendReason:null,suspendUntil:0,itemPromotion:null,itemPromotionV2:{promoText:null,availablePromotion:null,appliedPromotion:null,promotionData:null},rules:null,itemDescription:"",fulfillmentIssueAction:{type:"STORE_REPLACE_ITEM"},itemId:{type:"ITEM_ID_TYPE_WRITE_IN"}})}}},10707:(e,t,a)=>{a.d(t,{Z:()=>V});var i=a(74369),o=a(69420),n=a(94813),l=a(91931),r=a(14016),s=a(46933),d=a(32857),c=a(68065),u=a(47870),g=a(78422),m=a(29194),p=a(28984),h=a(43832),S=a(59924);const y=(0,l.zo)("img",(e=>{let{$theme:t}=e;return{width:t.sizing.scale800,height:t.sizing.scale800,borderRadius:"50%",objectFit:"cover"}})),b=(0,l.zo)("div",(e=>{let{$theme:t}=e;return{...t.typography.LabelSmall,overflow:"hidden",textOverflow:"ellipsis"}})),f=(0,l.zo)("div",(e=>{let{$theme:t}=e;return{display:"flex",boxSizing:"border-box",overflow:"auto","-ms-overflow-style":"none",scrollbarWidth:"none","::-webkit-scrollbar":{width:"0"},"::-webkit-scrollbar-track":{backgroundColor:"transparent"},"::-webkit-scrollbar-thumb":{backgroundColor:"transparent"}}})),I=e=>{let{bundleStores:t=[],onSelectedIndexChange:a,selectedIndex:i=0,onSeeAllClick:o}=e;const n=(0,m.gm)(),I=(0,r.T)(),{onBundleCatalogSectionStorePillsScrolled:Z}=(0,p.Z)(),{storeUuid:C}=(0,h.QT)(),U=t.filter((e=>Boolean(e.storeUuid))),_=U.length>10?U.slice(0,10):U,[,v]=(0,l.hQ)();return(0,S.tZ)(f,{onScroll:()=>{Z({primaryStoreUuid:C,bundleStores:t})},children:(0,S.BX)(u.Z,{size:c.NO.mini,shape:c.X3.pill,selected:i,overrides:{Root:{style:e=>{let{$theme:t}=e;return{display:"inline-flex",marginLeft:t.sizing.scale600,marginRight:t.sizing.scale600}}}},children:[_.map(((e,t)=>(0,S.tZ)(d.Z,{"data-testid":`bundle-store-${e.storeUuid}`,onClick:()=>a(t),startEnhancer:e.imageUrl?(0,S.tZ)(y,{src:e.imageUrl,alt:e.titleV2||I("online_ordering.logo.alt_text")}):null,overrides:{BaseButton:{style:e=>{let{$theme:t}=e;return{maxWidth:"200px",overflow:"hidden",whiteSpace:"nowrap",marginRight:t.sizing.scale300,justifyContent:"flex-start",flexGrow:1}}}},children:(0,S.tZ)(b,{children:e.titleV2})},e.storeUuid))),t.length>10?(0,S.tZ)(d.Z,{kind:c.TO.secondary,overrides:{BaseButton:{style:()=>({whiteSpace:"nowrap"})}},endEnhancer:"ltr"===n?(0,S.tZ)(g.Z,{name:"ArrowRightFilled",color:v.colors.buttonSecondaryText}):(0,S.tZ)(g.Z,{name:"ArrowLeftFilled",color:v.colors.buttonSecondaryText}),onClick:o,children:(0,S.tZ)(b,{children:(0,S.tZ)(s.v,{id:"see_all_stores"})})},"see-more"):null]})})};var Z=a("__fusion__476"),C=a(36060),U=a(21266);const _=(0,l.zo)("div",(e=>{let{$theme:t}=e;return{display:"block",position:"relative",margin:`${t.sizing.scale100} 16px`}})),v=e=>{let{storeUuid:t,primaryStoreUuid:a,storeCatalogEventMeta:o,catalogItems:n,children:l}=e;const r=(0,m.gm)(),s=Z.useRef(!1),{emitStoreCatalogScrollEvent:d}=(0,U.Z)(o),{onCatalogSectionItemListScrolled:c}=(0,p.Z)(),u=Z.useCallback((()=>{s.current||(d(),c({primaryStoreUuid:String(a||""),secondaryStoreUuid:String(t||""),bundleItems:n}),s.current=!0)}),[c,d,n,a,t]),g=(0,i.useRef)(null);return(0,i.useEffect)((()=>{if(!g.current?.getBoundingClientRect)return;const e="rtl"===r?g.current.getBoundingClientRect().width:0;g.current.scrollLeft=e}),[r,g,t]),(0,S.tZ)(_,{children:(0,S.tZ)(C.Z,{cellWidth:"102px",onScroll:u,ref:g,containerOverrides:{alignItems:"stretch"},children:l})})};var E=a(95427),A=a(66014),T=a(4864),x=a(6703),O=a(15070),P=a(47986),L=a(24316),R=a(22208);const D=e=>{const{syncItems:t,quantities:a}=(0,O.v)((e=>e.quickAdd)),{cartCountSummary:i,cartCountDecimalsSummary:o}=(0,T.F7)(e.storeUuid),l=(0,n.TH)(),{currentStoreDraftOrderUUID:r}=(0,L.Z)(),{uuid:s,sectionUuid:d,subsectionUuid:c}=e.item,u=e.item.slug||e.storeSlug;if(!(s&&d&&c&&u))return null;const g=i[s]??0,m=o[s]??null,p=Boolean(e.syncToCart||t[s]),h=a[s]??(0,x.bN)(),y=r||void 0,b=(0,P.yz4)({location:l,args:{storeUuid:e.storeUuid,primaryBundledStoreUuid:e.primaryBundledStoreUuid,primaryDraftOrderUUID:y,storeSlug:u,sectionUuid:d,subsectionUuid:c,itemUuid:s,entryPoint:R.x9.BUNDLE_CAROUSEL},previousContext:R.x9.BUNDLE_CAROUSEL}),f=e.item?.catalogItemAnalyticsData?.catalogSectionItemPosition??-1;return(0,S.tZ)(A.Z,{index:e.index,item:e.item,storeUuid:e.storeUuid,sectionUuid:d,subsectionUuid:c,catalogSectionUuid:e.catalogSectionUuid,cartItemCount:g,cartItemDecimalCount:m,syncItemQuantity:p,quickAddCount:h,quickAddDisabled:e.quickAddDisabled,gridColumns:1,catalogSectionType:e.catalogSectionType,isOpen:e.isOpen,isGrocery:e.isGrocery,...e.onCatalogItemClickEvent?{onCatalogItemClickEvent:e.onCatalogItemClickEvent}:{},itemStyles:e.itemStyleMetadata,surface:e.surface,shouldHideQuickAdd:!0,itemUrl:b,itemPosition:f})};var $=a(54735),k=a(57578),M=a(53514),w=a(64388),B=a(16108),z=a(74952),N=a(16046),H=a(45288),G=a(56065);const F=(0,l.zo)("div",(e=>{let{$theme:t}=e;return{padding:t.sizing.scale600}})),X=(0,l.zo)("div",(e=>{let{$theme:t}=e;return{border:`2px solid ${t.colors.borderOpaque}`,borderRadius:"12px"}})),V=e=>{let{storeUuid:t,sectionUuid:a,catalogSectionUuid:l,syncToCart:r,bundleStorePayload:s,quickAddDisabled:d,catalogSectionType:c,isOpen:u,quickAddSource:g,onCatalogItemClickEvent:m,onLowAvailabilityAlternateItemClick:h,itemStyleMetadata:y,surface:b,isGrocery:f}=e;const[Z,C]=(0,i.useState)(0),U=(0,o.k6)(),_=(0,n.TH)(),{currentStoreDraftOrderUUID:A}=(0,L.Z)(),T=A||void 0,x=s.bundleStores?s.bundleStores[Z]:null,O=x?.storeUuid,{registerSubsectionRef:R}=(0,G._J)(),{onBundleCatalogSectionStorePillClick:V,onBundleCatalogSectionClick:q}=(0,p.Z)(),[W,Y]=(0,B.T)({root:null,threshold:.75}),Q=(0,i.useCallback)((e=>{e&&l&&R(l,e)}),[l,R]),j=(0,z.T_)()(),{setLastClickedPartialStore:K}=(0,i.useContext)(N.C);(0,w.ZP)(O,{cacheOnly:!Y?.isIntersecting});const J=(0,M.Z)({storeUuid:t,sectionUuid:a,selectedStoreUuid:O,bundleStorePayload:s});if(j.isDisabled||!s.bundleStores||!s.bundledStoreItems)return null;const ee=O?s.bundledStoreItems[O]:null,te=(ee?(0,k.FA)(ee):null)?.catalogItems||[],ae={storeUuid:t,sectionUuid:a,catalogSectionType:c},ie=(e,a)=>{if(e.preventDefault(),e.stopPropagation(),!t||!l)return;a&&q({primaryStoreUuid:t});const i=(0,P.kb4)(_,{storeUuid:t,catalogSectionUuid:l});U.push(i)};return(0,S.tZ)("div",{ref:Q,"data-testid":"store-pcb-subsection",children:(0,S.BX)(X,{ref:J,children:[(0,S.tZ)(F,{ref:W,onClick:e=>ie(e,!0),children:(0,S.tZ)(E.Z,{title:s.title,subtitle:s.subtitle,iconUrl:s.bundleImageUrl})}),(0,S.tZ)(I,{bundleStores:s.bundleStores,selectedIndex:Z,onSelectedIndexChange:e=>{C(e),V({primaryStoreUuid:t,secondaryStoreUuid:O})},onSeeAllClick:ie}),O?(0,S.tZ)(v,{storeUuid:O,storeCatalogEventMeta:ae,catalogItems:te,primaryStoreUuid:t,children:te.map(((e,a)=>(0,S.tZ)(D,{index:a,item:e,storeUuid:O,catalogSectionUuid:l??"",primaryBundledStoreUuid:t,storeSlug:x.slug,syncToCart:r,quickAddDisabled:d,catalogSectionType:c,isOpen:u,quickAddSource:g,onCatalogItemClickEvent:m,onLowAvailabilityAlternateItemClick:h,itemStyleMetadata:y,surface:b,isGrocery:f},e.uuid+"-"+a))).concat((0,S.tZ)($.Z,{onClick:()=>{if(!x?.storeUuid||!x?.slug)return;const e=(0,P.gfM)(_,{storeUuid:x.storeUuid,storeSlug:x.slug,newQueryParams:{primaryBundledStoreUuid:t,primaryDraftOrderUUID:T,source:"primary-store"}});K((0,H.RV)(x)),U.push(e)}},"bundle-stores-see-all-item"))}):null]})})}},97392:(e,t,a)=>{a.d(t,{Z:()=>J});var i=a(75514),o=a(74369),n=a("__fusion__476"),l=a(91931),r=a(69420),s=a(47986),d=a(56065),c=a(70401),u=a(3289),g=a(94813),m=a(34911),p=a(29217),h=a(96911),S=a(66931),y=a(36278),b=a(8054),f=a(91940),I=a(6854),Z=a(21266),C=a(75618),U=a(41117),_=a(8639),v=a(78576),E=a(32892),A=a(31913),T=a(62091),x=a(87763),O=a(59924);const P=(0,l.zo)("div",(e=>{let{$theme:t,$backgroundColor:a,$borderRadius:i,$borderColor:o}=e;return{backgroundColor:a||t.colors.backgroundSecondary,display:"flex",justifyContent:"space-between",alignItems:"center",gap:`${v.lf.SPACING_UNIT_4X}px`,width:"100%",border:void 0!==o?`solid ${t.colors[o]}`:"none",borderWidth:void 0!==o?"1px 1px 0 1px":"none",borderRadius:`${i}px ${i}px 0 0`,minHeight:`${v.lf.SPACING_UNIT_9X}px`}})),L=(0,l.zo)("div",{paddingTop:`${v.lf.SPACING_UNIT_1X}px`,paddingBottom:`${v.lf.SPACING_UNIT_1X}px`,paddingLeft:`${v.lf.SPACING_UNIT_3X}px`,flexGrow:1,flexShrink:1}),R=(0,l.zo)("div",{display:"flex",alignItems:"center",boxSizing:"border-box",gap:`${v.lf.SPACING_UNIT_4X}px`,paddingTop:`${v.lf.SPACING_UNIT_1X}px`,paddingBottom:`${v.lf.SPACING_UNIT_1X}px`,flexShrink:1}),D=(0,l.zo)(T.Z,(e=>{let{$width:t=null,$height:a=null}=e;return{width:`${t?(0,v.lU)(t):"100%"}px`,height:`${a?(0,v.lU)(a):"auto"}px`}})),$=e=>{let{bannerHeaderPayload:t,storeCatalogEventMeta:a,ctaMetadataLabel:i,handlePageChange:o,isNextPageDisabled:n,isPreviousPageDisabled:l,itemsPerPage:r=0,totalItems:s=0,viewAllLocation:d,borderRadius:c,borderColor:u}=e;const g=s>r;return(0,O.BX)(P,{$backgroundColor:t.backgroundColorHex||void 0,$borderRadius:c||void 0,$borderColor:u||void 0,children:[(0,O.tZ)(L,{children:(0,O.tZ)(x.Z,{clamp:2,children:(0,O.tZ)(A.ZP,{text:t.title})})}),(0,O.BX)(R,{children:[t.subtitle?(0,O.tZ)(x.Z,{clamp:1,children:d&&i?(0,O.tZ)(I.Z,{viewAllLocation:d,storeCatalogEventMeta:a,ctaMetadataLabel:i,richText:t.subtitle}):(0,O.tZ)(A.ZP,{text:t.subtitle})}):null,g?(0,O.tZ)(m.Z,{backwardEnabled:!l,forwardEnabled:!n,onPageChange:o,transparent:!0}):null]}),(0,O.tZ)(D,{src:t?.imagePayload?.url||"",$width:t?.imagePayload?.width,$height:t?.imagePayload?.height})]})};var k=a(45654),M=a(57578);const w=(0,l.zo)("li",(e=>{let{$theme:t,$marginTop:a=0,$borderRadius:i=null,$borderColor:o=null,$isLayerOne:n=!1,$isCatalogSectionsVirtualListXpEnabled:l=!1}=e;return{...l?n?{paddingTop:t.sizing.scale1000}:{":not(:first-of-type)":{paddingTop:t.sizing.scale1000}}:{marginTop:t.sizing.scale1000,":first-of-type":{marginTop:`${a}px`},border:null!==o?`1px solid ${t.colors[o]}`:"none",borderRadius:`${i}px`,overflow:i?"hidden":"default"}}})),B=(0,l.zo)("div",(e=>{let{$theme:t,$borderRadius:a=null,$borderColor:i=null}=e;return{border:null!==i?`1px solid ${t.colors[i]}`:"none",borderRadius:`${a}px`,overflow:a?"hidden":"unset"}})),z=(0,l.zo)(S.im,(e=>{let{$theme:t,$insetContainer:a=!1}=e;return{overflowY:"hidden",marginLeft:`calc(${t.sizing.scale600} * -1)`,marginRight:`calc(${t.sizing.scale600} * -1)`,padding:a?`${v.lf.SPACING_UNIT_3X}px`:"0"}})),N=(0,l.w1)(S.T3,(e=>{let{$theme:t}=e;return{paddingLeft:t.sizing.scale600,paddingRight:t.sizing.scale600,display:"block",boxSizing:"border-box"}})),H=(0,l.w1)(p.ZP,{height:"100%"}),G=(0,l.zo)("div",(e=>{let{$theme:t,$backgroundColor:a,$borderRadius:i,$isCatalogSectionsVirtualListXpEnabled:o=!1}=e;return{padding:o?`0px 0px ${t.sizing.scale600}`:`${t.sizing.scale300} 0 ${t.sizing.scale600} 0`,display:"flex",justifyContent:"space-between",alignItems:"flex-end",$borderRadius:`${i}px ${i}px 0 0`,backgroundColor:void 0!==a?a:"transparent"}})),F=(0,l.zo)("div",{display:"flex",alignItems:"center",boxSizing:"border-box"}),X=(e,t)=>{const{onEndReached:a,isLayerOne:i=!1}=e,o=n.useRef(!1),l=(0,k.Z)(),{isDealsHubM2Enabled:r}=(0,E.Z)(),{emitStoreCatalogScrollEvent:s}=(0,Z.Z)(e.storeCatalogEventMeta),d=n.useCallback((()=>{o.current||(s(),o.current=!0)}),[s]),c=e.totalItems>e.itemsPerPage,u=e.catalogSection.payload,g=u?.type===C.p.standardItemsPayload?u.standardItemsPayload.catalogSectionStyleMetadata:null,p=u?.type===C.p.standardItemsPayload?u.standardItemsPayload.catalogSectionHeaderPayload:null,S=p&&"bannerHeaderPayload"in p?p.bannerHeaderPayload:null,A=u?.type===C.p.standardItemsPayload&&(0,M.F5)(u?.standardItemsPayload),T=n.useMemo((()=>r?(0,v.lU)(g?.cornerRadius):void 0),[g?.cornerRadius,r]),x=n.useMemo((()=>r?(0,_.Lq)(g?.borderColor):void 0),[g?.borderColor,r]),P=n.useMemo((()=>r&&p?.type===U.D.bannerHeaderPayload&&S?.backgroundColorHex),[S,r,p?.type]),L=n.useMemo((()=>r&&(Boolean(g?.cornerRadius)||Boolean(g?.borderColor))),[g?.borderColor,g?.cornerRadius,r]),{containerRef:R,getPageChunks:D,getPageProps:X,isPreviousPageDisabled:V,isNextPageDisabled:q,handlePageChange:W,supportsScrollSnapping:Y}=(0,h.Z)({scrollOffset:L?-24:24});n.useEffect((()=>{!0===q&&null!=a&&a()}),[a,q]);const Q=D(e.children||[],e.itemsPerPage),j=(0,O.BX)(O.HY,{children:[p?.type===U.D.sponsoredDisplayBannerHeaderPayload?(0,O.tZ)(f.Z,{sponsoredDisplayBannerHeaderPayload:p?.sponsoredDisplayBannerHeaderPayload}):r&&p?.type===U.D.bannerHeaderPayload?(0,O.tZ)($,{bannerHeaderPayload:p?.bannerHeaderPayload,ctaMetadataLabel:e.ctaMetadataLabel,itemsPerPage:e.itemsPerPage,storeCatalogEventMeta:e.storeCatalogEventMeta,totalItems:e.totalItems,viewAllLocation:e.viewAllLocation,isPreviousPageDisabled:V,isNextPageDisabled:q,handlePageChange:W}):(0,O.BX)(G,{$backgroundColor:P||void 0,$borderRadius:T,$isCatalogSectionsVirtualListXpEnabled:l,children:[(0,O.tZ)(b.Z,{catalogSection:e.catalogSection,baseFont:"DisplayBold4XSmall"}),(0,O.tZ)(y.sA,{}),(0,O.BX)(F,{children:[e.viewAllLocation&&A?(0,O.tZ)(I.Z,{viewAllLocation:e.viewAllLocation,storeCatalogEventMeta:e.storeCatalogEventMeta,ctaMetadataLabel:e.ctaMetadataLabel}):null,e.viewAllLocation&&c?(0,O.tZ)(y.ZP,{$width:"40px"}):null,c?(0,O.tZ)(m.Z,{backwardEnabled:!V,forwardEnabled:!q,onPageChange:W}):null]})]}),(0,O.tZ)(z,{ref:R,$supportsScrollSnapping:e.supportsScrollSnapping??Y,onScroll:d,$insetContainer:L,children:Q.map(((t,a,i)=>(0,O.tZ)(N,{$pageMargin:24,...X(a,i.length),children:(0,O.tZ)(H,{$as:"ul",$numColumns:e.itemsPerPage,children:t})},a)))})]});return(0,O.tZ)(w,{ref:t,$marginTop:24,$borderColor:x,$borderRadius:T,$isLayerOne:i,$isCatalogSectionsVirtualListXpEnabled:l,children:l&&r?(0,O.tZ)(B,{$borderColor:x,$borderRadius:T,children:j}):j})},V=n.forwardRef(X);var q=a(34337),W=a(87444),Y=a(96707),Q=a(16034),j=a(32762);(0,l.zo)("li",(e=>{let{$marginTop:t=0}=e;return{marginTop:"40px",":first-of-type":{marginTop:`${t}px`}}}));const K=e=>{let{catalogSectionRef:t,subsectionUuid:a,children:i}=e;const{updateCatalogSectionHeight:n}=(0,Q.Yq)();return(0,o.useEffect)((()=>{if(!t.current||!a)return;const e=new ResizeObserver((()=>{const e=t.current?.offsetHeight||0;n({type:"HORIZONTAL_GRID",uuid:a,height:e})}));return e.observe(t.current),()=>e.disconnect()}),[t,a,n]),(0,O.tZ)(O.HY,{children:i})},J=e=>{const{registerSubsectionRef:t}=(0,d._J)(),{desktopFeatures:a}=(0,j.Z)(),[l,m]=(0,o.useState)(a.overwriteHorizontalGridColumns?a.horizontalGridColumns:u.nB),p=(0,r.UO)(),h=(0,g.TH)(),S=(0,k.Z)(),y=(0,o.useRef)(null),b=e.catalogSection.payload,f=e.catalogSection.type,I=e.catalogSection.catalogSectionUUID||"",Z=b?.type===C.p.standardItemsPayload?b.standardItemsPayload:null,U=Z?.ctaMetadata,_=Z?.catalogSectionAnalyticsData?.storeSectionType,v=(0,W.Z)("infer_catalog_section_type_from_location"),E=n.Children.count(e.children),{storeCatalogSections:A,originalCatalogSectionUuid:T,storeCatalogSectionTypes:x}=(0,s.RAN)(h,["storeCatalogSections","storeCatalogSectionTypes","originalCatalogSectionUuid"]),P=n.useCallback((e=>{e&&I&&(t(I,e),y.current=e)}),[I,t]),L=(0,o.useCallback)((()=>{if(a.overwriteHorizontalGridColumns)return m(a.horizontalGridColumns);const e=(i.Z?.innerWidth||0)<u.US?u.RO:u.nB;m(e)}),[a.overwriteHorizontalGridColumns,a.horizontalGridColumns]),R=(0,c.Z)(L,1e3);(0,o.useEffect)((()=>{if(i.Z)return L(),i.Z.addEventListener("resize",R),()=>{i.Z&&i.Z.removeEventListener("resize",R)}}),[R,L]);const D=n.useMemo((()=>({storeUuid:e.storeUuid,sectionUuid:e.sectionUuid||"",catalogSectionType:f||"HORIZONTAL_GRID",...Z?.catalogSectionAnalyticsData?{catalogSectionAnalyticsData:Z?.catalogSectionAnalyticsData}:{}})),[f,e.sectionUuid,e.storeUuid,Z?.catalogSectionAnalyticsData]),$=n.useMemo((()=>{const t=(0,s.v4Q)(U?.ctaUri||""),a=v?t.search.sectionType??x:t.search.sectionType;return e.isGrocery&&E>l||_===Y.O.DEALS?(0,s.RKz)(h,{...(0,s.WxO)(p),...e.sectionUuid?{sectionUuid:e.sectionUuid}:null,subsectionUuid:t.search?.sectionUUID||I,persistentQueryParams:u.GZ},{catalogSectionUuids:[I],...a?{catalogSectionTypes:[a]}:{},...t.search?.sectionUUID?{catalogSectionUuids:[t.search.sectionUUID]}:{},...t.search?.subsectionUUID?{catalogSubsectionUuids:[t.search.subsectionUUID]}:{},...t.search?.sectionUUID&&0===A.length?{originalCatalogSectionUuid:t.search.sectionUUID}:T?{originalCatalogSectionUuid:T}:{}}):null}),[U?.ctaUri,v,x,e.isGrocery,e.sectionUuid,E,l,h,p,I,A.length,T,_]),M=n.useMemo((()=>{const t=e.children??[],a=l-t.length%l;return e.isLoadingMore?[...t,...new Array(a).fill(null).map(((e,t)=>(0,O.tZ)(q.Z,{height:"100%",animation:!0},t)))]:t}),[e.children,e.isLoadingMore,l]),w=(0,O.tZ)(V,{ref:P,totalItems:E,itemsPerPage:l,catalogSection:e.catalogSection,viewAllLocation:$,storeCatalogEventMeta:D,ctaMetadataLabel:U?.ctaLabel,onEndReached:e.onEndReached,supportsScrollSnapping:e.supportsScrollSnapping,isLayerOne:!A,children:M});return(0,O.tZ)(O.HY,{children:S&&!A&&e.isGrocery?(0,O.tZ)(K,{catalogSectionRef:y,subsectionUuid:I,children:w}):w})}},74492:(e,t,a)=>{a.d(t,{Z:()=>Z,v:()=>f});var i=a("__fusion__476"),o=a(74369),n=a(52298),l=a(69420),r=a(56065),s=a(56533),d=a(8054),c=a(74475),u=a(40625),g=a(65184),m=a(24230),p=a(91931),h=a(94813),S=a(33535),y=a(47986),b=a(59924);const f=(0,p.zo)("div",(()=>({display:"flex",flexDirection:"row",justifyContent:"space-between"}))),I=(0,p.zo)("div",(()=>({display:"block"}))),Z=e=>{let{catalogSection:t,isGrocery:a,children:p,as:Z,shouldShowSortAndFilter:C}=e;const U=(0,l.k6)(),_=(0,h.TH)(),{registerSubsectionRef:v}=(0,r._J)(),E=(0,S.ZP)(),A=i.useCallback((e=>{const a=t.catalogSectionUUID;e&&a&&v(a,e)}),[t.catalogSectionUUID,v]),T=a?0:40;return(0,o.useEffect)((()=>{const{ctaButtonViewModel:e,titleV2:a}=(0,m.P)(t);e&&E("eats:store_front_catalog_membership_upsell_section_impression",{catalogSectionUuid:t?.catalogSectionUUID}),a&&E("eats:store_front_catalog_member_ux_section_impression",{catalogSectionUuid:t?.catalogSectionUUID})}),[t,E]),(0,b.BX)(c.Z,{ref:A,$marginTop:T,$as:Z,children:[(0,b.BX)(f,{children:[(0,b.BX)(I,{children:[(0,b.tZ)(d.Z,{catalogSection:t,baseFont:"DisplayBold4XSmall"}),(0,b.tZ)(s.Z,{catalogSection:t,baseFont:"ParagraphSmall"}),C?(0,b.tZ)(g.$Q,{children:(0,b.tZ)(u.Y,{})}):null,(0,b.tZ)(n.ZP,{$height:16})]}),(0,b.tZ)(m.Z,{catalogSection:t,onClick:()=>{const{ctaUri:e}=(0,m.P)(t);E("eats:store_front_catalog_membership_upsell_button_click",{catalogSectionUuid:t?.catalogSectionUUID}),U.push((0,y.xH8)(_,e))}})]}),p]})}},61250:(e,t,a)=>{a.d(t,{Z:()=>p});var i=a(91931),o=a(87763),n=a(31913),l=a(12888),r=a(29194),s=a(26501),d=a(59924);const c=(0,i.zo)("div",(e=>{let{$theme:t,$addPaddingTop:a}=e;return{padding:`${a?t.sizing.scale600:0} 0 ${t.sizing.scale600} 0`}})),u=(0,i.zo)("div",(e=>{let{$theme:t,$columns:a=0,$direction:i="ltr"}=e;return{width:"100vw",display:"grid",gridTemplateColumns:`repeat(${a}, 1fr)`,columnGap:t.sizing.scale500,listStyle:"none",overflowX:"auto",WebkitOverflowScrolling:"touch",scrollbarWidth:"none","::-webkit-scrollbar":{display:"none"},..."ltr"===i?{marginLeft:`-${t.sizing.scale600}`}:{marginRight:`-${t.sizing.scale600}`}}})),g=(0,i.zo)("div",(e=>{let{$theme:t,$direction:a}=e;return{display:"flex",alignItems:"flex-start",justifyContent:"center",":first-child":{..."ltr"===a?{marginLeft:t.sizing.scale600}:{marginRight:t.sizing.scale600}},":last-child":{..."ltr"===a?{marginRight:t.sizing.scale600}:{marginLeft:t.sizing.scale600}}}})),m=(0,i.zo)("div",(e=>{let{$theme:t}=e;return{padding:`0 0 ${t.sizing.scale600} 0`,display:"flex",justifyContent:"space-between",alignItems:"flex-start"}})),p=e=>{const t=(0,r.gm)(),{aisleShortcutsRef:a}=(0,s.A)({catalogIndex:e.catalogIndex}),{aisleShortcutsCarouselRef:i}=(0,s.M)({catalogIndex:e.catalogIndex});return e.aisleShortcutItems&&0!==e.aisleShortcutItems?.length?(0,d.BX)(c,{ref:a,$addPaddingTop:Boolean(e.title),children:[e.title?(0,d.tZ)(m,{children:(0,d.tZ)(o.Z,{clamp:1,typographyKey:"HeadingXSmall",children:(0,d.tZ)(n.ZP,{text:e.title})})}):null,(0,d.tZ)(u,{ref:i,$columns:e.aisleShortcutItems.length,$direction:t,children:e.aisleShortcutItems?.map(((a,i)=>(0,d.tZ)(g,{$direction:t,children:(0,d.tZ)(l.Z,{item:a,sectionUuid:e.sectionUuid,catalogIndex:e.catalogIndex})},`${a.imageUrl}-`+i)))})]}):null}},92903:(e,t,a)=>{a.d(t,{Z:()=>ue});var i=a("__fusion__476"),o=a(69420),n=a(94813),l=a(47986),r=a(61304),s=a(74369),d=a(91931),c=a(6854),u=a(17222),g=a(78422),m=a(67780),p=a(33535),h=a(45288),S=a(16046),y=a(29194),b=a(59924);const f=(0,d.w1)(m._,{fontSize:"16px"}),I=e=>{let{seeAllLocation:t,storeCatalogEventMeta:a,storeHeader:i}=e;const o=(0,y.gm)(),n=(0,p.ZP)(),{setLastClickedPartialStore:l}=(0,s.useContext)(S.C),{storeUuid:r,sectionUuid:d,catalogSectionType:c,catalogSectionAnalyticsData:m}=a;return(0,b.tZ)(f,{$as:u.rU,to:t,onClick:e=>{e.stopPropagation(),i&&l((0,h.Br)(i)),n("eats:store_catalog_section_see_all_button_tap",{storeCatalog:{storeUuid:r,sectionUuid:d,catalogSectionType:c,catalogSectionAnalyticsData:m}})},children:"ltr"===o?(0,b.tZ)(g.Z,{name:"ArrowRightFilled"}):(0,b.tZ)(g.Z,{name:"ArrowLeftFilled"})})};var Z=a(36278),C=a(36060),U=a(87763),_=a(21266),v=a(8054),E=a(56533),A=a(32762);const T=(0,d.zo)("div",{display:"flex",justifyContent:"space-between",alignItems:"flex-end"}),x=e=>{let{catalogSection:t}=e;const{isStoreOfdRedesignXpEnabled:a}=(0,A.Z)(),i=a?"HeadingXSmall":"DisplayBold4XSmall";return(0,b.tZ)(T,{children:(0,b.BX)("div",{children:[(0,b.tZ)(v.Z,{catalogSection:t,baseFont:i}),(0,b.tZ)(E.Z,{catalogSection:t,baseFont:"ParagraphSmall"})]})})};var O=a(91940),P=a(95195),L=a(75618),R=a(78576),D=a(8639),$=a(32892),k=a(41117),M=a(31913),w=a(62091);const B=(0,d.zo)("div",(e=>{let{$theme:t,$backgroundColor:a}=e;return{backgroundColor:a||t.colors.backgroundSecondary,display:"flex",justifyContent:"space-between",alignItems:"center",gap:`${R.lf.SPACING_UNIT_4X}px`,width:"100%"}})),z=(0,d.zo)("div",{paddingTop:`${R.lf.SPACING_UNIT_1X}px`,paddingBottom:`${R.lf.SPACING_UNIT_1X}px`,paddingLeft:`${R.lf.SPACING_UNIT_2X}px`,flexGrow:1}),N=(0,d.zo)(w.Z,(e=>{let{$width:t=null,$height:a=null}=e;return{width:`${t?(0,R.lU)(t):"100%"}px`,height:`${a?(0,R.lU)(a):"auto"}px`}})),H=(0,d.zo)("span",{display:"inline-block",position:"absolute",width:"1px",height:"1px",visibility:"hidden"}),G=e=>{let{bannerHeaderPayload:t,storeCatalogEventMeta:a,ctaMetadataLabel:i,viewAllLocation:o}=e;return(0,b.BX)(B,{$backgroundColor:t.backgroundColorHex||void 0,onClick:()=>{},children:[(0,b.BX)(z,{children:[(0,b.tZ)(U.Z,{clamp:2,children:(0,b.tZ)(M.ZP,{text:t.title})}),t.subtitle?(0,b.tZ)(U.Z,{clamp:1,children:o&&i?(0,b.BX)(b.HY,{children:[(0,b.tZ)(M.ZP,{text:t.subtitle}),(0,b.tZ)(H,{children:(0,b.tZ)(c.Z,{viewAllLocation:o,storeCatalogEventMeta:a,ctaMetadataLabel:i,richText:t.subtitle})})]}):(0,b.tZ)(M.ZP,{text:t.subtitle})}):null]}),(0,b.tZ)(N,{src:t?.imagePayload?.url||"",$width:t?.imagePayload?.width,$height:t?.imagePayload?.height})]})};var F=a(60849),X=a(41063);var V=a(45654),q=a(57578),W=a(70329);const Y=(0,d.zo)("div",(e=>{let{$theme:t,$insetContainer:a=!1,$borderRadius:i=null,$borderColor:o=null}=e;return{...a?{"-ms-overflow-style":"none",scrollbarWidth:"none","::-webkit-scrollbar":{width:"0"},"::-webkit-scrollbar-track":{backgroundColor:"transparent"},"::-webkit-scrollbar-thumb":{backgroundColor:"transparent"},overflow:"hidden",border:o?`2px solid ${t.colors[o]}`:"none",borderRadius:`${i}px`,margin:`${R.lf.SPACING_UNIT_2X}px 0`}:{}}})),Q=(0,d.zo)("div",{alignSelf:"center"}),j=(e,t)=>{if(!e)return"calc(31vw - 16px)";const a=t&&1==e?32:16;return`calc(${(100/e).toFixed(2)}vw - ${a}px)`},K=(0,d.zo)("div",(e=>{let{$theme:t,$hasBorder:a,$isStoreOfdRedesignXpEnabled:i,$isCatalogSectionsVirtualListXpEnabled:o}=e;return{...i?{marginTop:t.sizing.scale600}:{paddingTop:t.sizing.scale600},...a||o?{marginTop:0}:null,display:"flex",justifyContent:"space-between",alignItems:"center"}})),J=e=>{const t=i.useRef(!1),{emitStoreCatalogScrollEvent:a}=(0,_.Z)(e.storeCatalogEventMeta),{isDealsHubM2Enabled:n}=(0,$.Z)(),{isStoreOfdRedesignXpEnabled:l,menuItem:r,menuItemCursor:u}=(0,W.Z)(),m="default"===u,p=(0,F.ip)({...X.v.store_carousel_see_all_as_arrow_button_enabled,defaultValue:!1}),y=e.catalogSection.payload,f=y?.type===L.p.standardItemsPayload?y.standardItemsPayload:null,v=f?.storeHeader,E=f?.catalogItems,A=f?.catalogSectionStyleMetadata,T=f?.catalogSectionHeaderPayload,M=(0,o.k6)(),[,w]=(0,d.hQ)(),{setLastClickedPartialStore:B}=(0,s.useContext)(S.C),z=e.catalogConfig?.analyticsConfig?.onCarouselScroll,N=(0,V.Z)(),H=i.useRef(!1),{onEndReached:J}=e,ee=(0,q.F5)(f)&&"disabled"!==r,te=i.useCallback((i=>{t.current||(a(),t.current=!0,z&&z({storeUuid:e.storeCatalogEventMeta.storeUuid,source:e.catalogConfig?.surface,items:E||[]}));const o=i.currentTarget.scrollLeft+500>=i.currentTarget.scrollWidth;o!==H.current&&(H.current=o,o&&J?.())}),[a,z,e.storeCatalogEventMeta.storeUuid,e.catalogConfig?.surface,E,J]),ae=i.useMemo((()=>n?(0,R.lU)(A?.cornerRadius):null),[A?.cornerRadius,n]),ie=i.useMemo((()=>n?(0,D.Lq)(A?.borderColor):null),[A?.borderColor,n]),oe=i.useMemo((()=>n&&(Boolean(A?.cornerRadius)||Boolean(A?.borderColor))),[A?.borderColor,A?.cornerRadius,n]),ne=i.useMemo((()=>oe?{...e.containerOverrides,padding:`${R.lf.SPACING_UNIT_1_5X}px ${R.lf.SPACING_UNIT_2X}px 0 ${R.lf.SPACING_UNIT_2X}px`,marginBottom:`${R.lf.SPACING_UNIT_1X}px`}:e.containerOverrides),[oe,e.containerOverrides]);return(0,b.BX)(Y,{$insetContainer:oe,$borderRadius:ae,$borderColor:ie,children:[(0,b.tZ)(K,{$isStoreOfdRedesignXpEnabled:l,$isCatalogSectionsVirtualListXpEnabled:N,onClick:t=>{if(e.viewAllLocation&&e.ctaMetadataLabel){if(m)return;v&&B((0,h.Br)(v)),t.preventDefault(),M.push(e.viewAllLocation)}},$hasBorder:Boolean(ie),children:T?.type===k.D.sponsoredDisplayBannerHeaderPayload?(0,b.tZ)(O.Z,{sponsoredDisplayBannerHeaderPayload:T?.sponsoredDisplayBannerHeaderPayload}):n&&T?.type===k.D.bannerHeaderPayload?(0,b.tZ)(G,{bannerHeaderPayload:T?.bannerHeaderPayload,ctaMetadataLabel:e.ctaMetadataLabel,storeCatalogEventMeta:e.storeCatalogEventMeta,viewAllLocation:e.viewAllLocation}):v?(0,b.BX)(b.HY,{children:[(0,b.tZ)(P.Z,{primaryStoreUuid:e.primaryBundledStoreUuid,storeHeader:v,viewAllLocation:e.viewAllLocation}),(0,b.tZ)(Z.sA,{}),(0,b.tZ)(Q,{children:(0,b.tZ)(g.Z,{name:"ChevronRightSmallFilled",color:w.colors.contentTertiary})})]}):(0,b.BX)(b.HY,{children:[(0,b.tZ)(U.Z,{clamp:2,typographyKey:l?"HeadingXSmall":"DisplayBold4XSmall",children:(0,b.tZ)(x,{catalogSection:e.catalogSection})}),(0,b.tZ)(Z.sA,{}),e.viewAllLocation&&ee?p?(0,b.tZ)(I,{seeAllLocation:e.viewAllLocation,storeCatalogEventMeta:e.storeCatalogEventMeta,storeHeader:v}):(0,b.tZ)(c.Z,{viewAllLocation:e.viewAllLocation,storeCatalogEventMeta:e.storeCatalogEventMeta,ctaMetadataLabel:e.ctaMetadataLabel,storeHeader:v}):null]})}),(0,b.tZ)(C.Z,{cellWidth:j(e.itemsToShow,e.catalogConfig?.isSharedDesign),onScroll:te,containerOverrides:ne,virtualizationV2Enabled:e.virtualizationV2Enabled,children:e.children})]})};var ee=a(24316),te=a(52692),ae=a(34337),ie=a(87444),oe=a(16034),ne=a(3289),le=a(14682);const re=(0,d.zo)("div",(e=>{let{$theme:t}=e;return{paddingTop:t.sizing.scale600}})),se=(0,d.zo)("div",(e=>{let{$theme:t}=e;return{width:"100%",aspectRatio:"1/1",marginBottom:t.sizing.scale300}})),de=i.memo((function(){return(0,b.BX)("div",{children:[(0,b.tZ)(se,{children:(0,b.tZ)(ae.Z,{height:"100%",animation:!0})}),(0,b.tZ)(ae.Z,{height:"20px",animation:!0})]})})),ce=e=>{let{catalogSectionRef:t,subsectionUuid:a,children:o}=e;const{updateCatalogSectionHeight:n}=(0,oe.Yq)();return i.useEffect((()=>{if(!t.current||!a)return;const e=new ResizeObserver((()=>{const e=t.current?.offsetHeight||0;n({type:"HORIZONTAL_GRID",uuid:a,height:e})}));return e.observe(t.current),()=>e.disconnect()}),[t,a,n]),(0,b.tZ)(b.HY,{children:o})},ue=e=>{const t=(0,n.TH)(),a=(0,o.UO)(),s=i.useRef(null),{currentStoreDraftOrderUUID:d}=(0,ee.Z)(),c=(0,le.Z)(),{storeCatalogSections:u,originalCatalogSectionUuid:g,storeCatalogSectionTypes:m}=(0,l.RAN)(t,["storeCatalogSections","originalCatalogSectionUuid","storeCatalogSectionTypes"]),p=d||void 0,h=e.catalogSection.payload,S=e.catalogSection.catalogSectionUUID||"",y=e.catalogSection.type,f=h?.type===L.p.standardItemsPayload?h.standardItemsPayload:null,I=Boolean(f?.storeHeader),{isStoreOfdRedesignXpEnabled:Z}=(0,A.Z)(),C=(0,V.Z)(),U=i.Children.count(e.children)>4,_=f?.ctaMetadata,v=(0,ie.Z)("infer_catalog_section_type_from_location"),E=i.useMemo((()=>{const i=(0,l.v4Q)(_?.ctaUri||"");if(!U||!e.showHeaderCTA)return null;if(I){const a=i.search?.storeUUID,o=i.search?.slug;if(!a||!o)return null;return(0,l.gfM)(t,{storeUuid:a,storeSlug:o,newQueryParams:{primaryBundledStoreUuid:e.storeUuid,primaryDraftOrderUUID:p,source:"primary-store"}})}const o=v?i.search.sectionType??m:i.search.sectionType;return e.isGrocery?(0,l.RKz)(t,{...(0,l.WxO)(a),...e.sectionUuid?{sectionUuid:e.sectionUuid}:null,subsectionUuid:i.search?.sectionUUID||S,persistentQueryParams:ne.GZ},{catalogSectionUuids:[S],...o?{catalogSectionTypes:[o]}:{},...i.search?.sectionUUID?{catalogSectionUuids:[i.search.sectionUUID]}:{},...i.search?.subsectionUUID?{catalogSubsectionUuids:[i.search.subsectionUUID]}:{},...i.search?.sectionUUID&&0===u.length?{originalCatalogSectionUuid:i.search.sectionUUID}:g?{originalCatalogSectionUuid:g}:{}},!1):null}),[_?.ctaUri,I,U,v,t,g,a,p,e.isGrocery,e.sectionUuid,e.showHeaderCTA,e.storeUuid,u.length,m,S]),T=i.useMemo((()=>({storeUuid:e.storeUuid,sectionUuid:e.sectionUuid||"",catalogSectionType:y||"HORIZONTAL_GRID",...f?.catalogSectionAnalyticsData?{catalogSectionAnalyticsData:f?.catalogSectionAnalyticsData}:{}})),[y,e.sectionUuid,e.storeUuid,f?.catalogSectionAnalyticsData]),x=e.isSharedDesign?{padding:"16px 0px 0px 0px"}:Z&&!e.isGrocery?{padding:"12px 0",alignItems:"stretch"}:C&&e.isGrocery?{padding:"12px 0px 0px"}:{},O=i.useMemo((()=>{const t=e.children??[];return e.isLoadingMore?[...t,...new Array(3).fill(null).map(((e,t)=>(0,b.tZ)(de,{},t)))]:t}),[e.children,e.isLoadingMore]),P=!u&&e.isGrocery&&e.catalogConfig?.surface===r.b.STOREFRONT,R=(0,b.BX)(b.HY,{children:[(0,b.tZ)(J,{itemsToShow:e.itemsToShow,catalogSection:e.catalogSection,catalogConfig:e.catalogConfig,storeCatalogEventMeta:T,viewAllLocation:E,ctaMetadataLabel:_?.ctaLabel,primaryBundledStoreUuid:e.primaryBundledStoreUuid,containerOverrides:x,onEndReached:e.onEndReached,virtualizationV2Enabled:c&&P,children:O}),Z&&e.shouldUseNewDivider&&!e.isGrocery?(0,b.tZ)(te.Z,{$color:"borderOpaque",$margin:"0 -16px",$height:"1px"}):null]});return(0,b.tZ)(b.HY,{children:!c&&C&&P?(0,b.tZ)(re,{ref:s,children:(0,b.tZ)(ce,{catalogSectionRef:s,subsectionUuid:S,children:R})}):R})}},24230:(e,t,a)=>{a.d(t,{P:()=>n,Z:()=>l});var i=a(55998),o=a(59924);const n=e=>{let t,a,i;const o=e?.payload;switch(o?.type){case"standardItemsPayload":t=o?.standardItemsPayload?.ctaMetadata?.ctaViewModel,a=o?.standardItemsPayload?.ctaMetadata?.ctaUri,i=o?.standardItemsPayload?.titleV2}return{ctaButtonViewModel:t,ctaUri:a,titleV2:i}},l=e=>{const{catalogSection:t,onClick:a}=e,{ctaButtonViewModel:l}=n(t);return l?(0,o.tZ)("div",{children:(0,o.tZ)(i.Z,{viewModel:l,onClick:a})}):null}},91940:(e,t,a)=>{a.d(t,{Z:()=>h});var i=a(91931),o=a(62091),n=a(93778),l=a(69420),r=a(26490),s=a(78576),d=a(6479),c=a(37933),u=a(16797),g=a(59924);const m=(0,i.zo)("div",(()=>({position:"relative",width:"100%"}))),p=(0,i.zo)(o.Z,(()=>({width:"100%",height:"100%"}))),h=e=>{let{sponsoredDisplayBannerHeaderPayload:t}=e;const a=(0,l.k6)(),i=(0,c.n_)(),{adsViewableImpressionRef:o}=(0,d.Z)({itemAd:t?.itemAd,adAttributes:{analyticsLabel:t?.analyticsLabel??void 0},shouldLogImpression:!0}),{eaterMessageActionLink:{linkTo:h},eaterMessageActionCallback:S}=(0,r.Z)({surface:"",analytics:{uuid:"",itemType:"",trackingID:""},action:{type:"openDeeplink",openDeeplink:{url:t?.deeplinkCtaPayload?.deeplinkUrl}}}),{eaterMessageActionLink:{linkTo:y},eaterMessageActionCallback:b}=(0,r.Z)({surface:"",analytics:{uuid:"",itemType:"",trackingID:""},action:{type:"openDeeplink",openDeeplink:{url:t?.adLabelDeeplinkUrl}}});return(0,g.BX)(m,{ref:o,children:[(0,g.tZ)(p,{src:t?.backgroundImageUrl||"",onClick:e=>{e.stopPropagation(),e.preventDefault(),t?.itemAd&&i("ads:ads_click",{adsAnalyticsEvent:{adEventType:u.J.CLICK,adImpressionUUID:t?.itemAd.impressionId||"",adData:t?.itemAd.adData||"",analyticsLabel:t?.analyticsLabel||""}}),S&&S(),h.pathname&&a.push(h)}}),(0,g.tZ)("div",{onClick:e=>{e.stopPropagation(),e.preventDefault(),b&&b(),y.pathname&&a.push(y)},children:(0,g.tZ)(n.Z,{tag:t?.adLabel,overrideStyles:{opacity:"0.5",position:"absolute",bottom:`${s.lf.SPACING_UNIT_1X}px`,right:`${s.lf.SPACING_UNIT_1X}px`}})})]})}},1341:(e,t,a)=>{a.d(t,{Z:()=>s});var i=a(26460),o=a(72238),n=a(21322),l=a(89400),r=a(59924);const s=e=>{let{options:t,onSelect:a}=e;const s=t.find((e=>e.selected));return(0,r.tZ)("ul",{children:t.map((e=>(0,r.tZ)(o.Z,{artwork:()=>(0,r.tZ)(i.Z,{checked:e.uuid===s?.uuid,onChange:()=>a([e])}),onClick:()=>a([e]),children:(0,r.tZ)(n.Z,{children:(0,r.tZ)(l.Z,{badge:e.badge,baseFont:"LabelMedium"})})},e.uuid)))})}},40625:(e,t,a)=>{a.d(t,{Y:()=>k});var i=a("__fusion__476"),o=a(74369),n=a(7386),l=a(16809),r=a(46933),s=a("__fusion__1030"),d=a(91931),c=a(67284),u=a(79406),g=a(78422),m=a(68561),p=a(89400),h=a(21166),S=a(32857),y=a(68065),b=a(65184),f=a(62091),I=a(1341),Z=a(59924);const C={RadioGroupRoot:{style:{alignItems:"stretch"}}},U=(0,d.zo)(m.Z,{alignItems:"stretch"}),_=(0,d.zo)("span",(e=>{let{$theme:t}=e;return{...t.typography.LabelSmall,color:t.colors.primaryA,cursor:"pointer"}})),v=(0,d.w1)(n.aU,{display:"flex",justifyContent:"flex-end"}),E=(0,d.zo)(s.default,{cursor:"pointer"}),A=(0,d.zo)(n.uT,{maxHeight:"384px",overflowY:"auto"}),T=(0,d.zo)("div",(e=>{let{$theme:t}=e;return{...t.typography.HeadingSmall,margin:t.sizing.scale600,display:"flex",justifyContent:"space-between",alignItems:"center"}})),x=(0,d.zo)("div",(e=>{let{$theme:t}=e;return{marginTop:t.sizing.scale600,gap:t.sizing.scale600,display:"flex",flexDirection:"row",alignItems:"center",overflowY:"scroll","::-webkit-scrollbar":{display:"none"}}})),O=(0,d.zo)("div",(e=>{let{$theme:t}=e;return{display:"flex",flexDirection:"row",alignItems:"center",paddingLeft:t.sizing.scale700,gap:t.sizing.scale700,height:t.sizing.scale1600}})),P=(0,d.zo)("label",(e=>{let{$theme:t}=e;return{borderBottom:"1px solid rgba(0, 0, 0, 0.04)",width:"100%",height:"100%",display:"flex",alignItems:"center"}})),L=(0,d.zo)("div",(e=>{let{$theme:t}=e;return{display:"flex",flexDirection:"row",alignItems:"center",gap:t.sizing.scale400}})),R=(0,d.zo)(f.Z,(e=>{let{$theme:t}=e;return{width:t.sizing.scale550,height:t.sizing.scale550}})),D=i.memo((function(e){return(0,Z.tZ)(c.Z,{focusLock:!0,placement:u.r4.bottomLeft,content:e.content,ignoreBoundary:!0,children:e.children})})),$=i.memo((function(e){const[t,a]=(0,o.useState)(e.sortAndFilter);i.useEffect((()=>{a(e.sortAndFilter)}),[e.sortAndFilter]);const n=e.sortAndFilter?.values?.[0]?.minPermitted,s=e.sortAndFilter?.values?.[0]?.maxPermitted,d=t?.values?.[0]?.options,c=1===n&&n===s,u=0===n&&1===s,m=i.useMemo((()=>e.sortAndFilter?.values?.[0]?.options?.filter((e=>e.selected)).map((e=>e?.uuid??""))??[]),[e.sortAndFilter]),b=e.sortAndFilter?.values?.[0]?.options?.find((e=>e.selected)),f="recommend",x=(0,o.useCallback)((a=>{let{close:i,updatedSortAndFilter:o}=a;e.onChange(o??t??e.sortAndFilter),i&&i()}),[t,e]),$=(0,o.useCallback)((a=>{const i={...t,values:[{...t?.values?.[0]||[],options:t?.values?.[0]?.options?.map(((e,t)=>({...e,selected:!u&&(1===s&&0===t)})))}]};e.onChange(i),a&&a()}),[t,e,s,u]),k=(0,o.useCallback)(((e,i)=>{const o=c?{...t,values:[{...t?.values?.[0]||[],options:t?.values?.[0]?.options?.map((t=>({...t,selected:t.uuid===e})))}]}:{...t,values:[{...t?.values?.[0]||[],options:t?.values?.[0]?.options?.map((t=>t.uuid===e?{...t,selected:!t.selected}:{...t}))}]};a(o),i&&x({updatedSortAndFilter:o})}),[c,t,x]);if(null==n||null==s||null==d||null==t?.values?.[0]||null==t.tab)return null;if(u){const t=d?.[0]?.badge?.iconUrl||"",a=m.length>0;return(0,Z.tZ)(S.Z,{startEnhancer:(0,Z.tZ)(R,{src:t,style:{filter:a?"invert(100%)":"none"}}),kind:a?y.TO.primary:y.TO.secondary,size:y.NO.compact,shape:y.X3.pill,onClick:()=>{a?$():k(d[0]?.uuid??"",!0)},children:e.sortAndFilter.tab})}return(0,Z.tZ)(D,{content:e=>(0,Z.BX)(l.Z,{title:t.tab??"",overrides:{Root:{style:{width:"375px"}},Title:()=>(0,Z.BX)(T,{children:[t.tab??"",(0,Z.tZ)(E,{onClick:e.close})]})},children:[(0,Z.tZ)(A,{children:1===s?(0,Z.tZ)(I.Z,{options:d,onSelect:e=>{const t=e?.[0]?.uuid;t&&k(t)}}):(0,Z.tZ)(U,{name:t.tab??"",onChange:e=>{k(e.target.value)},overrides:C,children:d.map((e=>null==e.uuid?null:(0,Z.tZ)("label",{children:(0,Z.BX)(O,{children:[(0,Z.tZ)(h.XZ,{name:t.tab??"",value:e.uuid,checked:e.selected??!1},e.uuid),(0,Z.tZ)(P,{children:(0,Z.tZ)(_,{children:(0,Z.tZ)(p.Z,{badge:e.badge})})})]})})))})}),(0,Z.BX)(v,{children:[(0,Z.tZ)(S.Z,{kind:"tertiary",onClick:()=>$(e.close),overrides:{BaseButton:{style:e=>{let{$theme:t}=e;return{marginRight:t.sizing.scale600}}}},children:(0,Z.tZ)(r.v,{id:"shared.reset"})}),(0,Z.tZ)(S.Z,{onClick:()=>x({close:e.close}),children:(0,Z.tZ)(r.v,{id:"shared.apply"})})]})]}),children:(0,Z.tZ)(S.Z,{kind:(c?b?.value!==f:m.length>0)?y.TO.primary:y.TO.secondary,size:y.NO.compact,shape:y.X3.pill,endEnhancer:()=>(0,Z.tZ)(g.Z,{name:"ChevronDownFilled"}),children:(0,Z.tZ)(L,{children:c&&b?.value!==f?(0,Z.tZ)(p.Z,{badge:b?.badge,baseFont:"LabelSmall",baseColor:"contentOnColor"}):`${e.sortAndFilter.tab} ${!c&&m.length>0?`(${m.length})`:""}`})})})})),k=i.memo((function(){const e=(0,b.Dc)(),t=(0,o.useCallback)((t=>{const a=e.sortAndFilters.map((e=>e.tab===t.tab?t:e));e.onChange(a)}),[e]);return(0,Z.tZ)(x,{children:e.sortAndFilters.map((e=>(0,Z.tZ)($,{onChange:t,sortAndFilter:e},e.tab)))})}))},42998:(e,t,a)=>{a.d(t,{Z:()=>p});var i=a(31913),o=a(89476),n=a(45655),l=a(93995),r=a(91931),s=a(32762),d=a(29221),c=a(67444),u=a(59924);const g=(0,r.zo)("div",(e=>{let{$theme:t,$isStoreOfdRedesignXpEnabled:a}=e;return{...a?t.typography.HeadingXSmall:t.typography.DisplayBoldXSmall}})),m=(0,r.zo)("div",(e=>{let{$theme:t}=e;return{display:"grid",gridTemplate:"1fr",gridGap:t.sizing.scale600,paddingTop:t.sizing.scale500}})),p=e=>{let{hideTitle:t,canvasParent:a,canvasChildren:r,storeUuid:p,catalogIndex:h,scrollableVerticalPadding:S,onCarouselScroll:y,onItemClick:b}=e;const{isStoreOfdRedesignXpEnabled:f}=(0,s.Z)(),I="STOREFRONT_SECTION_HEADER"===a.template,Z=(e,t)=>{switch(e.template){case"STOREFRONT_OFFERS_CARD":return(0,u.tZ)(d.Z,{canvasData:e,isMobile:!0});case"STOREFRONT_OFFER_COMBO_CARD":return(0,u.tZ)(c.Z,{canvasData:e});default:return(0,u.tZ)(n.Z,{canvasData:e,canvasParent:a,surfaceUuid:p,index:t,onClick:()=>{b&&b(t,e)}},t)}};return(0,u.BX)(l.Z,{canvasParent:a,storeUuid:p,catalogIndex:h,children:[t||"label"!==a.title?.type?null:(0,u.tZ)(g,{$isStoreOfdRedesignXpEnabled:f,children:(0,u.tZ)(i.ZP,{text:a.title?.label?.richText,...f?{__font:{style:"HEADING_X_SMALL",weight:"MEDIUM"}}:null})}),I?(0,u.tZ)(m,{children:(r||[]).map(Z)}):(0,u.tZ)(o.ZP,{slides:r,renderSlide:Z,carouselUuid:p,scrollableVerticalPadding:S,onScroll:y})]})}},36060:(e,t,a)=>{a.d(t,{Z:()=>c});var i=a(74369),o=a(79857),n=a(89476),l=a(91931),r=a(71274),s=a(59924);const d=(0,l.w1)(n.l$,(e=>{let{$overrideStyles:t={}}=e;return{"-ms-overflow-style":"none",scrollbarWidth:"none","::-webkit-scrollbar":{width:"0"},"::-webkit-scrollbar-track":{backgroundColor:"transparent"},"::-webkit-scrollbar-thumb":{backgroundColor:"transparent"},...t}})),c=(0,i.forwardRef)((function(e,t){let{cellWidth:a,containerOverrides:i,onScroll:c,children:u=[],virtualizationV2Enabled:g}=e;const m=(0,o.Z)(),[,p]=(0,l.hQ)();return(0,s.BX)(d,{ref:t,$hasScrollIndicators:!m,$overrideStyles:i,onScroll:c,children:[(0,s.tZ)(n.Dy,{}),g?(0,s.tZ)(r.Z,{defaultInitialListElementHeight:"250px",defaultInitialListElementWidth:a,defaultObserverRootMargin:"0px 250px 0px 250px",listElementStyle:{flexGrow:0,flexShrink:0,flexBasis:a,minWidth:0,margin:`0 ${p.sizing.scale200}`},children:u}):u.map(((e,t)=>(0,s.tZ)(n.bL,{$cellWidth:a,children:e},t))),(0,s.tZ)(n.Dy,{})]})}))},66014:(e,t,a)=>{a.d(t,{Z:()=>$e});var i=a("__fusion__476"),o=a(69420),n=a(94813),l=a(91931),r=a(90348),s=a(74369),d=a(83088),c=a(62091),u=a(24217),g=a(89400),m=a(31913),p=a(87763),h=a(71110),S=a(73448),y=a(2403),b=a(6479),f=a(90644),I=a(78576),Z=a(8639),C=a(11849),U=a(4868),_=a(78422),v=a(57578),E=a(79250),A=a(87444),T=a(32762),x=a(79640),O=a(29194),P=a(27813),L=a(56174),R=a(7432),D=a(59924);const $=(0,l.zo)("div",(e=>{let{$theme:t,$hasListStyleEndSpacing:a,$borderColor:i,$cornerRadius:o,$isStoreOfdRedesignXpEnabled:n,$isHorizontalGridListItem:l}=e;const r=(0,Z.Lq)(i);return{display:"flex",position:"relative",paddingBottom:l?0:n?t.sizing.scale500:t.sizing.scale300,...n?{alignItems:"center"}:null,height:a?"fit-content":"auto",flexDirection:"row-reverse",...r&&!n?{border:`1px solid ${t.colors[r]}`,borderRadius:`${o}px`}:null}})),k=(0,l.zo)("div",(e=>{let{$theme:t,$isBorderPresent:a,$isStoreOfdRedesignXpEnabled:i,$direction:o,$hasImage:n}=e;return{display:"flex",flexDirection:"column",flexGrow:1,width:"100%",overflow:"hidden",..."rtl"===o?{paddingLeft:n?t.sizing.scale300:t.sizing.scale1200}:{paddingRight:n?t.sizing.scale300:t.sizing.scale1200},...a&&!i?{padding:"8px"}:null}})),M=(0,l.zo)("div",(e=>{let{$isStoreOfdRedesignXpEnabled:t,$isVirtualized:a,$hasImage:i,$hasPromoAndEndorsement:o}=e;return{display:"-webkit-box",WebkitLineClamp:t?!a||i&&!o?2:1:4,WebkitBoxOrient:"vertical",overflow:"hidden",wordBreak:"break-word"}})),w=(0,l.zo)("div",(e=>{let{$theme:t,$imageDimensions:a,$hasImage:i=!0,$cornerRadius:o=0,$direction:n}=e;return{...a?.width&&a?.height?{width:`${a.width}px`,height:`${a.height}px`}:{...i?{height:"112px",overflow:"hidden",aspectRatio:"1"}:{overflow:"visible"}},display:"flex",flexShrink:0,position:"relative",borderRadius:`${o}px`,..."ltr"===n?{paddingRight:t.sizing.scale300}:"rtl"===n?{paddingLeft:t.sizing.scale300}:null}})),B=(0,l.zo)("div",(e=>{let{$cornerRadius:t}=e;return{position:"absolute",top:0,left:0,right:0,bottom:0,background:"rgba(0, 0, 0, 0.02)",borderRadius:`${t}px`}})),z=(0,l.zo)(c.Z,(e=>{let{$isAvailable:t,$objectFit:a,$cornerRadius:i,$loaded:o}=e;return{opacity:o?t?1:.5:0,position:"absolute",maxHeight:"132px",transform:"translate(-50%, -50%)",top:"50%",left:"50%",width:"100%",height:"100%",objectFit:a,borderRadius:`${i}px`}})),N=(0,l.zo)("div",(e=>{let{$theme:t,$isStoreOfdRedesignXpEnabled:a}=e;return{boxSizing:"border-box",width:"fit-content",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",maxWidth:"100%",...a?{...t.typography.ParagraphSmall,display:"inline-flex",color:t.colors.contentPrimary}:{...t.typography.LabelXSmall,color:t.colors.buttonSecondaryText,borderRadius:"12px",height:"24px",padding:"4px 8px",marginTop:"4px",display:"flex",background:t.colors.buttonSecondaryFill},alignItems:"center"}})),H=(0,l.zo)("div",(e=>{let{$theme:t,$isStoreOfdRedesignXpEnabled:a}=e;return{...t.typography.LabelXSmall,height:t.sizing.scale800,background:t.colors.signpost,color:t.colors.onSignpost,boxSizing:"border-box",padding:`${t.sizing.scale100} ${t.sizing.scale200}`,overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",maxWidth:"90%",marginTop:t.sizing.scale100,width:"fit-content",borderRadius:t.sizing.scale500,...a?{...t.typography.LabelXSmall,height:"inherit",padding:`${t.sizing.scale100} ${t.sizing.scale300}`}:null}})),G=(0,l.zo)("div",(e=>{let{$isStoreOfdRedesignXpEnabled:t}=e;return{paddingTop:"2px",display:"flex",alignItems:t?"center":"flex-start",flexWrap:"wrap"}})),F=(0,l.zo)("p",{display:"flex",alignItems:"center",flexWrap:"wrap"}),X=(0,l.zo)("div",{paddingTop:"4px",display:"flex",alignItems:"flex-start",flexWrap:"wrap"}),V=(0,l.zo)("div",(e=>{let{$theme:t,$isVirtualized:a,$isStoreListItemHeadingPrimaryVirtualizationEnabled:i}=e;return{height:a?i?"inherit":`${t.typography.LabelMedium.lineHeight}`:"auto"}})),q="LabelMedium",W="ParagraphSmall",Y=(0,l.zo)("div",(e=>{let{$promoBadgePosition:t}=e;return{whiteSpace:"nowrap",display:"flex",alignItems:"flex-start",...t===U.u.OVER_IMAGE_TOP_LEADING?{position:"absolute",top:"4px",left:"4px",maxWidth:"calc(100% - 8px)"}:{marginTop:"4px"}}})),Q=(0,l.zo)("div",(e=>{let{$theme:t}=e;return t.typography.LabelMedium})),j=(0,l.zo)("div",(e=>{let{$theme:t}=e;return{marginTop:t.sizing.scale100}})),K=(0,l.zo)("div",(e=>{let{$theme:t,$direction:a}=e;return"ltr"===a?{paddingRight:t.sizing.scale100}:{paddingLeft:t.sizing.scale100}})),J=(0,l.zo)("span",{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"}),ee=(0,h.pZ)(a(19702)),te=e=>{let{children:t,item:a,quickAdd:i,isFullWidth:o,isGrocery:n=!1,storeUuid:l,itemStyles:r,hasLazyloadOverflowContainer:c,scrollContainerValue:h,isHorizontalGridListItem:Z=!1,virtualizationProps:te}=e;const[ae,ie]=(0,s.useState)(!1),oe=Boolean(a.imageUrl),ne=a.imageUrl||ee,le=oe,re=Boolean(a.promoInfo?.promoBadge),{promotionComponentRef:se}=(0,y.P)({catalogItem:a,storeUuid:l}),{adsViewableImpressionRef:de}=(0,b.Z)({itemAd:a.itemAd}),{itemRatingTreatmentName:ce}=(0,E.F)(),ue=(0,A.Z)("cpg_ads_storefront_sponsored_items_enabled"),ge=(0,A.Z)("store_list_item_heading_primary_virtualization"),me=(0,s.useMemo)((()=>(0,v.xZ)(a,ce)),[a,ce]),pe=a.isAvailable??!0,{isStoreOfdRedesignXpEnabled:he}=(0,T.Z)(),Se=he&&!n,ye=(0,I.lU)(r?.cornerRadius??f.p.SPACING_UNIT_1X),be=(0,x.JG)({isGrocery:n,itemStyle:r}),fe=!n&&Boolean(te),Ie=((e,t)=>{if(!t)return 3;const a=Boolean(e.imageUrl);return e.itemDescriptionBadge||!a?1:2})(a,fe),Ze=r?.labelPrimaryMaxLines,Ce=r?.headingPrimaryMaxLines,Ue=(0,O.gm)(),_e=(0,P.Z)();return(0,D.BX)($,{ref:de,$hasListStyleEndSpacing:Se,$borderColor:r?.borderColor,$cornerRadius:ye,$isStoreOfdRedesignXpEnabled:he,$isHorizontalGridListItem:Z,children:[le?(0,D.tZ)(D.HY,{children:(0,D.BX)(w,{$cornerRadius:ye,$direction:Ue,children:[(0,D.tZ)(d.ZP,{height:"100%",...c?{overflow:!0,offset:[1200,300]}:null,once:!0,scrollContainer:h,children:(0,D.tZ)(S.Z,{condition:oe,wrapper:e=>(0,D.tZ)(u.Z,{src:ne,..._e?{width:240,height:160}:null,children:e}),children:(0,D.tZ)(z,{$objectFit:be,$isAvailable:pe,$loaded:ae,src:ne||"",alt:a.title||"","aria-hidden":!0,loading:"lazy",decoding:"async",onLoad:()=>ie(!0),$cornerRadius:ye})})}),a.imageOverlayElements?(0,D.tZ)(R.Z,{elements:a.imageOverlayElements}):(0,D.tZ)(B,{$cornerRadius:ye}),t,a.imageOverlayElements?null:(0,D.tZ)(D.HY,{children:re&&a.promoInfo?.promoBadge&&a.promoInfo?.badgePosition===U.u.OVER_IMAGE_TOP_LEADING?(0,D.tZ)(Y,{$promoBadgePosition:U.u.OVER_IMAGE_TOP_LEADING,children:(0,D.tZ)(C.Z,{viewModel:a.promoInfo?.promoBadge})}):null})]})}):Se?(0,D.tZ)(w,{$hasImage:oe,children:t}):t,(0,D.tZ)(k,{ref:se,$isBorderPresent:Boolean(r?.borderColor),$isStoreOfdRedesignXpEnabled:he,$direction:Ue,$hasImage:oe,children:a.itemThumbnailElements?(0,D.tZ)(L.Z,{elements:a.itemThumbnailElements}):(0,D.BX)(D.HY,{children:[a.headingPrimary&&Ce?(0,D.tZ)(p.Z,{clamp:Ce,children:(0,D.tZ)(m.ZP,{text:a.headingPrimary})}):(0,D.tZ)(p.Z,{clamp:Ie,children:i?(0,D.tZ)(V,{$isVirtualized:fe,$isStoreListItemHeadingPrimaryVirtualizationEnabled:ge,children:a.headingPrimary&&ge?(0,D.tZ)(m.ZP,{text:a.headingPrimary}):(0,D.tZ)(g.Z,{badge:a.titleBadge,baseFont:q})}):a.headingPrimary?(0,D.tZ)(m.ZP,{text:a.headingPrimary}):a.titleBadge?(0,D.tZ)(g.Z,{badge:a.titleBadge,baseFont:q}):a.title&&!a.labelPrimary?(0,D.tZ)(Q,{children:a.title}):null}),a.labelPrimary&&Ze?(0,D.tZ)(p.Z,{clamp:Ze,children:(0,D.tZ)(m.ZP,{text:a.labelPrimary})}):a.labelPrimary?(0,D.tZ)(G,{$isStoreOfdRedesignXpEnabled:he,children:n?(0,D.tZ)(p.Z,{clamp:3,children:(0,D.tZ)(m.ZP,{text:a.labelPrimary})}):(0,D.tZ)(F,{children:(0,D.tZ)(m.ZP,{text:a.labelPrimary})})}):a.priceTagline?(0,D.tZ)(j,{children:(0,D.tZ)(g.Z,{badge:a.priceTagline,baseFont:W})}):null,a.promoInfo&&a.promoInfo?.promoBadge&&a.promoInfo?.badgePosition===U.u.OFF_IMAGE_BELOW_TEXT?(0,D.tZ)(Y,{$promoBadgePosition:U.u.OFF_IMAGE_BELOW_TEXT,children:(0,D.tZ)(C.Z,{viewModel:a.promoInfo.promoBadge})}):null,a.labelTertiary&&ue?(0,D.tZ)(X,{children:(0,D.tZ)(m.ZP,{text:a.labelTertiary})}):null,a.itemDescriptionBadge?(0,D.tZ)(M,{$isStoreOfdRedesignXpEnabled:he,$isVirtualized:Boolean(te),$hasPromoAndEndorsement:Boolean((a.promoInfo||a.labelTertiary)&&a.endorsement),$hasImage:oe,children:(0,D.tZ)(g.Z,{badge:a.itemDescriptionBadge,baseFont:W})}):null,a.promoInfo&&!a.promoInfo?.promoBadge?(0,D.tZ)(X,{children:(0,D.tZ)(m.ZP,{text:a.promoInfo?.promoInfoLabel})}):a.promoInfo?.promoBadge&&a.promoInfo?.badgePosition!==U.u.OFF_IMAGE_BELOW_TEXT&&a.promoInfo?.badgePosition!==U.u.OVER_IMAGE_TOP_LEADING?(0,D.tZ)(Y,{children:(0,D.tZ)(C.Z,{viewModel:a.promoInfo.promoBadge})}):null,a.endorsement&&a.endorsement?.textBorder?(0,D.tZ)(H,{$isStoreOfdRedesignXpEnabled:he,children:a.endorsement.text}):a.endorsement&&!a.endorsement.textBorder&&me?(0,D.BX)(N,{children:["confidence_builders_eater_endorsed"===a.endorsementAnalyticsTag?(0,D.tZ)(K,{$direction:Ue,children:(0,D.tZ)(_.Z,{name:"ThumbUpFilled"})}):null,(0,D.tZ)(J,{children:me})]}):null]})})]})};var ae=a(57727),ie=a(47986),oe=a(10400),ne=a(47091),le=a(33535),re=a(37933),se=a(78979),de=a(16797),ce=a(24316),ue=a(4864),ge=a(74031),me=a(85907),pe=a(17222),he=a(49723),Se=a(55365),ye=a(73472),be=a(51773),fe=a(89917),Ie=a(79857),Ze=a(72439),Ce=a(70329),Ue=a(28942),_e=a(55186),ve=a(54669),Ee=a(85191),Ae=a(71692),Te=a(4462),xe=a(41063),Oe=a(34626);const Pe=(0,l.zo)("div",(e=>{let{$theme:t,$spanCount:a,$isFullWidth:i,$isStoreOfdRedesignXpEnabled:o,$isHorizontalGridListItem:n,$forceShowBottomBorder:l}=e;return{minWidth:0,gridColumn:`span ${a}`,...i&&o?n?{boxSizing:"border-box",border:`${t.sizing.scale0} solid ${t.colors.borderOpaque}`,borderRadius:t.sizing.scale600,display:"flex",alignItems:"center",padding:t.sizing.scale600,marginBottom:t.sizing.scale300,height:"100%"}:{borderBottom:`1px solid ${t.colors.borderOpaque}`,...l?null:{":last-child":{borderBottom:"none"}}}:null,[ne.k]:{width:"calc(50% - 16px)",margin:"0px 16px"}}})),Le=(0,l.zo)("div",{textDecoration:"none",position:"relative",width:"100%"}),Re=(0,l.zo)("div",(e=>{let{$quickAddPosition:t,$shouldVerticallyCenterQuickAddButton:a}=e;return{position:"absolute",right:"8px",display:"flex",alignItems:"center",flexDirection:"row",...a?{top:0,bottom:0}:{...t===oe.oN.BOTTOM_TRAILING?{bottom:"8px"}:{top:"8px"}}}})),De=e=>{let{storePosition:t,storeUuid:a,subsectionUuid:l,sectionUuid:s,catalogSectionUuid:d,analyticsLabel:c,item:u,pageType:g,cartItemCount:m,cartItemDecimalCount:p,syncItemQuantity:h,index:S,quickAddCount:y,quickAddDisabled:b,gridColumns:f,catalogSectionType:I,catalogSectionAnalyticsData:Z,isOpen:C,isGrocery:U,itemUrl:_,emitPickedForYouSectionItemEvent:v,itemStyles:E,onCatalogItemClickEvent:A,quickAddSource:T,hasLazyloadOverflowContainer:x,maxSpanCount:O,scrollContainerValue:P,onLowAvailabilityAlternateItemClick:L,surface:R,shouldHideQuickAdd:$=!1,resultIndex:k,primaryBundledStoreUuid:M,isHorizontalGridListItem:w=!1,searchQuery:B,virtualizationProps:z,itemPosition:N,position:H,slug:G,isMultiSkuModal:F,refetchMultiSkuModalBanner:X}=e;const V=(0,fe.Z)(),q=(0,n.TH)(),W=(0,o.UO)(),Y=(0,o.k6)(),Q=(0,be.Z)(),{resetReplacementPreferencesAndNotes:j}=(0,he.Z)(),{primaryDraftOrderUUID:K,storeCatalogSections:J,vertical:ee,userQuery:ne,searchType:De,searchEntered:$e,eventSource:ke}=(0,ie.RAN)(q,["primaryDraftOrderUUID","storeCatalogSections","vertical","userQuery","searchEntered","searchType","eventSource"]),{currentStoreDraftOrderUUID:Me,totalOrders:we}=(0,ce.Z)(),Be=K||(Me||void 0),ze=(0,le.ZP)(),Ne=(0,re.n_)(),He="LIST"===u.displayType&&f===u.spanCount,Ge="LIST"===u.displayType,Fe=u.quickAddConfig,Xe=Fe?.position,{consumerItemFulfillmentViewType:Ve,isFulfilled:qe,showBlockedItemSnackbar:We}=(0,Ze.g)(u.uuid??""),{isStoreOfdRedesignXpEnabled:Ye,showQuickAdd:Qe,menuItem:je}=(0,Ce.Z)(),Ke=qe,Je=(0,se.Z)()&&(Fe?.shouldShow??!0)&&!$&&C&&Qe;Boolean(u.isAvailable??!0);const et="link"===je,tt=(0,me.F)(R),at={storeCatalog:{storeUuid:a,sectionUuid:s,searchType:De,searchTerm:ne,searchEntered:$e,selectedVertical:ee||"ALL",subsectionUuid:l,displayItemUuid:u.uuid||"",itemUuid:u.uuid||"",itemPosition:N??-1,feedItemPosition:H??-1,endorsementAnalyticsTag:u.endorsementAnalyticsTag||"",itemDisplayType:u.displayType||"",catalogSectionType:I,eventSource:ke,sourceType:R,catalogSectionAnalyticsData:Z,analyticsLabel:c||"",feedContext:(0,Ae.P)(g),...J?{originalCatalogSectionUuid:J}:null,query:B}},it=(0,ue.ZP)(u.uuid||""),ot=m??it,nt=u?.itemAvailabilityState===oe.F8.LIKELY_UNAVAILABLE,lt=Boolean(u.imageUrl),rt=(0,Se.Z)(at),{startTiming:st}=(0,ye.K3)(),dt=i.useMemo((()=>({catalogSection:Z})),[Z]),ct={referrerItem:"",referrerItemCatalog:""},ut=(0,ie.f_e)(q,{storeUuid:a,sectionUuid:s,subsectionUuid:l,itemUuid:u.uuid||"",showSeeDetailsCTA:!0,...F&&{referrer:ie.V$W.multiSkuPromotion},...M&&{primaryBundledStoreUuid:M,primaryDraftOrderUUID:Be}},tt,ct),gt=Q?ut:(0,ie.yz4)({location:q,args:{...(0,ie.WxO)(W),sectionUuid:s,subsectionUuid:l,itemUuid:u.uuid||"",...F&&{referrer:ie.V$W.multiSkuPromotion},...a&&{storeUuid:a},...G&&{storeSlug:G},...M&&{primaryBundledStoreUuid:M,primaryDraftOrderUUID:Be,entryPoint:tt}},inMemoryCartContext:ct}),mt=(0,ve.Z)(),{user:pt}=(0,Oe.Z)(),ht=_??gt,St=Q&&!_,yt=(0,Ie.Z)();i.useEffect((()=>{nt&&ze("eats:item_availability_store_carousel_low_availability_impression",{itemAvailabilityStoreAndItem:{lowAvailabilityItemUuid:u?.uuid||"",catalogSectionUuid:s||""}})}),[ze,nt,u.uuid,s]);const bt=Boolean(z)&&!z?.isLastElement,ft=Ge?te:r.Z,It=(0,Ee.s)({tapEventName:"search_feed_dish_tapped",payload:at.storeCatalog}),Zt=()=>{F&&X&&X()};return(0,D.tZ)(Pe,{$spanCount:O||u.spanCount||1,$isFullWidth:He,$isStoreOfdRedesignXpEnabled:Ye,$isHorizontalGridListItem:w,$forceShowBottomBorder:bt,children:(0,D.tZ)(_e.Z,{type:"login",children:e=>{let{onClick:t}=e;return(0,D.tZ)(Te.Z,{isEligible:!pt.data?.isLoggedIn&&!mt,experimentParams:xe.v.storefront_auth_vs_add_nudge,children:e=>(0,D.tZ)("div",{onClick:()=>{e&&(t(),ze("eats:redirect_authentication_attempt",{source:"quick-view-item"}))},children:(0,D.tZ)(Le,{...et?{to:ht,ref:rt,"data-testid":`store-item-${u.uuid}`,tabIndex:0}:{},$as:et?pe.rU:"div",onClick:t=>{t.target instanceof Element&&t.target.closest(`.${Ue.R}`)?(t.preventDefault(),t.stopPropagation()):Ke&&et?(t.preventDefault(),We?.(Ve,u.title)):((e,t)=>{e.preventDefault(),et?(st(`menu_item_loading_${u.uuid}`,{metadata:{storeUuid:a,verticalLabel:U?"GR":"OFD"}}),st(`menu_item_loaded_${u.uuid}`,{metadata:{storeUuid:a,verticalLabel:U?"GR":"OFD"}}),j(),It(),ze("eats:store_catalog_item_tap",at),u.itemAd&&Ne("ads:ads_click",{adsAnalyticsEvent:{adEventType:de.J.CLICK,adImpressionUUID:u.itemAd.impressionId||"",adData:u.itemAd.adData||"",bidderUUID:null===a?void 0:a}}),v?.(at),A?.({storeUuid:a,itemUuid:u.uuid||"",position:k||0}),L?.({alternateItemUuid:u.uuid||"",storeUuid:a}),V(St||yt?{type:"HEADER_INFO",payload:{title:""}}:{type:"HEADER_INFO",payload:{customButtons:[{icon:"SHOPPING_CART",badgeNumber:we,action:"SHOPPING_CART"}]}}),ze("eats:quick_add_launching_pdp",at),t||Y.push(ht)):ze("eats:lost_store_catalog_item_tap",{storeCatalog:{storeUuid:a,sectionUuid:s,itemUuid:u.uuid||""}})})(t,e)},children:(0,D.tZ)(ft,{isFullWidth:He,item:u,quickAdd:Je,isGrocery:U,storeUuid:a,itemStyles:E,hasLazyloadOverflowContainer:x,scrollContainerValue:P,isHorizontalGridListItem:w,virtualizationProps:z,...Ge?{}:{consumerItemFulfillmentViewType:Ve,isMultiSkuModal:F},children:(0,D.BX)(Re,{$quickAddPosition:Xe,$shouldVerticallyCenterQuickAddButton:Ge&&Ye&&!lt,children:[Je?(0,D.tZ)(ae.Z,{size:ae.a.SMALL,isInteractionEnabled:Fe?.isInteractionEnabled??!0,storeUUID:a,sectionUUID:s,subsectionUUID:l,catalogSectionUUID:d,item:u,cartItemCount:m,cartItemDecimalCount:p,syncItemQuantity:h,quickAddCount:y,disabled:!!Ke||b,itemUrl:_,quickAddSource:T,itemAvailabilityState:u?.itemAvailabilityState,sourceType:R,analytics:dt,resultIndex:k,onClickEvent:Zt,isMultiSkuModal:F,searchTerm:B??ne,itemPosition:N,position:H,selectedVertical:ee}):null,ot&&!Je?(0,D.tZ)(ge.Z,{count:ot}):null]})})})})})}})})},$e=i.memo(De)},42730:(e,t,a)=>{a.d(t,{aB:()=>j,nI:()=>J,ZC:()=>K,uq:()=>ae,ZP:()=>ie});var i=a(74369),o=a("__fusion__476"),n=a(69420),l=a(91931),r=a(4864),s=a(15070),d=a(66014),c=a(47091),u=a(8054),g=a(56065),m=a(94813),p=a(47986),h=a(36278),S=a(6703),y=a(42751),b=a(45631),f=a(56533),I=a(41561),Z=a(87444),C=a(61304),U=a(42998),_=a(92903),v=a(10707),E=a(72326),A=a(57578),T=a(99378);var x=a(47885),O=a(84272),P=a(52692),L=a(32762),R=a(75618),D=a(65088),$=a(60849),k=a(41063),M=a(61250),w=a(65184),B=a(29831),z=a(13427),N=a(14644),H=a(59924);const G=o.memo((function(e){let{storeUuid:t,isGrocery:a,item:i,sectionUuid:o,subsectionUuid:n,catalogSectionUuid:l,catalogSectionType:r,catalogSectionAnalyticsData:s,itemStyleMetadata:c,emitPickedForYouSectionItemEvent:u,isOpen:g,quickAddSource:m,index:p,isHorizontalGridListItem:h,gridColumns:S,virtualizationProps:y,slug:b,isMultiSkuModal:f,refetchMultiSkuModalBanner:I}=e;const Z=i?.catalogItemAnalyticsData?.catalogSectionItemPosition??-1,{quickAddDisabled:U,syncItemQuantity:_,quickAddCount:v,cartItemCount:E,cartItemDecimalCount:A}=(0,N.FA)(),{primaryBundledStoreUuid:T}=(0,O.Z)();return(0,H.tZ)(d.Z,{storeUuid:t,sectionUuid:o,subsectionUuid:n,catalogSectionUuid:l,emitPickedForYouSectionItemEvent:u,item:i,cartItemCount:E,cartItemDecimalCount:A,syncItemQuantity:_,index:p,quickAddCount:v,quickAddDisabled:U,gridColumns:S,catalogSectionType:r,catalogSectionAnalyticsData:s,isOpen:g,isGrocery:a,itemStyles:c,surface:C.b.STOREFRONT,primaryBundledStoreUuid:T,isHorizontalGridListItem:h,virtualizationProps:y,itemPosition:Z,slug:b,isMultiSkuModal:f,refetchMultiSkuModalBanner:I})}));function F(e){let{syncToCart:t,isInitialLoad:a,...i}=e;return(0,H.tZ)(N.ZP,{storeUuid:i.storeUuid,itemUuid:i.item.uuid||"",syncToCart:t,isInitialLoad:a,children:(0,H.tZ)(G,{...i})})}G.displayName="StoreMobileCatalogItem",F.displayName="StoreDesktopCatalogItemSyncCart";var X=a(45654),V=a(74492),q=a(24230),W=a(33535);const Y=["REGULAR_STORE","STOREFRONT_OFFERS_CARD","STOREFRONT_OFFER_COMBO_CARD"],Q=e=>{let{adCanvasPayload:t,storeUuid:a,catalogIndex:i}=e;const o=(0,Z.Z)("boga_enabled");if(!o)return null;const n=t?.adsExperimentalStorePayload?.parent;if(!n)return null;const l=n?.template||"",r=(t?.adsExperimentalStorePayload?.children||[]).filter((e=>Y.includes(e?.template||"")));switch(l){case"REGULAR_CAROUSEL":return(0,H.tZ)(U.Z,{canvasParent:n,canvasChildren:r,storeUuid:a,catalogIndex:i});case"STOREFRONT_SECTION_HEADER":return o?(0,H.tZ)(U.Z,{canvasParent:n,canvasChildren:r,storeUuid:a,catalogIndex:i}):null;default:return null}},j=256,K=36,J=20,ee=(0,l.zo)("div",(e=>{let{$gridColumns:t,$addPaddingBottom:a=!1}=e;return{display:"grid",gridGap:"12px",gridTemplateColumns:`repeat(${t}, 1fr)`,[c.k]:{display:"flex",flexWrap:"wrap",margin:"0 -16px"},...a?{paddingBottom:"12px"}:null}})),te=(0,l.zo)("div",(e=>{let{$theme:t,$isStoreOfdRedesignXpEnabled:a}=e;return{padding:a?`0 0 ${t.sizing.scale500} 0`:`${t.sizing.scale300} 0 ${t.sizing.scale600} 0`,display:"flex",justifyContent:"space-between",alignItems:"flex-end"}})),ae=(0,l.zo)("li",(e=>{let{$theme:t,$hasVerticalMargins:a=!0}=e;return{padding:0,marginBottom:a?t.sizing.scale600:0}})),ie=e=>{const{cartCountSummary:t,cartCountDecimalsSummary:a,cart:l,hasCartToLoad:c}=(0,r.F7)(e.storeUuid),[N,G]=(0,i.useState)(!0),{syncItems:Y,quantities:ie}=(0,s.v)((e=>e.quickAdd)),[oe,ne]=(0,i.useState)(!0),le=(0,n.k6)(),re=(0,m.TH)(),se=(0,W.ZP)(),{storeCatalogSections:de}=(0,p.RAN)(re,["storeCatalogSections"]),{emitPickedForYouSectionItemEvent:ce}=e,ue=e.shouldVirtualizeOFDCatalogItems,ge=(0,Z.Z)("merchant_offers"),me=(0,Z.Z)("store_pagination_empty_state"),pe=(0,Z.Z)("cpg_ads_storefront_sponsored_items_enabled"),he=(0,Z.Z)("multi_sku_promotions_enabled"),{isStorePrecheckoutBundlingEnabled:Se}=(0,x.Z)(),{primaryBundledStoreUuid:ye}=(0,O.Z)(),{isStoreOfdRedesignXpEnabled:be}=(0,L.Z)(),fe=(0,z.Z)(),Ie=(0,X.Z)();(0,i.useEffect)((()=>{(!l.isLoading&&l.hasLoaded||!c)&&(ne(!1),G(!1))}),[N,G,l.hasLoaded,l.isLoading,c]);const{registerSubsectionRef:Ze}=(0,g._J)();(0,i.useEffect)((()=>{l.error&&G(!0)}),[l.error]);const Ce=e.catalogSection.payload,Ue=e.catalogSection.type,_e=e.catalogSection.catalogSectionUUID,ve=Ce?.type===R.p.standardItemsPayload?Ce.standardItemsPayload:null,Ee=ve?.catalogSectionAnalyticsData,Ae=Ce?.type===R.p.adCanvasPayload?Ce.adCanvasPayload:null,Te=Ce?.type===R.p.bundleStorePayload?Ce.bundleStorePayload:null,xe=Ce?.type===R.p.emptyStatePayload?Ce.emptyStatePayload:null,Oe=Ce?.type===R.p.aisleShortcutItems?Ce.aisleShortcutItems:null,Pe=o.useMemo((()=>{const t=ve?.catalogItems||[];return e.serverRenderLimitedItems&&"number"==typeof e.maxItemCount?t.slice(0,e.maxItemCount):t}),[ve,e.serverRenderLimitedItems,e.maxItemCount]),Le=de?Pe:Pe.slice(0,12),Re=ve?.spanCount||1,De=o.useMemo((()=>(0,b.Z)(Pe,e.isGrocery?Re:1)),[Pe,Re,e.isGrocery]),$e=ve?.itemStyleMetadata,ke=o.useCallback((t=>{t&&e.isActive&&_e&&Ze(_e,t)}),[_e,e.isActive,Ze]),Me=o.useCallback(((i,o,n,l)=>{const r=i.uuid,s=(0,A.Yx)({catalogItem:i,sectionUuid:e.activeSectionUuid,isGrocery:e.isGrocery,isMerchantOffersEnabled:ge,catalogSectionUuid:_e}),c=!e.isGrocery&&ge?_e:i.subsectionUuid;if(!(r&&s&&c&&_e&&Ue))return null;const u=t[r]??0,g=a[r]??null,m=N||Y[r],p=ie[r]??(0,S.bN)(),h=i?.catalogItemAnalyticsData?.catalogSectionItemPosition??-1;return(0,H.tZ)(d.Z,{storeUuid:e.storeUuid,sectionUuid:s,subsectionUuid:c,catalogSectionUuid:_e,emitPickedForYouSectionItemEvent:ce,item:i,cartItemCount:u,cartItemDecimalCount:g,syncItemQuantity:m,index:o,quickAddCount:p,quickAddDisabled:oe,gridColumns:Re,catalogSectionType:Ue,catalogSectionAnalyticsData:Ee,isOpen:e.isOpen,isGrocery:e.isGrocery,itemStyles:$e,surface:e.surface??C.b.STOREFRONT,primaryBundledStoreUuid:ye,isHorizontalGridListItem:n,virtualizationProps:l,itemPosition:h},`${r}-${o}`)}),[e.activeSectionUuid,e.isGrocery,e.storeUuid,e.isOpen,e.surface,ge,_e,Ue,t,N,Y,ie,ce,oe,Re,Ee,$e,ye,a]),we=o.useCallback(((t,a,i,o)=>{const n=t.uuid,l=(0,A.Yx)({catalogItem:t,sectionUuid:e.activeSectionUuid,isGrocery:e.isGrocery,isMerchantOffersEnabled:ge,catalogSectionUuid:_e}),r=!e.isGrocery&&ge?_e:t.subsectionUuid;return n&&l&&r&&_e&&Ue?(0,H.tZ)(F,{storeUuid:e.storeUuid,sectionUuid:l,subsectionUuid:r,catalogSectionUuid:_e,emitPickedForYouSectionItemEvent:ce,item:t,index:a,gridColumns:Re,catalogSectionType:Ue,catalogSectionAnalyticsData:Ee,isOpen:e.isOpen,isGrocery:e.isGrocery,itemStyleMetadata:$e,isHorizontalGridListItem:i,virtualizationProps:o,syncToCart:N,isInitialLoad:oe,slug:e.slug,isMultiSkuModal:e.isMultiSkuModal,refetchMultiSkuModalBanner:e.refetchMultiSkuModalBanner},`${n}-${a}`):null}),[e.activeSectionUuid,e.isGrocery,e.storeUuid,e.isOpen,ge,_e,Ue,ce,Re,Ee,$e,N,oe,e.slug,e.isMultiSkuModal,e.refetchMultiSkuModalBanner]),Be=fe?we:Me,ze=o.useCallback(((t,a)=>{const i=De[a];if(e.isGrocery)return(e=>{let{catalogItems:t,sponsoredItemsTagEnabled:a,multiSkuTagEnabled:i}=e,o=j;const n=t?.find((e=>"GRID"===e.displayType&&e.labelTertiary&&a));return n&&(o+=K),i&&(0,T.Tj)(t||[])&&(o+=J),o})({catalogItems:i,sponsoredItemsTagEnabled:pe,multiSkuTagEnabled:he});const o=i?.[0],n=a===De.length-1;if("GRID"===o?.displayType)return 220;if(!o?.imageUrl){const e=42,t=o?.itemDescriptionBadge?20:0,a=o?.endorsement?28:0;return e+t+(o?.promoInfo&&!o.promoInfo?.promoBadge?20:0)+a+(n?12:24)}return 125+(n?0:12)}),[e.isGrocery,De,pe,he]),Ne=(0,$.ip)({...k.v.store_carousel_infinite_paginated_scroll,defaultValue:!1});(0,i.useEffect)((()=>{const{ctaButtonViewModel:t,titleV2:a}=(0,q.P)(e.catalogSection);t&&se("eats:store_front_catalog_membership_upsell_section_impression",{catalogSectionUuid:e.catalogSection?.catalogSectionUUID}),a&&se("eats:store_front_catalog_member_ux_section_impression",{catalogSectionUuid:e.catalogSection?.catalogSectionUUID})}),[se,e.catalogSection]);const He=o.useMemo((()=>{if(me&&xe)return(0,H.tZ)(E.Z,{payload:xe,isLost:e.isLost});switch(Ue){case"HORIZONTAL_GRID":if(e.isGrocery&&null!=_e&&Ne)return(0,H.tZ)(D.n,{activeSectionUuid:e.activeSectionUuid,catalogItems:Pe,catalogSection:e.catalogSection,catalogSectionUuid:_e,isGrocery:e.isGrocery,isMobile:!0,renderCatalogItemsHorizontalGrid:Be,storeCatalogSections:de,storeUuid:e.storeUuid});{const t=!e.isGrocery&&be;return(0,H.tZ)(_.Z,{itemsToShow:ve?.numOfItemsOnScreen,storeUuid:e.storeUuid,sectionUuid:e.activeSectionUuid,catalogSection:e.catalogSection,catalogConfig:{surface:C.b.STOREFRONT},isGrocery:e.isGrocery,showHeaderCTA:!0,shouldUseNewDivider:be,children:Le.map(((e,a)=>Be(e,a,t)))})}case"VERTICAL_GRID":return(0,H.BX)(H.HY,{children:[(0,H.BX)(V.v,{children:[(0,H.tZ)(te,{$isStoreOfdRedesignXpEnabled:be,children:(0,H.BX)("div",{children:[(0,H.tZ)(u.Z,{catalogSection:e.catalogSection,baseFont:be?"HeadingXSmall":"DisplayBold4XSmall"}),(0,H.tZ)(f.Z,{catalogSection:e.catalogSection,baseFont:"ParagraphSmall"})]})}),(0,H.tZ)(q.Z,{catalogSection:e.catalogSection,onClick:()=>{const{ctaUri:t}=(0,q.P)(e.catalogSection);se("eats:store_front_catalog_membership_upsell_button_click",{catalogSectionUuid:e.catalogSection?.catalogSectionUUID}),le.push((0,p.xH8)(re,t))}})]}),e.shouldShowSortAndFilter?(0,H.tZ)(w.$Q,{children:(0,H.tZ)(B.B,{})}):null,ue||e.isGrocery&&!e.isMultiSkuModal?(0,H.BX)(H.HY,{children:[(0,H.tZ)(y.ZP,{calculateHeight:ze,children:De.map(((t,a)=>{const i=a===De.length-1;return(0,H.tZ)(ee,{$gridColumns:e.isGrocery?Re:1,$addPaddingBottom:!e.isGrocery&&!t[0]?.imageUrl&&!i,children:t.map(((t,a)=>Be(t,a,!1,{isLastElement:i,isFullWidthGridItem:!e.isGrocery&&"GRID"===t.displayType})))},a)}))}),be&&!e.isGrocery?(0,H.tZ)(P.Z,{$color:"backgroundSecondary",$margin:"0 -16px",$height:"4px"}):null]}):(0,H.BX)(H.HY,{children:[(0,H.tZ)(ee,{$gridColumns:Re,children:Pe.map(((e,t)=>Be(e,t,!1)))}),be&&!e.isMultiSkuModal?(0,H.tZ)(P.Z,{$color:"backgroundSecondary",$margin:"0 -16px",$height:"4px"}):null]})]});case"BUNDLE_STORE":return Se&&Te?(0,H.tZ)(v.Z,{bundleStorePayload:Te,catalogSectionType:Ue,storeUuid:e.storeUuid,sectionUuid:e.activeSectionUuid,catalogSectionUuid:_e,quickAddDisabled:oe,isOpen:e.isOpen,syncToCart:N,itemStyleMetadata:$e,surface:C.b.BUNDLE_CAROUSEL,isGrocery:e.isGrocery}):null;case"SPECIAL_REQUEST":return(0,H.BX)(H.HY,{children:[(0,H.tZ)(h.sA,{}),(0,H.tZ)(I.Z,{catalogSection:e.catalogSection})]});case"AD_CANVAS":{if(!Ae)return null;const t=Ae?.adsExperimentalStorePayload?.parent;if(!t)return null;if("REGULAR_CAROUSEL"!==t.template)return(0,H.tZ)(Q,{adCanvasPayload:Ae,storeUuid:e.storeUuid,catalogIndex:e.catalogIndex});const a=(Ae.adsExperimentalStorePayload?.children||[]).filter((e=>"REGULAR_STORE"===e.template));return(0,H.tZ)(U.Z,{canvasParent:t,canvasChildren:a,storeUuid:e.storeUuid,catalogIndex:e.catalogIndex})}case"AISLE_SHORTCUTS":return(0,H.tZ)(M.Z,{title:Oe?.title,aisleShortcutItems:Oe?.aisleShortcutItems,sectionUuid:e.activeSectionUuid||"",catalogIndex:e.catalogIndex});default:return null}}),[me,xe,Ue,e.isLost,e.isGrocery,e.activeSectionUuid,e.catalogSection,e.storeUuid,e.shouldShowSortAndFilter,e.isOpen,e.catalogIndex,_e,Ne,Pe,Be,de,be,ve?.numOfItemsOnScreen,Le,ue,ze,De,Re,se,le,re,Se,Te,oe,N,$e,Ae,Oe?.title,Oe?.aisleShortcutItems,e.isMultiSkuModal]);return(0,H.tZ)(ae,{ref:ke,$hasVerticalMargins:!(Ie&&e.isGrocery&&!de),children:He})}},29831:(e,t,a)=>{a.d(t,{B:()=>O});var i=a("__fusion__476"),o=a(74369),n=a(91931),l=a(78422),r=a(68561),s=a(61089),d=a(89400),c=a(21166),u=a(32857),g=a(68065),m=a(65184),p=a(58679),h=a(46933),S=a(62091),y=a(59924);const b={RadioGroupRoot:{style:{alignItems:"stretch"}}},f=(0,n.zo)(r.Z,{alignItems:"stretch"}),I=(0,n.zo)("span",(e=>{let{$theme:t}=e;return{color:t.colors.primaryA,cursor:"pointer"}})),Z=(0,n.zo)("div",(e=>{let{$theme:t}=e;return{marginBottom:t.sizing.scale600,gap:t.sizing.scale600,display:"flex",flexDirection:"row",alignItems:"center",overflowY:"scroll","::-webkit-scrollbar":{display:"none"}}})),C=(0,n.zo)("div",(e=>{let{$theme:t}=e;return{display:"flex",flexDirection:"row",alignItems:"center",paddingLeft:t.sizing.scale700,paddingRight:t.sizing.scale700,height:t.sizing.scale1600}})),U=(0,n.zo)("div",(e=>{let{$theme:t}=e;return{display:"flex",flexDirection:"row",alignItems:"center",gap:t.sizing.scale400}})),_=(0,n.w1)(p.bd,(e=>{let{$theme:t}=e;return{paddingTop:"0px",paddingLeft:"0px",paddingRight:"0px",paddingBottom:"0px",maxHeight:"calc(100vh - 361px)",overflow:"auto"}})),v=(0,n.zo)("label",(e=>{let{$theme:t}=e;return{display:"flex",alignItems:"center",justifyContent:"flex-start",height:"64px"}})),E=(0,n.zo)("label",(e=>{let{$theme:t}=e;return{borderBottom:"1px solid rgba(0, 0, 0, 0.04)",width:"100%",height:"100%",display:"flex",alignItems:"center"}})),A=(0,n.zo)(S.Z,(e=>{let{$theme:t}=e;return{width:t.sizing.scale550,height:t.sizing.scale550}})),T=i.memo((function(e){const t=(0,o.useCallback)((()=>{e.resetChanges(),e.onClose()}),[e]);return(0,y.BX)(y.HY,{children:[e.isOpen?(0,y.BX)(p.R1,{onClose:e.onClose,children:[(0,y.tZ)(p._g,{children:e.header}),(0,y.tZ)(_,{children:e.content()}),(0,y.BX)(p.Zr,{children:[(0,y.tZ)(u.Z,{onClick:()=>e.applyChanges(),overrides:{BaseButton:{style:{width:"100%"}}},children:(0,y.tZ)(h.v,{id:"shared.apply"})}),(0,y.tZ)(u.Z,{kind:"tertiary",onClick:t,overrides:{BaseButton:{style:{marginTop:"8px",width:"100%"}}},children:(0,y.tZ)(h.v,{id:"shared.reset"})})]})]}):null,(0,y.tZ)("div",{onClick:()=>e.onOpen(),children:e.children})]})})),x=i.memo((function(e){const[t,a]=(0,o.useState)(e.sortAndFilter),[n,r]=(0,o.useState)(!1),m=(0,o.useCallback)((()=>{r(!1)}),[r]),p=(0,o.useCallback)((()=>{r(!0)}),[r]);i.useEffect((()=>{a(e.sortAndFilter)}),[e.sortAndFilter]);const h=e.sortAndFilter?.values?.[0]?.minPermitted,S=e.sortAndFilter?.values?.[0]?.maxPermitted,Z=t?.values?.[0]?.options,_=1===h&&h===S,x=0===h&&1===S,O=i.useMemo((()=>e.sortAndFilter?.values?.[0]?.options?.filter((e=>e.selected)).map((e=>e?.uuid??""))??[]),[e.sortAndFilter]),P=e.sortAndFilter?.values?.[0]?.options?.find((e=>e.selected)),L="recommend",R=(0,o.useCallback)((a=>{e.onChange(a?.updatedSortAndFilter??t??e.sortAndFilter),m()}),[t,e,m]),D=(0,o.useCallback)((()=>{const a={...t,values:[{...t?.values?.[0]||[],options:t?.values?.[0]?.options?.map(((e,t)=>({...e,selected:!x&&(1===S&&0===t)})))}]};e.onChange(a)}),[t,e,S,x]),$=(0,o.useCallback)(((e,i)=>{const o=_?{...t,values:[{...t?.values?.[0]||[],options:t?.values?.[0]?.options?.map((t=>({...t,selected:t.uuid===e})))}]}:{...t,values:[{...t?.values?.[0]||[],options:t?.values?.[0]?.options?.map((t=>t.uuid===e?{...t,selected:!t.selected}:{...t}))}]};a(o),i&&R({updatedSortAndFilter:o})}),[_,t,R]);if(null==h||null==S||null==Z||null==t?.values?.[0]||null==t.tab)return null;if(x){const t=Z?.[0]?.badge?.iconUrl||"",a=O.length>0;return(0,y.tZ)(u.Z,{startEnhancer:(0,y.tZ)(A,{src:t,style:{filter:a?"invert(100%)":"none"}}),kind:a?g.TO.primary:g.TO.secondary,size:g.NO.compact,shape:g.X3.pill,onClick:()=>{a?D():$(Z[0]?.uuid??"",!0)},children:e.sortAndFilter.tab})}return(0,y.tZ)(T,{applyChanges:R,isOpen:n,onClose:m,onOpen:p,content:()=>1===S?(0,y.tZ)(f,{name:t.tab??"",onChange:e=>{$(e.target.value)},overrides:b,children:Z.map((e=>null==e.uuid?null:(0,y.BX)(v,{children:[(0,y.tZ)(C,{children:(0,y.tZ)(s.Y8,{name:t.tab??"",value:e.uuid,checked:e.selected??!1},e.uuid)}),(0,y.tZ)(E,{children:(0,y.tZ)(I,{children:(0,y.tZ)(d.Z,{badge:e.badge,baseFont:"LabelMedium"})})})]})))}):(0,y.tZ)(f,{name:t.tab??"",onChange:e=>{$(e.target.value)},overrides:b,children:Z.map((e=>null==e.uuid?null:(0,y.BX)(v,{children:[(0,y.tZ)(C,{children:(0,y.tZ)(c.XZ,{name:t.tab??"",value:e.uuid,checked:e.selected??!1},e.uuid)}),(0,y.tZ)(E,{children:(0,y.tZ)(I,{children:(0,y.tZ)(d.Z,{badge:e.badge,baseFont:"LabelMedium"})})})]})))}),header:t.tab??"",resetChanges:D,children:(0,y.tZ)(u.Z,{kind:(_?P?.value!==L:O.length>0)?g.TO.primary:g.TO.secondary,size:g.NO.compact,shape:g.X3.pill,endEnhancer:()=>(0,y.tZ)(l.Z,{name:"ChevronDownFilled"}),children:(0,y.tZ)(U,{children:_&&P?.value!==L?(0,y.tZ)(d.Z,{badge:P?.badge,baseFont:"LabelSmall",baseColor:"contentOnColor"}):`${e.sortAndFilter.tab} ${!_&&O.length>0?`(${O.length})`:""}`})})})})),O=i.memo((function(){const e=(0,m.Dc)(),t=(0,o.useCallback)((t=>{const a=e.sortAndFilters.map((e=>e.tab===t.tab?t:e));e.onChange(a)}),[e]);return(0,y.tZ)(Z,{children:e.sortAndFilters.map((e=>(0,y.tZ)(x,{onChange:t,sortAndFilter:e},e.tab)))})}))},99378:(e,t,a)=>{a.d(t,{C5:()=>T,Tj:()=>Z,WQ:()=>_,Xz:()=>b,ZP:()=>x,es:()=>y,r9:()=>C,zt:()=>A});var i=a("__fusion__476"),o=a(75618),n=a(42751),l=a(57578),r=a(78576),s=a(16034),d=a(91483),c=a(13823),u=a(75514),g=a(3289),m=a(42730),p=a(59924);const h={AISLE_SHORTCUTS:{MAX:168,MIN:120},HORIZONTAL_GRID:{DEFAULT:372,SPACE_TOP:40,CAROUSEL_TITLE:52,ITEM_IMAGE:188,ITEM_CONTENT_SPACE_TOP:4},BUNDLE_STORE:440},S={AISLE_SHORTCUTS:{MAX:175,MIN:120},HORIZONTAL_GRID:{DEFAULT:310,BANNER_HEADER:64,SPONSORED_DISPLAY_BANNER_HEADER_DEFAULT:440,CAROUSEL_SECTION:276,SPACE_TOP:16,CAROUSEL_TITLE:48,ITEM_IMAGE:116.3,ITEM_CONTENT_SPACE_TOP:4},BUNDLE_STORE:360},y=e=>(e?.payload?.type===o.p.aisleShortcutItems?e.payload.aisleShortcutItems:null)?.title?h.AISLE_SHORTCUTS.MAX:h.AISLE_SHORTCUTS.MIN,b=e=>(e?.payload?.type===o.p.aisleShortcutItems?e.payload.aisleShortcutItems:null)?.title?S.AISLE_SHORTCUTS.MAX:S.AISLE_SHORTCUTS.MIN,f=e=>{const t="standardItemsPayload"===e?.payload?.type?e?.payload?.standardItemsPayload:null,a="bannerHeaderPayload"===t?.catalogSectionHeaderPayload?.type?t?.catalogSectionHeaderPayload.bannerHeaderPayload:null;return a?a?.imagePayload?.height?(0,r.lU)(a?.imagePayload?.height)+S.HORIZONTAL_GRID.CAROUSEL_SECTION:S.HORIZONTAL_GRID.BANNER_HEADER+S.HORIZONTAL_GRID.CAROUSEL_SECTION:null},I=e=>{const t=(0,l.Wo)(e),a=u.Z?.innerWidth?Math.ceil((u.Z.innerWidth-32)/1.7777777777777777):S.HORIZONTAL_GRID.SPONSORED_DISPLAY_BANNER_HEADER_DEFAULT;return t?a+S.HORIZONTAL_GRID.CAROUSEL_SECTION:null},Z=e=>Boolean(e.find((e=>"GRID"===e.displayType&&e.itemLevelPromotion?.type===g._k.multiSKUFlatPromotion&&Boolean(e.itemLevelPromotion?.multiSKUFlatPromotion?.itemPromotionTag)))),C=(e,t)=>{const a=f(e),i=I(e);let o=a||(i||S.HORIZONTAL_GRID.DEFAULT);return t&&"standardItemsPayload"===e?.payload?.type&&Z(e?.payload?.standardItemsPayload?.catalogItems||[])&&(o+=m.nI),o},U=e=>{let{catalogSection:t,carouselDefaultHeight:a,carouselSpaceTop:i,carouselTitleHeight:o,carouselItemImageHeight:n,carouselItemContentSpaceTop:l,carouselItemContentMaxLength:r,theme:s}=e;const d="standardItemsPayload"===t?.payload?.type?t?.payload?.standardItemsPayload:null,c=d?.catalogItems?.some((e=>Boolean(e.itemThumbnailElements)));if(!c)return a;return i+o+(d?.catalogItems?.reduce((function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1?arguments[1]:void 0;const a=t.itemThumbnailElements||[],i=a.length>2?2*(a.length-1):0,o=_(a,s,r);return Math.max(e,n+l+o+i)}),0)||0)},_=(e,t,a)=>e.reduce((function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,i=arguments.length>1?arguments[1]:void 0,o=0;switch(i.payload?.type){case"labelPayload":o=E({text:(0,d.un)(i.payload?.labelPayload?.label),clampLines:i.payload?.labelPayload?.maxLines||3,typographyHeight:v(i.payload?.labelPayload?.label?.richTextElements,t),longText:a});break;case"tagsPayload":o=i.payload?.tagsPayload?.tags?.reduce((function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,a=arguments.length>1?arguments[1]:void 0;const i="X_SMALL"===a.size?"LabelXSmall":"SMALL"===a.size?"LabelSmall":"MEDIUM"===a.size?"LabelMedium":"LabelLarge",o=E({text:a.text||"",clampLines:1,typographyHeight:(0,n.xD)(t.typography[i]?.lineHeight),longText:20,extraSpace:6});return e+o}),0)||0}return e+o}),0)||0,v=(e,t)=>(e||[]).reduce((function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,a=arguments.length>1?arguments[1]:void 0;const i="text"===a.type&&a.text&&(0,c.x)(a.text.text?.font)||"",o=(0,n.xD)(t.typography[i]?.lineHeight);return Math.max(e,o)}),0),E=e=>{let{text:t,clampLines:a,typographyHeight:i,longText:o,extraSpace:n=0}=e;if(0===t.length)return 0;const l=Math.min(Math.ceil(t.length/o),a);return(l>1?i*l:i)+n},A={AISLE_SHORTCUTS:{calculateHeight:y},HORIZONTAL_GRID:{calculateHeight:(e,t)=>U({catalogSection:e,carouselDefaultHeight:h.HORIZONTAL_GRID.DEFAULT,carouselSpaceTop:h.HORIZONTAL_GRID.SPACE_TOP,carouselTitleHeight:h.HORIZONTAL_GRID.CAROUSEL_TITLE,carouselItemImageHeight:h.HORIZONTAL_GRID.ITEM_IMAGE,carouselItemContentSpaceTop:h.HORIZONTAL_GRID.ITEM_CONTENT_SPACE_TOP,carouselItemContentMaxLength:20,theme:t})},BUNDLE_STORE:{height:h.BUNDLE_STORE}},T={AISLE_SHORTCUTS:{calculateHeight:b},HORIZONTAL_GRID:{calculateHeight:(e,t)=>{const a=f(e),i=I(e);return a||(i||U({catalogSection:e,carouselDefaultHeight:S.HORIZONTAL_GRID.DEFAULT,carouselSpaceTop:S.HORIZONTAL_GRID.SPACE_TOP,carouselTitleHeight:S.HORIZONTAL_GRID.CAROUSEL_TITLE,carouselItemImageHeight:S.HORIZONTAL_GRID.ITEM_IMAGE,carouselItemContentSpaceTop:S.HORIZONTAL_GRID.ITEM_CONTENT_SPACE_TOP,carouselItemContentMaxLength:15,theme:t}))}},BUNDLE_STORE:{height:S.BUNDLE_STORE}},x=e=>{let{isGrocery:t,catalogSections:a,children:o}=e;const{getCatalogSectionHeight:l}=(0,s.Yq)(),r=i.useCallback(((e,t)=>l(a[t])),[l,a]);return(0,p.tZ)(p.HY,{children:t?(0,p.tZ)(n.ZP,{overflow:"visible",calculateHeight:r,children:o}):o})}},72326:(e,t,a)=>{a.d(t,{Z:()=>h});var i=a(91931),o=a(31913),n=a(52200),l=a(40625),r=a(29831),s=a(65184),d=a(15070),c=a(33535),u=a(25470),g=a(59924);const m=(0,i.zo)("div",{padding:"64px 0",display:"flex",flexFlow:"column",alignItems:"center",justifyContent:"center"}),p=(0,i.zo)("div",(e=>{let{$size:t}=e;return{maxWidth:t,marginBottom:"16px"}})),h=e=>{let{payload:t,illustrationSize:a="DEFAULT",isLost:i,...h}=e;const S=(0,d.v)((e=>{let{device:t}=e;return t.isMobile})),y=t?.emptystateviewmodel,b=y?.headline,f=y?.paragraph,I="customBadgeData"===y?.badge?.type?y.badge.customBadgeData:null,Z=(0,c.ZP)();return(0,u.Z)((()=>{Z("eats:store_empty_subsection_impression",{isLost:Boolean(i)})})),(0,g.BX)("div",{children:[(0,g.tZ)(s.$Q,{children:S?(0,g.tZ)(r.B,{}):(0,g.tZ)(l.Y,{})}),(0,g.BX)(m,{children:[I?.badgeIllustration?(0,g.tZ)(p,{$size:"DEFAULT"===a?"114px":"250px",children:(0,g.tZ)(n.SZ,{richIllustration:I?.badgeIllustration})}):null,b?(0,g.tZ)(o.ZP,{text:b,__font:{style:"HEADING_X_SMALL",weight:"MEDIUM"}}):null,f?(0,g.tZ)(o.ZP,{text:f,padding:"12px",__font:{style:"PARAGRAPH_DEFAULT",weight:"MEDIUM"}}):null]})]})}},65088:(e,t,a)=>{a.d(t,{n:()=>h});var i=a("__fusion__476"),o=a(97392),n=a(84998),l=a(48760),r=a(47986),s=a(75618),d=a(92903),c=a(61304),u=a(69565),g=a(57578),m=a(59924);function p(e){if(e.payload?.type===s.p.standardItemsPayload){return(0,r.v4Q)(e.payload.standardItemsPayload.ctaMetadata?.ctaUri||"").search.sectionType}}const h=e=>{const t=(0,n.bg)({storeUuid:e.storeUuid,catalogSectionUuid:e.storeCatalogSections?e.storeCatalogSections:e.catalogSectionUuid,catalogSubsectionUuid:e.storeCatalogSections?e.catalogSectionUuid:null,catalogSectionType:p(e.catalogSection),shouldReturnBundlableStores:!1}),a=(0,l.kC)({enabled:!1,storeFilters:{...t,shouldReturnSegmentedControlData:!1},offset:e.catalogItems.length,...e.isGrocery?{source:e.activeSectionUuid?u.n.NV_L1_CAROUSEL:u.n.NV_L2_CAROUSEL}:null}),r=a.data?.pages?.at(-1)?.pagingInfo?.hasMore??!0,h=i.useMemo((()=>(0,g.FA)(e.catalogSection)?.numOfItemsOnScreen??null),[e.catalogSection]),S=i.useMemo((()=>{const t=a.data?.pages.map((e=>null!=e.catalog?.[0]?.payload&&s.p.standardItemsPayload in e.catalog?.[0].payload?e.catalog?.[0].payload.standardItemsPayload.catalogItems:null)).filter((e=>null!=e)).flat()??[],i={};for(const a of[...e.catalogItems,...t])null!=a?.uuid&&(i[a.uuid]=a);return Object.values(i).map(e.renderCatalogItemsHorizontalGrid)}),[e.catalogItems,e.renderCatalogItemsHorizontalGrid,a.data?.pages]),{fetchNextPage:y}=a,b=i.useCallback((()=>{r&&y()}),[r,y]),f=i.useMemo((()=>e.isMobile?d.Z:o.Z),[e.isMobile]);return(0,m.tZ)(f,{storeUuid:e.storeUuid,sectionUuid:e.activeSectionUuid,catalogSection:e.catalogSection,catalogConfig:{surface:c.b.STOREFRONT},isGrocery:e.isGrocery,onEndReached:b,supportsScrollSnapping:!1,isLoadingMore:a.isFetching,showHeaderCTA:!0,itemsToShow:h,children:S})}},45654:(e,t,a)=>{a.d(t,{Z:()=>n});var i=a(60849),o=a(41063);const n=()=>(0,i.ip)({...o.v.store_catalog_sections_virtual_list,defaultValue:!1})},84998:(e,t,a)=>{a.d(t,{ZP:()=>g,bg:()=>u});var i=a("__fusion__476"),o=a(89151),n=a(55758),l=a(64388),r=a(48760);const s="20f1b4ba-468f-11ed-b878-0242ac120002",d=["getCatalogPresentationV2"],c=["SPECIAL_REQUEST"],u=e=>{let{storeUuid:t,catalogSectionUuid:a,catalogSubsectionUuid:i,catalogSectionType:o,shouldReturnBundlableStores:n}=e;return{storeUuid:t,sectionUuids:a?[a]:null,subsectionUuids:i&&!i.startsWith(s)?[i]:null,...o?{sectionTypes:[o]}:{},...n?{shouldReturnBundlableStores:n}:null}};function g(e){let{storeUuid:t,catalogSectionUuid:a,catalogSubsectionUuid:g,catalogSectionType:m,catalogSectionsMap:p,shouldReturnBundlableStores:h,sortAndFilters:S,source:y}=e;const b=(0,o.useQueryClient)(),f=(0,n.d)(),I=i.useRef(f),{store:Z}=(0,l.ZP)(t),C=Boolean(Z.data),[U,_]=i.useState(null),v=u({storeUuid:t,catalogSectionUuid:a,catalogSubsectionUuid:g,catalogSectionType:m,shouldReturnBundlableStores:h}),E=(0,r.kC)({enabled:Boolean(a)&&C,storeFilters:v,sortAndFilters:S,source:y}),{data:A,isLoading:T,error:x,isFetchingNextPage:O,fetchNextPage:P,hasNextPage:L,isSuccess:R,isError:D,refetch:$}=E,k=a&&!U&&!T,M=a&&U&&T;i.useEffect((()=>{C&&I.current!==f&&(b.invalidateQueries(d),I.current=f)}),[C,f,b]),i.useEffect((()=>{M&&_(null)}),[M]),i.useEffect((()=>{k&&_({isSuccess:Boolean(R),isError:Boolean(D)})}),[k,R,D]);const w=i.useCallback((()=>{$({refetchPage:(e,t)=>0===t})}),[$]),B=i.useCallback((e=>((e,t,a)=>a?e:e.filter((e=>t&&e?.catalogSectionUUID===t||!t&&e?.catalogSectionUUID?.startsWith(s)||c.includes(e.type??""))))(e,g,!0)),[g]),z=i.useMemo((()=>A?.pages?.flatMap((e=>(e.catalog||[]).flatMap((e=>({...e,catalogSectionUUID:e.catalogSectionUUID||g||s})))))||[]),[A?.pages,g]),N=i.useMemo((()=>({data:a&&z?.length>0?{[a]:z}:{},isLoading:T||!U,error:U?.isError?x:null,hasLoaded:Boolean(U?.isSuccess)||Boolean(U?.isError)})),[a,z,x,U,T]),H=(e=>e?.segmentedControlData?.segmentedControlItems||[])(A?.pages?.[0]),G=(e=>e?.breadcrumbs?.breadcrumbItems||[])(A?.pages?.[0]);return{catalogSections:N,segmentedControlItems:H,currentPageOffset:A?.pages?.length??0,sortAndFilters:A?.pages?.[0]?.catalogPresentationData?.sortAndFilters,breadcrumbs:G,headerData:A?.pages?.[0]?.headerData,isFetchingMore:Boolean(O),canFetchMore:Boolean(L)&&Boolean(z?.length),lastPageHasError:Boolean(U?.isSuccess)&&Boolean(D),refetch:w,fetchMore:P,applyFilterByCatalogSubsection:B}}},48760:(e,t,a)=>{a.d(t,{ZP:()=>p,kC:()=>g,vq:()=>m});var i=a(74369),o=a(98976),n=a(89151),l=a(2237),r=a(62459);function s(e,t){const a=(0,r.Z)("getCatalogPresentationV2"),i=(0,l.H)("getCatalogPresentationV2",e);return(0,n.useQuery)({queryKey:i,queryFn:e=>{let{queryKey:t}=e;return a.request("getCatalogPresentationV2",t[1])},...t?.queryObserverOptions})}var d=a(57578);const c=(e,t,a,i)=>()=>({storeFilters:{...e,shouldReturnSegmentedControlData:!0},pagingInfo:{enabled:!0,offset:a??null},sortAndFilters:t,source:i}),u=(e,t,a)=>i=>(e=>{let{lastCatalogPresentationResponse:t,storeFilters:a,sortAndFilters:i,source:o}=e;return!t?.pagingInfo?.offset||0===t?.catalog?.length||t?.catalog?.[0]&&!(0,d.FA)(t?.catalog?.[0])?.catalogItems?.length?null:{storeFilters:a,pagingInfo:{enabled:!0,offset:t?.pagingInfo?.offset},source:o}})({lastCatalogPresentationResponse:i,storeFilters:e,sortAndFilters:t,source:a});function g(e){let{storeFilters:t,enabled:a,offset:i,sortAndFilters:o,source:s}=e;return function(e){const t=(0,r.Z)("getCatalogPresentationV2"),a=(0,l.H)("getCatalogPresentationV2",e.getInitialRequestArguments());return(0,n.useInfiniteQuery)({queryKey:a,queryFn:e=>{let{pageParam:a,queryKey:i}=e;return t.request("getCatalogPresentationV2",a||i[1])},enabled:e.enabled,getNextPageParam:e.getNextPageParam})}({enabled:a,getNextPageParam:u(t,o,s),getInitialRequestArguments:c(t,o,i,s)})}const m=()=>{const e=(0,n.useQueryClient)();return(0,i.useCallback)((t=>{e.invalidateQueries(["getCatalogPresentationV2",...t?[t]:[]])}),[e])};function p(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a=arguments.length>2?arguments[2]:void 0;const i=s({storeFilters:e,source:a},{queryObserverOptions:{...t?{refetchOnMount:"always"}:null}}),n=(0,o.hn)(i);return n}},65184:(e,t,a)=>{a.d(t,{$Q:()=>d,Dc:()=>s,Mv:()=>r});var i=a("__fusion__476"),o=a(74369),n=a(59924);const l=i.createContext(null),r=i.memo((function(e){const{sortAndFilters:t,onChange:a}=e;return null===t?(0,n.tZ)(n.HY,{children:e.children}):(0,n.tZ)(l.Provider,{value:{sortAndFilters:t,onChange:a},children:e.children})})),s=()=>{const e=(0,o.useContext)(l);if(null!=e)return e;throw new Error("useSortAndFilters must be used within a SortAndFiltersProvider")},d=i.memo((function(e){return i.useContext(l)?(0,n.tZ)(n.HY,{children:e.children}):null}))},14682:(e,t,a)=>{a.d(t,{Z:()=>n});var i=a(60849),o=a(41063);function n(){return(0,i.ip)({...o.v.store_gr_l1_virtualization_v2_enabled,defaultValue:!1})}},14644:(e,t,a)=>{a.d(t,{FA:()=>c,ZP:()=>d});var i=a("__fusion__476"),o=a(15070),n=a(4864),l=a(6703),r=a(59924);const s=i.createContext({quickAddDisabled:!1,syncItemQuantity:!1,quickAddCount:(0,l.bN)(),cartItemCount:0,cartItemDecimalCount:null});function d(e){let{storeUuid:t,itemUuid:a,syncToCart:d,isInitialLoad:c,children:u}=e;const g=i.useRef((0,l.bN)()),m=i.useRef(null),{cartCountSummary:p,cartCountDecimalsSummary:h}=(0,n.F7)(t),{syncItems:S,quantities:y}=(0,o.v)((e=>e.quickAdd)),b=Boolean(d||S[a]),f=p[a]??0,I=y[a]??(0,l.bN)(),Z=h[a]??null;return g.current=g.current.integer!==I.integer||g.current.decimal.base!==I.decimal.base?I:g.current,m.current=m.current?.base!==Z?.base?Z:m.current,i.useEffect((()=>()=>{g.current=(0,l.bN)(),m.current=null}),[]),(0,r.tZ)(s.Provider,{value:{quickAddDisabled:c,syncItemQuantity:b,quickAddCount:g.current,cartItemCount:f,cartItemDecimalCount:m.current},children:u})}function c(){const e=i.useContext(s);if(null!==e)return e;throw Error("You should use useStoreSharedCartItemProvider only in a descendant of StoreSharedCartItemProvider")}},16034:(e,t,a)=>{a.d(t,{Yq:()=>d,ZP:()=>s});var i=a("__fusion__476"),o=a(91931),n=a(68093),l=a(59924);const r=i.createContext(null);function s(e){let{catalogSectionsConfig:t,children:a}=e;const[,s]=(0,o.hQ)(),[d,c]=i.useState({HORIZONTAL_GRID:{}}),u=(0,n.Z)(d,150),g=i.useCallback((e=>{const a=e?.type,i=e?.catalogSectionUUID||"";switch(a){case"AISLE_SHORTCUTS":return(0,t.AISLE_SHORTCUTS.calculateHeight)(e);case"HORIZONTAL_GRID":return u.HORIZONTAL_GRID[i]||t.HORIZONTAL_GRID.calculateHeight(e,s);case"BUNDLE_STORE":return t.BUNDLE_STORE.height;default:return"dynamic"}}),[u,t,s]),m=i.useCallback((e=>{let{type:t,uuid:a,height:i}=e;i>(d[t]?.[a]||0)&&c({...d,[t]:{...d[t],[a]:i}})}),[d]);return(0,l.tZ)(r.Provider,{value:{getCatalogSectionHeight:g,updateCatalogSectionHeight:m},children:a})}function d(){const e=i.useContext(r);if(null!==e)return e;throw Error("You should use useStoreSharedCatalogSectionVirtualList only in a descendant of StoreSharedCatalogSectionVirtualListProvider")}},51773:(e,t,a)=>{a.d(t,{Z:()=>n});var i=a(60849),o=a(44145);const n=()=>(0,i.ip)({...o.A.xlb_store_to_menu_item_modal_navigation,defaultValue:!1})}}]);