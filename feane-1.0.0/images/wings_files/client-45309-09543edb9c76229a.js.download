"use strict";(self.webpackChunkFusion=self.webpackChunkFusion||[]).push([[45309],{45309:(t,e,i)=>{i.d(e,{oq:()=>Y,kG:()=>J,ZP:()=>ct,Sz:()=>rt});var l=i("__fusion__476"),n=i(74369),o=i(46933),r=i(91931),a=i(14966),c=i(62091),d=i(89400),s=i(34274),h=i(17222),u=i(94813),g=i(29802),m=i(47986),p=i(59924);function x(t){let{sideLength:e,radius:i,strokeWidth:l=4,backgroundFill:n="backgroundPrimary",percentLeft:o}=t;const[,a]=(0,r.hQ)(),c=2*Math.PI*i+2*e,d=e+2*i,s=2*i,h=(1-o)*c;let u=`${o*c} ${c}`;return h<e/2&&(u=`${c} ${h}`),(0,p.BX)("svg",{width:d+l,height:s+l,children:[(0,p.tZ)("rect",{stroke:a.colors.buttonSecondaryFill,fill:a.colors[n],width:d,height:s,strokeWidth:l,x:l/2,y:l/2,rx:i,ry:i}),(0,p.tZ)("rect",{stroke:a.colors.positive,fill:"transparent",width:d,height:s,strokeWidth:l,style:{strokeDashoffset:-e/2,strokeDasharray:u},x:l/2,y:l/2,rx:i,ry:i})]})}const Z=(0,r.zo)("div",(t=>{let e,i,{$theme:l,$formattedTimeLeft:n,$size:o}=t;return"small"==o?(e="9px",i=5===n.length?"19px":"23px"):(e="16px",i=5===n.length?"30px":"35px"),{position:"absolute",top:e,left:i,...l.typography.LabelMedium}})),f=(0,r.zo)(h.rU,{position:"relative",display:"inline-block"});function y(t){return"small"===t?{sideLength:42,radius:16}:{sideLength:52,radius:22}}const b=t=>{let{feedItemUuid:e,size:i}=t;const l=(0,u.TH)(),{countdown:n,formattedTimeLeft:o,percentTimeLeft:r}=(0,g.Z)("BANDWAGON",{createTimer:!0,feedItemUuid:e||""});if(!n)return null;const a=y(i);return(0,p.BX)(f,{to:(0,m.Xvz)({location:l,feedItemUuid:e}),children:[(0,p.tZ)(x,{sideLength:a.sideLength,radius:a.radius,percentLeft:r}),(0,p.tZ)(Z,{$formattedTimeLeft:o,$size:i,children:o})]})};var T=i(42751),k=i(74938),B=i(92496),F=i(4661),v=i(87763),$=i(29194),C=i(34171),z=i(20927),U=i("__fusion__1655");const w=(0,r.zo)("div",(t=>{let{$theme:e,$direction:i}=t;return{display:"flex",flexDirection:"row",..."rtl"===i?{paddingLeft:e.sizing.scale500}:{paddingRight:e.sizing.scale500}}})),I=(0,r.zo)("div",(t=>{let{$theme:e,$font:i}=t;return{...i?e.typography[i]:{},color:e.colors.contentPositive}})),H=(0,r.zo)(U.default,(t=>{let{$margin:e}=t;return{marginRight:`${e}px`}})),A=t=>{const{rankingBottomSheet:e}=(0,k.Z)(),{showEuDisclaimer:i}=(0,B.Z)(),[n,o]=l.useState(!1),a=(0,$.gm)(),[,c]=(0,r.hQ)(),s=(0,C.Z)(),{titleTextFormat:h,iconTitleTextFormat:u}=l.useMemo((()=>{if(!i||!s)return{titleTextFormat:null,iconTitleTextFormat:null};const e=((0,z.rg)(t.title.textFormat??"")||[]).find((t=>"span"===t.type))?.getChildren(),l=e?.find((t=>"text"===t.type)),n=e?.find((t=>"img"===t.type)),o=new Image;if(n){Object.entries(n.attributes).forEach((t=>{let[e,i]=t;e&&i&&o.setAttribute(e,i)}));const t=Object.entries(n.styles).reduce(((t,e)=>{let[i,l]=e;return i&&l?`${t} ${i}:${l};`:t}),"");o.setAttribute("style",t)}const r=n?o.outerHTML:null;return{titleTextFormat:l&&r?`<span>${l?.data?.trim()??""}</span>`:null,iconTitleTextFormat:r}}),[s,t.title.textFormat,i]);if(!t.title.actionUrl||!i){const e=t.titleHighlight?.text&&"PROMOTION"===t.titleHighlight?.type?(0,p.BX)(I,{$font:t.titleBaseFont,children:[(0,p.tZ)(H,{size:16,$margin:4}),t.titleHighlight.text,"Â "]}):null;return(0,p.tZ)(p.HY,{children:s?(0,p.tZ)(w,{$direction:a,children:(0,p.BX)(v.Z,{clamp:1,children:[e,(0,p.tZ)(d.Z,{badge:t.title,baseFont:t.titleBaseFont})]})}):(0,p.BX)(p.HY,{children:[e,(0,p.tZ)(d.Z,{badge:t.title,baseFont:t.titleBaseFont})]})})}return(0,p.BX)(p.HY,{children:[s?(0,p.BX)(w,{$direction:a,onClick:()=>o(!0),children:[(0,p.tZ)(v.Z,{clamp:1,children:(0,p.tZ)(d.Z,{badge:h?{...t.title,textFormat:h}:t.title,baseFont:t.titleBaseFont})}),u?(0,p.tZ)(d.Z,{badge:{actionUrl:t.title.actionUrl,textFormat:u},baseFont:t.titleBaseFont,customStyleObject:"rtl"===a?{paddingRight:c.sizing.scale100}:{paddingLeft:c.sizing.scale100}}):null]}):(0,p.tZ)("div",{onClick:()=>o(!0),children:(0,p.tZ)(d.Z,{badge:t.title,baseFont:t.titleBaseFont})}),n&&e?(0,p.tZ)(F.P,{bottomSheet:e,onClose:()=>o(!1)}):null]})};var L=i(54669),X=i(19354),_=i(94672),O=i(65717),P=i(40841),S=i(69002),E=i(60849),M=i(43426),D=i(51531),R=i(94877),N=i(25227),V=i(57994),j=i(35207),G=i(50667),Q=i(74764),W=i(67311);const Y="HeadingXSmall",q="ParagraphSmall",J="LabelMedium",K="small",tt=(0,r.zo)("div",{marginTop:"4px"}),et=(0,r.zo)("div",{display:"flex",justifyContent:"space-between",alignItems:"center",position:"relative"}),it=(0,r.zo)("div",{flex:1}),lt=(0,r.zo)("div",{display:"flex",flexDirection:"column",alignItems:"flex-end",flex:"none"}),nt=(0,r.zo)(c.Z,{height:"40px",marginBottom:"8px"}),ot=(0,r.w1)(a.UA,(t=>{let{$theme:e}=t;return e.typography[J]}));function rt(t){let{theme:e,header:i,timer:l,hasCountdown:n,endIconRemovalEnabled:o=!1,isXlbFrictionBatch2HomeFeedEnabled:r=!1}=t;const{title:a,subtitle:c,endIcon:d}=i||{},s=r?a?.text:a,h=r?c?.text:c,u=s?(0,T.xD)(e.typography[Y].lineHeight):0,g=h?(0,T.xD)(e.typography.ParagraphSmall.lineHeight):0,m=u+((l?24:void 0)??g),p=S.$Q+(!o&&d?48:0)+(n?2*y(K).radius:0);return Math.max(m,p)}const at=t=>{let{onViewAllClick:e=(()=>null),callToAction:i,callToActionText:n}=t;const o=(0,X.ZP)(),r=(0,O.Z)()?P.q:o(i?.actionUrl),a=l.useCallback((()=>{"function"==typeof e&&e()}),[e]);return(0,p.tZ)(ot,{onClick:a,href:r,children:n})},ct=t=>{let{header:e,feedItemUuid:i,onViewAllClick:l,isExternalCTA:r,titleBaseFont:a,endIconRemovalEnabled:c,timer:u}=t;const g=(0,s.Z)({feedItemUuid:i}),m=(0,R.TH)(),x=(0,L.Z)(),{title:Z,subtitle:f,endIcon:y,callToAction:T,leadingIcon:k}=e||{},B=T&&T.actionUrl&&T.actionUrl.includes("/search?")&&!x||i===W.G,F=r||(0,_.Z)(T?.actionUrl||""),$=T?.text?T?.text:(0,p.tZ)(o.v,{id:"carousel.view_all"}),C=a||Y,z=(0,E.ip)({...M.J.carousel_header_title_clickable_flag,defaultValue:!1}),U=(0,n.useMemo)((()=>T&&z&&(0,N.o)(T,m)),[T,m,z]),w=S.ZP;let I;switch(k?.type){case"icon":I=k?.icon}const H=Boolean(I);return(0,p.BX)(et,{children:[(0,p.tZ)(it,{children:(0,p.BX)(V.vs,{children:[(0,p.BX)(V.$t,{$isLeadingIconEnabled:H,children:[H?(0,j.q7)(I):null,Z?(t=>U?(0,p.tZ)(h.rU,{to:U,children:(0,p.tZ)(A,{title:t,titleBaseFont:C,titleHighlight:e?.titleHighlight})}):(0,p.tZ)(A,{title:t,titleBaseFont:C,titleHighlight:e?.titleHighlight}))(Z):null]}),f&&!u?(0,p.tZ)(v.Z,{clamp:2,children:f?.actionUrl?(0,p.tZ)(D.Z,{textFormat:f?.textFormat,actionUrl:f?.actionUrl}):(0,p.tZ)(d.Z,{badge:f,baseFont:q,baseColor:"contentSecondary"})}):null,u?(0,p.tZ)(tt,{children:(0,p.tZ)(G.Z,{timeUpTimestamp:u.timeupTimestamp,timeUpBehavior:u.timeupBehavior??"NONE",expiredText:u.expiredText,leadingText:{text:u.leadingText??"",typography:u.leadingTextTypography},analyticsData:{feedItemUuid:i},digitProps:{typography:u.timerTypography,boxBackgroundColor:u.digitBackgroundColor,boxBackgroundOpacity:u.digitBackgroundOpacity,darkModeBoxBackgroundColor:u.digitBackgroundColorInverse??Q.vV.GREEN_800,darkModeBoxBackgroundOpacity:1,boxContentColor:u.timerTextColor,boxSize:"20px"}})}):null]})}),(0,p.BX)(lt,{children:[!c&&y?(0,p.tZ)(nt,{src:y}):null,g?(0,p.tZ)(b,{feedItemUuid:i,size:K}):null,T&&!B?F?(0,p.tZ)(at,{callToAction:T,onViewAllClick:()=>l&&l()||null,callToActionText:$}):(0,p.tZ)(p.HY,{children:(0,p.tZ)(w,{callToAction:T,onViewAllClick:l})}):null]})]})}},69002:(t,e,i)=>{i.d(e,{$Q:()=>d,ZP:()=>h,nt:()=>s});var l=i(17222),n=i(78422),o=i(86695),r=i(68065),a=i(64189),c=i(59924);const d=36,s=t=>{let{onClick:e,to:i}=t;return(0,c.tZ)(l.rU,{to:i,onClick:e,children:(0,c.tZ)(o.zx,{kind:o.TO.secondary,size:r.NO.compact,shape:r.X3.circle,children:(0,c.tZ)(n.Z,{name:"ArrowRightFilled"})})})},h=(0,a.ex)(s)}}]);