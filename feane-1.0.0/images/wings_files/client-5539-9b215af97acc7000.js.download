(self.webpackChunkFusion=self.webpackChunkFusion||[]).push([[5539,54721],{__fusion__569:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>n});var o=i(74369),r=i(59924);const n=o.forwardRef((function(e,t){let{title:i="Arrow circular",titleId:o,size:n="1em",...a}=e;return(0,r.BX)("svg",{width:n,height:n,viewBox:"0 0 24 24",fill:"none",ref:t,"aria-labelledby":o,...a,children:[void 0===i?(0,r.tZ)("title",{id:o,children:"Arrow circular"}):i?(0,r.tZ)("title",{id:o,children:i}):null,(0,r.tZ)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M4.9 5H.5l3-3H11v7.5l-3 3V6.3C6.2 7.5 5 9.6 5 12c0 3.5 2.6 6.4 6 6.9v3c-5-.5-9-4.7-9-9.9 0-2.7 1.1-5.2 2.9-7ZM22 12c0 2.7-1.1 5.2-2.9 7h4.4l-3 3H13v-7.5l3-3v6.2c1.8-1.2 3-3.3 3-5.7 0-3.5-2.6-6.4-6-6.9v-3c5 .5 9 4.7 9 9.9Z",fill:"currentColor"})]})}))},90644:(e,t,i)=>{"use strict";i.d(t,{p:()=>o});const o=Object.freeze({UNKNOWN:"UNKNOWN",SPACING_UNIT_0X:"SPACING_UNIT_0X",SPACING_UNIT_0_5X:"SPACING_UNIT_0_5X",SPACING_UNIT_1X:"SPACING_UNIT_1X",SPACING_UNIT_1_5X:"SPACING_UNIT_1_5X",SPACING_UNIT_2X:"SPACING_UNIT_2X",SPACING_UNIT_2_5X:"SPACING_UNIT_2_5X",SPACING_UNIT_3X:"SPACING_UNIT_3X",SPACING_UNIT_3_5X:"SPACING_UNIT_3_5X",SPACING_UNIT_4X:"SPACING_UNIT_4X",SPACING_UNIT_4_5X:"SPACING_UNIT_4_5X",SPACING_UNIT_5X:"SPACING_UNIT_5X",SPACING_UNIT_6X:"SPACING_UNIT_6X",SPACING_UNIT_7X:"SPACING_UNIT_7X",SPACING_UNIT_8X:"SPACING_UNIT_8X",SPACING_UNIT_9X:"SPACING_UNIT_9X",SPACING_UNIT_10X:"SPACING_UNIT_10X",SPACING_UNIT_11X:"SPACING_UNIT_11X",SPACING_UNIT_12X:"SPACING_UNIT_12X",SPACING_UNIT_13X:"SPACING_UNIT_13X"})},10400:(e,t,i)=>{"use strict";i.d(t,{F8:()=>o,Yj:()=>n,oN:()=>r});const o=Object.freeze({UNKNOWN:"UNKNOWN",AVAILABLE:"AVAILABLE",LIKELY_UNAVAILABLE:"LIKELY_UNAVAILABLE",UNAVAILABLE:"UNAVAILABLE",PLACEHOLDER_1:"PLACEHOLDER_1",PLACEHOLDER_2:"PLACEHOLDER_2"}),r=(Object.freeze({GRID:"GRID",LIST:"LIST"}),Object.freeze({TOP_LEADING:"TOP_LEADING",TOP_TRAILING:"TOP_TRAILING",BOTTOM_LEADING:"BOTTOM_LEADING",BOTTOM_TRAILING:"BOTTOM_TRAILING"})),n=Object.freeze({UNKNOWN:"UNKNOWN",TOP_LEADING:"TOP_LEADING",TOP_TRAILING:"TOP_TRAILING",BOTTOM_LEADING:"BOTTOM_LEADING",BOTTOM_TRAILING:"BOTTOM_TRAILING"});Object.freeze({UNKNOWN:"UNKNOWN",IN_STORE_SEARCH:"IN_STORE_SEARCH",QUICK_ADD_ITEM_FEED_CAROUSEL:"QUICK_ADD_ITEM_FEED_CAROUSEL"}),Object.freeze({FIT:"FIT",CENTER_CROP:"CENTER_CROP"})},4868:(e,t,i)=>{"use strict";i.d(t,{u:()=>o});const o=Object.freeze({UNKNOWN:"UNKNOWN",OVER_IMAGE_TOP_LEADING:"OVER_IMAGE_TOP_LEADING",OVER_IMAGE_TOP_TRAILING:"OVER_IMAGE_TOP_TRAILING",OVER_IMAGE_BOTTOM_LEADING:"OVER_IMAGE_BOTTOM_LEADING",OVER_IMAGE_BOTTOM_TRAILING:"OVER_IMAGE_BOTTOM_TRAILING",OFF_IMAGE_ABOVE_TEXT:"OFF_IMAGE_ABOVE_TEXT",OFF_IMAGE_BELOW_TEXT:"OFF_IMAGE_BELOW_TEXT"})},29217:(e,t,i)=>{"use strict";i.d(t,{Ly:()=>l,ZP:()=>n,bL:()=>a});var o=i(91931),r=i(47091);const n=(0,o.zo)("div",(e=>{let{$gridRowGap:t=40,$gridColumGap:i=24,$numColumns:o=3,$gridMediaTemplateColumns:n}=e;return{display:"grid",gridGap:`${t}px ${i}px`,gridTemplateColumns:`repeat(${o}, 1fr)`,[r.k]:{display:"flex",flexWrap:"wrap",margin:"0 -12px"},"@media screen and (max-width: 1200px)":{gridTemplateColumns:`repeat(${n||o}, 1fr)`}}})),a=(0,o.zo)("div",{minWidth:0,[r.k]:{width:"calc(33% - 24px)",margin:"0px 12px 24px 12px"}}),l=(0,o.zo)("div",{minWidth:0,gridColumn:"1 / -1",[r.k]:{width:"100%",margin:"0 12px"}})},66931:(e,t,i)=>{"use strict";i.d(t,{Mi:()=>c,T3:()=>u,ZP:()=>m,im:()=>d});var o=i("__fusion__476"),r=i(91931),n=i(76173),a=i(96911),l=i(33171),s=i(59924);const d=(0,r.zo)("div",(e=>{let{$supportsScrollSnapping:t,$disabledVerticalScrolling:i}=e;return{overflowX:"scroll",display:"flex",scrollbarWidth:"none","::-webkit-scrollbar":{display:"none"},...i?{overflowY:"hidden"}:{},...t?{scrollSnapType:"x mandatory"}:{}}})),u=(0,r.zo)("ul",(e=>{let{$supportsScrollSnapping:t,$textDirection:i,$pageMargin:o,$pageWidth:r}=e;return{display:"flex",flexShrink:0,flexGrow:0,width:"100%",flexBasis:r||"100%",..."ltr"===i?{marginRight:`${o}px`}:{marginLeft:`${o}px`},...t?{scrollSnapAlign:"start"}:{}}})),c=(0,r.zo)("li",(e=>{let{$textDirection:t,$margin:i,$pageSize:o,$ignoreMargin:r}=e;const{percentage:n,pxAdjustment:a}=(0,l.jL)(o,i);return{flex:"none",position:"relative",...r?{}:"ltr"===t?{marginRight:`${i}px`}:{marginLeft:`${i}px`},width:`calc(${n}% + ${a}px)`}})),m=o.forwardRef(((e,t)=>{const{containerRef:i,getPageChunks:o,getPageProps:r,isPreviousPageDisabled:l,isNextPageDisabled:m,handlePageChange:p,supportsScrollSnapping:g,textDirection:I}=(0,a.Z)({scrollOffset:e.margin}),f=o(e.slides.map(((t,i)=>(0,s.tZ)(c,{$textDirection:I,$pageSize:e.pageSize,$margin:e.margin,children:e.renderSlide(t,i)},i))),e.pageSize);return(0,s.BX)("div",{ref:t,children:[(0,s.tZ)(n.Z,{$as:e.titleType||"h2",title:e.title,subtitle:e.subtitle,paginated:e.slides.length>e.pageSize,onPageChange:(t,o)=>{if(p(t),e.onPageChange){const r=e.onPageChange,n=i.current;let a;const l=()=>{clearTimeout(a),a=setTimeout((()=>{r(o,{direction:t,total:i.current?.scrollWidth||0,current:i.current?i.current.scrollLeft+i.current.clientWidth:0}),n?.removeEventListener("scroll",l)}),500)};n?.addEventListener("scroll",l)}},viewAllLocation:e.viewAllLocation,viewAllTitle:e.viewAllTitle,backwardEnabled:!l,forwardEnabled:!m,onViewAllClick:e.onViewAllClick,onClickTitle:e.onClickTitle}),(0,s.tZ)(d,{ref:i,$supportsScrollSnapping:g,onScroll:e.onScroll,children:f.map(((t,i,o)=>(0,s.tZ)(u,{$pageMargin:e.margin,...r(i,o.length),children:t},i)))})]})}))},20487:(e,t,i)=>{"use strict";i.d(t,{E:()=>c});var o=i(89407),r=i(2763),n=i(91931),a=i(14016),l=i("__fusion__684"),s=i("__fusion__1029"),d=i("__fusion__569"),u=i(59924);const c=e=>{let{consumerItemFulfillmentViewType:t,isMobile:i=!1}=e;const[,c]=(0,n.hQ)(),m=(0,a.T)();let p="",g=d.default;switch(t){case"IN_REVIEW":p=m("item.fulfillment_state.in_review"),g=d.default;break;case"REPLACED":p=m("item.fulfillment_state.replaced"),g=d.default;break;case"FOUND":p=m("item.fulfillment_state.found"),g=l.default;break;case"REFUNDED":p=m("item.fulfillment_state.refunded"),g=s.default;break;default:return null}return(0,u.tZ)(o.Z,{closeable:!1,size:r.NO.small,overrides:{Root:{style:e=>{let{$theme:t}=e;return{borderRadius:t.borders.tagBorderRadius,width:"fit-content",color:t.colors.contentPrimary,overflowY:"hidden",...i?{fontSize:t.sizing.scale500,marginLeft:"0px"}:{fontSize:t.sizing.scale550,padding:t.sizing.scale450}}}}},startEnhancer:()=>(0,u.tZ)(g,{color:c.colors.contentPrimary,size:c.sizing.scale400}),children:p})}},85907:(e,t,i)=>{"use strict";i.d(t,{F:()=>n});var o=i(61304),r=i(22208);const n=e=>{switch(e){case o.b.PDP_CROSS_SELL:return r.x9.PDP_CROSS_SELL;case o.b.BUNDLE_CAROUSEL:return r.x9.BUNDLE_CAROUSEL;case o.b.BUNDLE_INTERSTITIAL:return r.x9.BUNDLE_INTERSTITIAL;case o.b.GLOBAL_SEARCH:return r.x9.GLOBAL_SEARCH;default:return r.x9.STORE}}},40416:(e,t,i)=>{"use strict";i.d(t,{Z:()=>c});var o=i(74369),r=i(53308),n=i(15070),a=i(16638),l=i(75514),s=i(76150),d=i(34626),u=i(1058);function c(){const e=(0,r.I0)(),{user:t}=(0,d.Z)(),{openSidebarCart:i}=(0,s.Lb)(),{isEnabled:c,treatment:m}=(0,u.Z)(),p=(0,n.v)((e=>e.scrollRestore));return{restoreScroll:(0,o.useCallback)(((o,r)=>{if(p.shouldRestore&&(!r||p.valuesById[r]?.shouldRestore))if(r)p.valuesById[r]&&(l.Z?.scrollTo({top:p.valuesById[r].value,...o}),e((0,a.Lk)(r)));else if(l.Z?.scrollTo({top:p.value,...o}),e((0,a.PS)()),!t.data?.isLoggedIn&&c&&"cart_animation"===m){const e=()=>{l.Z?.scrollY===p.value&&(l.Z.removeEventListener("scroll",e),setTimeout((()=>{i()}),500))};l.Z&&l.Z.addEventListener("scroll",e)}}),[p.shouldRestore,p.valuesById,p.value,e,t.data?.isLoggedIn,c,m,i]),setRestoreScrollPosition:t=>{e((0,a.L7)(t))},setRestoreScrollPositionById:(t,i)=>{e((0,a.FY)(t,i))}}}},62938:(e,t,i)=>{"use strict";i.d(t,{Z:()=>a});var o=i(69694),r=i(84272),n=i(47885);const a=()=>{const{isStorePrecheckoutBundlingEnabled:e}=(0,n.Z)(),{primaryBundledStoreUuid:t}=(0,r.Z)(),{draftOrder:i,cart:a}=(0,o.Z)(t);return{shouldShowBundleItemAddedFirstDialog:e&&t&&!(i&&a?.data?.items?.length)}}},77361:(e,t,i)=>{"use strict";i.d(t,{Z:()=>y});var o=i(46933),r=i(91931),n=i(47986),a=i(17222),l=i(94813),s=i(7646),d=i(33535),u=i(37933),c=i(16797),m=i(24316),p=i(85907),g=i(73472),I=i(59924);const f=(0,r.w1)(s.Bi,(e=>{let{$theme:t,$isHovering:i}=e;return{transition:"opacity 0.3s ease-in-out",opacity:i?1:0,background:t.colors.backgroundPrimary,":hover":{background:t.colors.backgroundSecondary},color:t.colors.contentPrimary,boxShadow:"0px 4px 16px rgba(0, 0, 0, 0.12)",pointerEvents:"auto",border:`1px solid ${t.colors.borderOpaque}`,whiteSpace:"nowrap",textOverflow:"ellipsis"}})),y=e=>{const t=(0,l.TH)(),{currentStoreDraftOrderUUID:i}=(0,m.Z)(),{primaryDraftOrderUUID:r}=(0,n.RAN)(t,["primaryDraftOrderUUID"]),s=r||(i||void 0),y=(0,d.ZP)(),h=(0,u.n_)(),{startTiming:_}=(0,g.K3)(),U=(0,p.F)(e.surface);return(0,I.tZ)(f,{$as:a.rU,onClick:t=>{y("eats:quick_view_pill_click",{storeCatalog:{storeUuid:e.storeUuid,sectionUuid:e.sectionUuid,subsectionUuid:e.subsectionUuid,itemUuid:e.itemUuid,sourceType:e.surface,catalogSectionAnalyticsData:e.catalogSectionAnalyticsData}}),e.item.itemAd&&h("ads:ads_click",{adsAnalyticsEvent:{adEventType:c.J.CLICK,adImpressionUUID:e.item.itemAd.impressionId||"",adData:e.item.itemAd.adData||"",bidderUUID:e.storeUuid}}),_(`quick_view_loaded_${e.item.uuid}`,{metadata:{entryPoint:U}}),t.stopPropagation()},to:(0,n.f_e)(t,{storeUuid:e.storeUuid,sectionUuid:e.sectionUuid,subsectionUuid:e.subsectionUuid,itemUuid:e.itemUuid,...e.isMultiSkuModal&&{referrer:n.V$W.multiSkuPromotion},...e.primaryBundledStoreUuid&&{primaryBundledStoreUuid:e.primaryBundledStoreUuid,primaryDraftOrderUUID:s,entryPoint:U}}),$isHovering:e.isHovering,children:(0,I.tZ)(o.v,{id:"catalog_item.quick_view"})})}},28942:(e,t,i)=>{"use strict";i.d(t,{R:()=>w,Z:()=>le});var o=i(74369),r=i("__fusion__476"),n=i(83088),a=i(91931),l=i(62091),s=i(24217),d=i(71110),u=i(67206),c=i(89400),m=i(31913),p=i(87763),g=i(77361),I=i(2403),f=i(6479),y=i(90644),h=i(78576),_=i(47986),U=i(94813),b=i(10400),A=i(11849),T=i(4868),S=i("__fusion__978"),v=i(36278),C=i(57578),k=i(79250),P=i(87444),D=i(79640),x=i(56174),Z=i(7432),E=i(20487),L=i(93778),N=i(17222),O=i(3289),R=i(70329),B=i(33535),$=i(91463),z=i(59924);const w="multi-sku-tag-view-model",G=188,M=(0,a.zo)("div",(()=>({width:"100%",display:"flex",flexFlow:"column nowrap",position:"relative"}))),q=(0,a.zo)("div",(e=>{let{$quickAddPosition:t}=e;return{position:"absolute",...t===b.oN.BOTTOM_TRAILING?{right:"8px",top:"8px"}:{left:"50%",transform:"translate(-50%, 0)",bottom:"8px"}}})),Q=(0,a.zo)("div",(e=>{let{$theme:t,$imageDimensions:i,$catalogConfigImageDimensions:o,$isStoreOfdRedesignXpEnabled:r}=e;return{height:`${i?.height?i.height:o?o.height:G}px`,width:i?.width?`${i.width}px`:"100%",flexShrink:0,position:"relative",...r?{borderRadius:t.borders.radius400}:null}})),F=(0,a.zo)("div",(e=>{let{$cornerRadius:t}=e;return{borderRadius:`${t}px`,position:"relative",height:"100%",overflow:"hidden"}})),W=(0,a.zo)("div",{position:"absolute",top:0,left:0,right:0,bottom:0,background:"rgba(0, 0, 0, 0.02)"}),V=(0,a.zo)(l.Z,(e=>{let{$isAvailable:t,$isHovering:i,$objectFit:o,$height:r,$loaded:n,$isCanonical:a}=e;return{opacity:n?t||a?1:.5:0,height:`${r}px`,width:"100%",objectFit:o,flexShrink:0,transition:"transform 0.5s ease-in-out",transform:i?"scale(1.1)":"scale(1)"}})),X=(0,a.zo)("div",(e=>{let{$theme:t}=e;return{...t.typography.LabelXSmall,height:"24px",color:t.colors.buttonSecondaryText,background:t.colors.buttonSecondaryFill,boxSizing:"border-box",padding:"4px 8px",marginTop:"4px",borderRadius:"12px",width:"fit-content",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",maxWidth:"100%",display:"flex",alignItems:"center"}})),H=(0,a.zo)("div",(e=>{let{$theme:t,$isStoreOfdRedesignXpEnabled:i}=e;return{...t.typography.LabelXSmall,position:"absolute",background:t.colors.signpost,color:t.colors.onSignpost,boxSizing:"border-box",height:t.sizing.scale800,top:t.sizing.scale300,borderRadius:`0 ${t.sizing.scale500} ${t.sizing.scale500} 0`,padding:`${t.sizing.scale100} ${t.sizing.scale500}`,textOverflow:"ellipsis",maxWidth:"90%",whiteSpace:"nowrap",overflow:"hidden"}})),K=(0,a.zo)("div",(e=>{let{$isBorderPresent:t}=e;return{padding:"4px 0 0 0",display:"flex",flexDirection:"column",height:"100%",...t&&{padding:"4px 8px 8px 8px"}}})),j=(0,a.zo)("div",(e=>{let{$theme:t}=e;return{...(0,u.Z)({$theme:t,height:G})}})),Y=(0,a.zo)("div",{paddingTop:"2px",display:"flex",alignItems:"flex-start",flexWrap:"wrap"}),J=(0,a.zo)("p",{display:"flex",alignItems:"center",flexWrap:"wrap"}),ee=(0,a.zo)("div",{paddingTop:"4px",display:"flex",alignItems:"flex-start",flexWrap:"wrap"}),te=(0,a.zo)("div",(e=>{let{$promoBadgePosition:t}=e;return{display:"flex",alignItems:"flex-start",flexWrap:"wrap",...t===T.u.OVER_IMAGE_TOP_LEADING?{position:"absolute",top:"8px",left:"8px"}:{marginTop:"4px"}}})),ie=(0,a.zo)("div",(e=>{let{$theme:t}=e;return t.typography.LabelMedium})),oe=(0,d.pZ)(i(19702)),re=(0,d.pZ)(i(473)),ne="ParagraphSmall",ae=e=>{let{item:t,children:i,isHovering:r,showQuickViewEntryPoint:a,storeUuid:l,sectionUuid:d,subsectionUuid:u,itemStyle:b,isGrocery:ae,primaryBundledStoreUuid:le,catalogSectionAnalyticsData:se,hasLazyloadOverflowContainer:de,surface:ue,imageDimensions:ce,clampItemTitle:me=!1,isCanonical:pe=!1,consumerItemFulfillmentViewType:ge,isMultiSkuModal:Ie=!1}=e;const[fe,ye]=(0,o.useState)(!1),he=Boolean(t.imageUrl),{promotionComponentRef:_e}=(0,I.P)({catalogItem:t,storeUuid:l}),{adsViewableImpressionRef:Ue}=(0,f.Z)({itemAd:t.itemAd}),be=(0,U.TH)(),Ae=(0,B.ZP)(),{modalName:Te}=(0,_.RAN)(be,["modalName"]),Se=t.quickAddConfig?.position,ve=Boolean(t.promoInfo?.promoBadge),{itemRatingTreatmentName:Ce}=(0,k.F)(),ke=(0,o.useMemo)((()=>(0,C.xZ)(t,Ce)),[t,Ce]),Pe=(0,P.Z)("cpg_ads_storefront_sponsored_items_enabled"),De=(0,P.Z)("multi_sku_promotions_enabled"),xe=t.isAvailable??!0,{isStoreOfdRedesignXpEnabled:Ze,menuItemImage:Ee}=(0,R.Z)(),Le="placeholder"===Ee,Ne=Le?"cover":(0,D.JG)({itemStyle:b,isGrocery:ae}),Oe=Le?re:oe,Re=(0,h.lU)(b?.cornerRadius??y.p.SPACING_UNIT_1_5X),Be=b?.headingPrimaryMaxLines,$e=b?.labelPrimaryMaxLines,{collectionUuid:ze="",itemPromotionTag:we="",promotionUuid:Ge=""}=t.itemLevelPromotion?.type===O._k.multiSKUFlatPromotion?t.itemLevelPromotion?.multiSKUFlatPromotion:{};return(0,z.BX)(M,{"data-testid":`store-item-${t.uuid}`,ref:Ue,children:[(0,z.BX)(Q,{$catalogConfigImageDimensions:ce,$isStoreOfdRedesignXpEnabled:Ze,children:[(0,z.BX)(F,{$cornerRadius:Re,children:[(e=>{let{cornerRadius:i}=e;const o=(0,z.tZ)(V,{$isCanonical:pe,$isHovering:!1,$objectFit:Ne,$hasImage:he,$isAvailable:xe,$height:ce?ce.height:G,$loaded:fe,src:t.imageUrl||Oe,alt:t.title||"","aria-hidden":!0,loading:"lazy",decoding:"async",onLoad:()=>ye(!0)}),r="magicUpsell"===Te?'[data-test="desktop-dialog"]':void 0;return t.imageUrl&&!Ie?(0,z.tZ)(n.ZP,{height:ce?ce.height:G,placeholder:(0,z.tZ)(j,{}),once:!0,scrollContainer:r,...de?{overflow:!0,offset:[1200,300]}:{offset:ce?ce.height:G},children:(0,z.tZ)(s.Z,{src:t.imageUrl,children:o})}):o})({cornerRadius:Re}),t.imageOverlayElements?(0,z.tZ)(Z.Z,{elements:t.imageOverlayElements}):(0,z.tZ)(W,{})]}),t.imageOverlayElements?null:(0,z.tZ)(z.HY,{children:ve&&t.promoInfo?.promoBadge&&t.promoInfo?.badgePosition===T.u.OVER_IMAGE_TOP_LEADING?(0,z.tZ)(te,{$promoBadgePosition:T.u.OVER_IMAGE_TOP_LEADING,children:(0,z.tZ)(A.Z,{viewModel:t.promoInfo?.promoBadge})}):t.endorsement?.textBorder?(0,z.tZ)(H,{$isStoreOfdRedesignXpEnabled:Ze,children:t.endorsement.text}):null}),a&&t.uuid?(0,z.tZ)(q,{$quickAddPosition:Se,children:(0,z.tZ)(g.Z,{isHovering:r,item:t,itemUuid:t.uuid,storeUuid:l,sectionUuid:d,subsectionUuid:u,surface:ue,primaryBundledStoreUuid:le,catalogSectionAnalyticsData:se,isMultiSkuModal:Ie})}):null,i]}),(0,z.BX)(K,{ref:_e,$isBorderPresent:Boolean(b?.borderColor),children:[t.itemThumbnailElements?(0,z.tZ)(x.Z,{elements:t.itemThumbnailElements}):(0,z.BX)(z.HY,{children:[(0,z.tZ)(p.Z,{clamp:3,children:t.headingPrimary&&Be?(0,z.tZ)(p.Z,{clamp:Be,children:(0,z.tZ)(m.ZP,{text:t.headingPrimary})}):t.headingPrimary&&me?(0,z.tZ)(p.Z,{clamp:2,children:(0,z.tZ)(m.ZP,{text:t.headingPrimary})}):t.headingPrimary?(0,z.tZ)(m.ZP,{text:t.headingPrimary}):t.titleBadge&&!Le?(0,z.tZ)(c.Z,{badge:t.titleBadge,baseFont:"LabelMedium"}):!t.title||t.labelPrimary||Le?t.titleBadge&&Le?(0,z.tZ)(c.Z,{badge:t.titleBadge,baseFont:ne,baseColor:"contentSecondary"}):null:(0,z.tZ)(ie,{children:t.title})}),t.labelPrimary&&$e?(0,z.tZ)(Y,{children:(0,z.tZ)(p.Z,{clamp:$e,children:(0,z.tZ)(m.ZP,{text:t.labelPrimary})})}):t.labelPrimary?ae?(0,z.tZ)(Y,{children:(0,z.tZ)(p.Z,{clamp:3,children:(0,z.tZ)(m.ZP,{text:t.labelPrimary})})}):(0,z.tZ)(J,{children:(0,z.tZ)(m.ZP,{text:t.labelPrimary})}):t.priceTagline?(0,z.tZ)(c.Z,{badge:t.priceTagline,baseFont:ne}):null,ve&&t.promoInfo?.promoBadge&&t.promoInfo?.badgePosition!==T.u.OVER_IMAGE_TOP_LEADING?(0,z.tZ)(te,{$promoBadgePosition:t.promoInfo?.badgePosition,children:(0,z.tZ)(A.Z,{viewModel:t.promoInfo?.promoBadge})}):null,!ve&&t.promoInfo?.promoInfoLabel?(0,z.tZ)(ee,{children:(0,z.tZ)(m.ZP,{text:t.promoInfo?.promoInfoLabel})}):null,t?.labelTertiary&&Pe?(0,z.tZ)(ee,{children:(0,z.tZ)(m.ZP,{text:t.labelTertiary})}):null,t.endorsement&&!t.endorsement.textBorder&&ke?(0,z.BX)(X,{children:["confidence_builders_eater_endorsed"===t.endorsementAnalyticsTag?(0,z.BX)(z.HY,{children:[(0,z.tZ)(S.default,{}),(0,z.tZ)(v.Q3,{})]}):null,(0,z.tZ)(v.Q3,{}),ke]}):null]}),ae&&we&&ze&&l&&De&&!Ie?(0,z.tZ)(N.rU,{to:(0,_.vN_)(be,"multiSkuPromotion",{storeUuid:l,catalogSectionUuid:ze,...Ge&&{promotionUUID:Ge}}),className:w,onClick:()=>{Ae("eats:multi_sku_flat_promotion_tag_tap",{storeUuid:l,sectionUuid:ze,collectionUuid:ze,promotionUuid:Ge||"",surface:$.N.ITEM_LEVEL})},children:(0,z.tZ)(L.Z,{tag:we})}):null,ge?(0,z.tZ)(E.E,{consumerItemFulfillmentViewType:ge}):null]})]})},le=r.memo(ae)},57727:(e,t,i)=>{"use strict";i.d(t,{a:()=>Qe,Z:()=>Fe});var o=i(74369),r=i("__fusion__476"),n=i(14016),a=i(91931),l=i(78422),s=i(68093),d=i(34567),u=i(69420),c=i(94813),m=i(57597),p=i(75514),g=i(66958),I=i(44606),f=i(52909),y=i(70401),h=i(59924);const _=(0,a.zo)("div",(e=>{let{$theme:t,$closeAnimation:i,$isDark:o}=e;return{cursor:"auto",display:"flex",alignItems:"center",background:o?t.colors.backgroundInversePrimary:t.colors.backgroundPrimary,border:`2px solid ${o?t.colors.backgroundInversePrimary:t.colors.backgroundPrimary}`,boxShadow:"0px 2px 12px rgba(0, 0, 0, 0.12)",borderRadius:t.borders.pillButtonBorderRadius,position:"relative",top:"2px",animationDuration:"200ms",animationFillMode:"forwards",...i?{animationName:{from:{maxWidth:"200px"},to:{maxWidth:"40px"}}}:{animationName:{from:{maxWidth:"40px"},to:{maxWidth:"200px"}}},overflow:"hidden"}})),U=(0,a.zo)("div",(e=>{let{$theme:t,$size:i,$isDark:o}=e,r=t.sizing.scale600,n=t.typography.LabelLarge;switch(i){case Qe.SMALL:r=t.sizing.scale0,n=t.typography.LabelSmall;break;case Qe.MEDIUM:r=t.sizing.scale100,n=t.typography.LabelMedium}return{...n,width:"max-content",paddingLeft:r,paddingRight:r,whiteSpace:"nowrap",textAlign:"center",color:o?t.colors.contentInversePrimary:t.colors.contentPrimary}})),b=(0,a.zo)("button",(e=>{let{$theme:t,$size:i,disabled:o,$isDark:r}=e;return{borderRadius:t.borders.pillButtonBorderRadius,color:r?t.colors.contentInversePrimary:t.colors.contentPrimary,background:r?t.colors.backgroundInversePrimary:t.colors.backgroundPrimary,alignItems:"center",boxSizing:"border-box",cursor:"pointer",display:"flex",justifyContent:"center",width:"small"===i?"34px":"36px",height:"small"===i?"34px":"36px",minHeight:""+("small"===i?"34px":"36px"),padding:0,margin:0,"@media (hover: hover)":{":hover":{background:r?t.colors.backgroundInverseSecondary:t.colors.backgroundSecondary}},":active":{background:r?t.colors.backgroundInverseSecondary:t.colors.backgroundSecondary},...o&&{color:t.colors.contentStateDisabled,cursor:"not-allowed",":disabled":{fill:t.colors.disabled,background:"transparent"},"@media (hover: hover)":{":hover":{background:r?t.colors.backgroundInverseSecondary:t.colors.backgroundSecondary}},":active":{background:r?t.colors.backgroundInverseSecondary:t.colors.backgroundSecondary}}}})),A=e=>{const[t,i]=r.useState(e.size),o=(0,m.Z)({item:e.item,storeUuid:e.storeUuid,cartQuantity:e.quantity}),n=(0,f.e5)(),a=(0,g.jx)(e.item),s=(0,g.L5)(e.item),d=s.increment??1,u=null!=s.minimumQuantity?s.minimumQuantity:1,c=r.useCallback((()=>{p.Z&&(p.Z.innerWidth<=1e3?i(Qe.SMALL):p.Z.innerWidth<=1500?i(Qe.MEDIUM):i(Qe.LARGE))}),[]),A=(0,y.Z)(c,1e3);r.useEffect((()=>{if(p.Z)return c(),p.Z.addEventListener("resize",A),()=>{p.Z&&p.Z.removeEventListener("resize",A)}}),[A,c]);const T=r.useMemo((()=>{switch(t){case Qe.SMALL:return 16;case Qe.MEDIUM:return 18;default:return 20}}),[t]);return(0,h.BX)(_,{$closeAnimation:e.closeAnimation,$isDark:n,children:[(0,h.tZ)(b,{"data-test":"quick-add-minus",disabled:Boolean(e.isDisabled),onClick:()=>{e.updateQuantity(I.Tf.from(d).multiply(-1).toBaseDecimal())},$size:e.size,$isDark:n,children:e.quantity<=u?(0,h.tZ)(l.Z,{name:"TrashCanFilled",size:T}):(0,h.tZ)(l.Z,{name:"MinusSmallFilled",size:T})}),a?(0,h.BX)(U,{$size:t,"data-test":"quick-add-quantity",$isDark:n,children:[e.quantity," ",(0,g.YP)(e.item)]}):(0,h.tZ)(U,{$size:e.size,"data-test":"quick-add-quantity",$isDark:n,children:e.quantity}),(0,h.tZ)(b,{$size:e.size,"data-test":"quick-add-plus",disabled:Boolean(e.isDisabled)||o()!==m.y.BELOW_LIMIT,onClick:()=>{e.updateQuantity(I.Tf.from(d).toBaseDecimal())},$isDark:n,children:(0,h.tZ)(l.Z,{name:"PlusSmallFilled",size:T})})]})};var T=i(53308),S=i(6703),v=i(47986),C=i(33535),k=i(37933),P=i(69630),D=i(16797),x=i(13427),Z=i(40964),E=i(64388),L=i(3289);const N=e=>{let{storeUUID:t,sectionUUID:i,subsectionUUID:r,catalogSectionUUID:n,item:a,quantity:l,decimalQuantity:s,updateQuantity:d,cartItemCount:p,closeAnimation:f,closeStepper:y,isDifferentStoreFromCart:_,isPerformingCartUpdate:U,addToCart:b,increment:N,decrement:O,quickAddCount:R,updateDecimalQuantity:B,debouncedQuickAddCount:$,quickAddSource:z,isLowAvailabilityItem:w,sourceType:G,analytics:M,searchTerm:q,selectedVertical:Q,itemPosition:F,position:W,size:V}=e;const X=(0,u.k6)(),H=(0,u.UO)(),K=(0,c.TH)(),j=(0,T.I0)(),Y=(0,P.Z)(),J=(0,C.ZP)(),ee=(0,k.n_)(),te=(0,v.li$)(K,{...(0,v.x9r)(H),sectionUuid:i,itemUuid:a.uuid||""}),ie=(0,x.Z)(),oe=a,re=oe?.catalogItemAnalyticsData?.catalogSectionItemPosition??-1,{promotionUuid:ne=null}=oe?.itemLevelPromotion?.type===L._k.multiSKUFlatPromotion?oe?.itemLevelPromotion?.multiSKUFlatPromotion:{},ae=(0,o.useRef)((e=>{j((0,S.px)({storeUUID:t,item:a,quantity:e,sectionUUID:i,subsectionUUID:r,catalogSectionUUID:n})),X.push(te)})),le=(0,o.useRef)({addToCart:b,increment:N,decrement:O,updateDecimalQuantity:B,isPerformingCartUpdate:U,debouncedQuantity:$.integer});le.current={addToCart:b,increment:N,decrement:O,updateDecimalQuantity:B,isPerformingCartUpdate:U,debouncedQuantity:$.integer};const se=(0,m.Z)({item:a,storeUuid:t,cartQuantity:l}),de=(0,o.useCallback)(((e,t)=>{"number"==typeof e?e>t?le.current.increment(e-t):e<t&&le.current.decrement(t-e):le.current.updateDecimalQuantity(e)}),[le]),ue=(0,o.useRef)({quantity:l,decimalQuantity:s,cartItemCount:p});ue.current={quantity:l,decimalQuantity:s,cartItemCount:p};const{store:ce}=(0,E.ZP)(t),me=ce.data?(0,Z.E)(ce.data):void 0;(0,o.useEffect)((()=>{const e=ae;return()=>{ie&&!f&&ue.current.quantity>0&&0===ue.current.cartItemCount&&0===le.current.debouncedQuantity||ue.current.quantity!==ue.current.cartItemCount&&le.current.debouncedQuantity!==ue.current.quantity&&(Y&&_?(le.current.addToCart({isStartingNewOrder:!1,eventSource:"quick_add",surfaceType:G,actionMeta:{isQuickAdd:!0,quickAddSource:z},itemPosition:re}),j((0,S.OA)())):_?_&&e.current(ue.current.quantity):de(ue.current.decimalQuantity,ue.current.cartItemCount))}}),[de,_,Y,ae,j,z,ie,f,G,re]),(0,o.useEffect)((()=>{if(p!==$.integer&&(!le.current.isPerformingCartUpdate||0!==p))return 0!==p?de($.decimal,p):void(f||(le.current.addToCart({isStartingNewOrder:!1,eventSource:"quick_add",surfaceType:G,actionMeta:{isQuickAdd:!0,quickAddSource:z},itemPosition:re}),j((0,S.OA)())))}),[_,p,de,a,Y,f,$,j,z,G,re]);const pe=(0,g.L5)(a),ge=(0,o.useCallback)((e=>{const o=I.Tf.from(e).toFloat();let s="number"==typeof e?R.integer+e:I.Tf.from(R.decimal).add(e).toBaseDecimal();if("number"!=typeof s&&pe.minPermitted&&I.Tf.from(s).isLt(pe.minPermitted)&&(s=I.Tf.from(0).toBaseDecimal()),o>0&&se({increment:o,showSnackbarWarning:!0})===m.y.ABOVE_LIMIT)return;d(a.uuid||"",s);const u=o>0?"increment":"decrement";if(J("eats:quick_add_button_tap",{verticalType:me,quickAddOperation:{storeUuid:t,itemUuid:a.uuid||"",previousQuantity:l,updatedQuantity:l+o,operationType:u,searchTerm:q||"",selectedVertical:Q,itemPosition:F,carouselPostion:W,lowAvailabilityItemUuid:w&&a?.uuid||"",catalogSectionUuid:n||i,sectionUuid:i,subsectionUuid:r,...G?{sourceType:G}:{},...M?.catalogSection?{catalogSectionAnalyticsData:M.catalogSection}:{},...ne&&{promotionUuid:ne}},analyticsLabel:"analyticsLabel"in a&&a.analyticsLabel?a.analyticsLabel:void 0}),o>0&&"itemAd"in a){const e=a;ee("ads:ads_click",{adsAnalyticsEvent:{adEventType:D.J.CLICK,adImpressionUUID:e.itemAd?.impressionId||"",adData:e.itemAd?.adData||"",bidderUUID:t}})}("number"==typeof s?s<=0:s?.base<=0)&&y()}),[me,R.integer,R.decimal,pe.minPermitted,se,d,a,J,ee,t,l,q,Q,F,W,w,i,r,G,M?.catalogSection,y,ne,n]);return(0,h.tZ)(A,{item:a,storeUuid:t,quantity:l,closeAnimation:f,updateQuantity:ge,size:V})};var O=i(15070),R=i(53213),B=i(10400),$=i(88671),z=i(67476),w=i(70247),G=i(53176),M=i(33967),q=i(32830),Q=i(49723),F=i(79640);var W=i(62938),V=i(11189),X=i(54669),H=i(55186),K=i(4462),j=i(41063),Y=i(34626);const J=(0,a.zo)("div",(e=>{let{$theme:t,$isOpen:i}=e;return{border:i?"none":`1px solid ${t.colors.quickAddButtonBorderColor}`,boxShadow:"0px 2px 12px rgba(0, 0, 0, 0.12)",borderRadius:t.borders.pillButtonBorderRadius}})),ee=(0,a.zo)("div",(e=>{let{$theme:t,$size:i}=e;return{..."small"===i?t.typography.LabelSmall:t.typography.LabelLarge,color:t.colors.quickAddButtonColor}})),te=(0,a.w1)(d.Z,(e=>{let{$theme:t,$size:i}=e;return{height:"small"===i?"32px":"36px",minWidth:"small"===i?"32px":"36px",minHeight:0,padding:"2px 4px",background:t.colors.quickAddButtonBackground,color:t.colors.quickAddButtonColor,":hover":{background:t.colors.quickAddButtonBackgroundHover},":active":{background:t.colors.quickAddButtonBackgroundActive}}})),ie=e=>{let{item:t,subsectionUUID:i,storeUUID:a,sectionUUID:d,catalogSectionUUID:m,cartItemCount:p,cartItemDecimalCount:f,syncItemQuantity:y,quickAddCount:_,disabled:U,quickAddSource:b,isInteractionEnabled:A=!0,itemAvailabilityState:k,sourceType:D,storeSlug:Z="",analytics:ie,onClickEvent:oe,searchTerm:re,size:ne,resultIndex:ae,selectedVertical:le,itemPosition:se,position:de}=e;const ue=(0,T.I0)(),ce=_.integer,[me,pe]=(0,o.useState)(!1),ge=(0,n.T)(),[Ie,fe]=r.useState(!1),ye=r.useRef(null),{store:he}=(0,E.ZP)(a,{cacheOnly:!0}),_e=(0,c.TH)(),Ue=(0,c.UO)(),be=(0,$.k)(),Ae=(0,u.k6)(),Te=(0,C.ZP)(),{canEditGroupOrderCart:Se}=(0,z.Z)(a),ve=(0,g.ne)(t),{itemQueue:Ce}=(0,O.v)((e=>e.quickAdd)),{draftOrder:ke}=(0,w.Dz)(),Pe=ke?.storeUuid,De=(0,P.Z)(),{storeSlug:xe}=(0,v.WxO)(Ue),{shouldShowBundleItemAddedFirstDialog:Ze}=(0,W.Z)(),Ee=(0,x.Z)(),Le=(0,X.Z)(),{user:Ne}=(0,Y.Z)(),Oe=(0,v.yz4)({location:_e,args:{sectionUuid:d,subsectionUuid:i,itemUuid:t.uuid||"",storeUuid:a||"",storeSlug:Z||xe||""}}),Re=(0,o.useCallback)((()=>{pe(!0),setTimeout((()=>{fe(!1),pe(!1)}),200)}),[]);(0,R.Z)(ye,(()=>{Ie&&Re()}),!0);const Be=(e,t)=>{ue((0,S.$R)(a,e,t))},$e=(0,o.useCallback)(((e,t,i)=>{const o=t?.meta?.type||t?.meta?.body?.code;if(t&&Te("eats:store_quick_add_error",{storeUuid:a,error:t}),"DRAFT_ORDER_VALIDATION_ERROR"===o||"CREATE_DRAFT_ORDER_VALIDATION_ERROR"===o||"ORDER_ALERT_ERROR"===o)return be(!1,t,!1,he)}),[be,Te,he,a]),{increment:ze,decrement:we,updateDecimalQuantity:Ge,addToCart:Me,isDifferentStoreFromCart:qe,serverCart:Qe}=(e=>{let{storeUuid:t,item:i,quantity:r,sectionUuid:n,subsectionUuid:a,onAddedToCart:l,decimalQuantity:s,quickAddSource:d,analytics:u,resultIndex:c,sourceType:m,searchTerm:p}=e;const{store:g}=(0,E.ZP)(t,{cacheOnly:!0}),I=(0,M.Z)(!0),{serverCart:f}=(0,w.iQ)(),y=(0,T.I0)(),h=f.data?.groupedItems,{outOfItemAction:_}=(0,Q.Z)(),U=(0,o.useMemo)((()=>(((h||[]).find((e=>e.isCurrentUser))||{}).items||[]).filter((e=>e.uuid===i.uuid))),[h,i.uuid]),b=(0,o.useMemo)((()=>(0,q.Z)(U.map((e=>{let{quantity:t}=e;return t})))),[U]),A=(0,F.iu)(i),{promotionUuid:v=null}="itemLevelPromotion"in i&&i?.itemLevelPromotion?.type===L._k.multiSKUFlatPromotion?i?.itemLevelPromotion?.multiSKUFlatPromotion:{},C={error:null,hasLoaded:!0,isLoading:!1,data:{price:Number(i.price),title:String(i.title),uuid:i.uuid||"",hasCustomizations:!1,customizationsList:[],imageUrl:String(i.imageUrl),imageWatermarkContent:null,images:null,nutritionalInfo:null,suspendReason:null,suspendUntil:0,itemPromotion:null,itemPromotionV2:{promoText:null,availablePromotion:null,appliedPromotion:null,promotionData:null},rules:null,sectionUuid:n,subsectionUuid:a,itemDescription:A??"",purchaseInfo:i.purchaseInfo,itemLevelPromotion:{type:L._k.multiSKUFlatPromotion,multiSKUFlatPromotion:{promotionUuid:v}}}},k="itemAd"in i?i.itemAd:null,{addToCart:P}=(0,G.Z)({store:g,menuItem:C,selectedCustomizations:{},quantity:r,specialInstructions:"",outOfItemAction:_,onAddedToCart:l,decimalQuantity:s,itemAd:k,analytics:{catalogSection:u?.catalogSection},resultIndex:c,sourceType:m,searchTerm:p}),D=Boolean(f?.hasLoaded&&g.hasLoaded&&f.data?.items?.length&&f?.data?.storeUuid!==g?.data?.uuid),x=(e,t)=>{t?I(t,e,{isQuickAdd:!0},m):P({isStartingNewOrder:D,eventSource:"quick_add",actionMeta:{isQuickAdd:!0,quickAddSource:d}}),y((0,S.OA)())},Z=(0,o.useMemo)((()=>U.sort(((e,t)=>new Date(t.createdTimestamp??0)-new Date(e.createdTimestamp??0)))),[U]);return{addToCart:P,increment:e=>{const t=Z[0];x(e+(t?.quantity||0),t?.shoppingCartItemUuid)},decrement:e=>{let t=e;for(let e=0;e<Z.length;e++){const i=Z[e];if(i){if(0===t)return;if(i.quantity>=t){x(i.quantity-t,i.shoppingCartItemUuid);break}t-=i.quantity,x(0,i.shoppingCartItemUuid)}}},updateDecimalQuantity:e=>{const t=Z[0];e.base<=0?x(0,t?.shoppingCartItemUuid):x(e,t?.shoppingCartItemUuid)},cartItemMatch:U,cartItemQuantity:b,serverCart:f,isDifferentStoreFromCart:D}})({storeUuid:a,item:t,quantity:ce,sectionUuid:d,subsectionUuid:i,onAddedToCart:$e,decimalQuantity:_.decimal,quickAddSource:b,analytics:ie,resultIndex:ae,sourceType:D,searchTerm:re});(0,o.useEffect)((()=>{const e=I.Tf.maybeFrom(f)?.toFloat();(Ee?ve?y&&e!==ce:y&&p!==ce:y&&p!==ce&&(!ve||f))&&ue((0,S.$R)(a,t.uuid||"",f||p))}),[t,ve,f,y,p,t.uuid,ue,ce,a,Ee]);const Fe=(0,v.li$)(_e,{sectionUuid:d,subsectionUuid:i,itemUuid:t.uuid||"",storeUuid:a||"",storeSlug:Z||xe||""}),We=(0,s.Z)(_,1e3),Ve=k===B.F8?.LIKELY_UNAVAILABLE;if(!Se)return null;const Xe=()=>{oe&&oe()};return(0,h.tZ)(H.Z,{type:"login",sourceCta:"add_to_cart",sourceFlow:"storefront",children:e=>{let{onClick:o}=e;return(0,h.tZ)(K.Z,{isEligible:!Ne.data?.isLoggedIn&&!Le,experimentParams:j.v.storefront_auth_vs_add_nudge,children:e=>(0,h.tZ)(J,{onClick:r=>{e?(Te("eats:redirect_authentication_attempt",{source:"quick_add_to_cart"}),o()):(e=>{if((!Le||t.hasCustomizations||!t?.quickAddConfig?.isInteractionEnabled)&&0===ce)return;if(!A)return;if(e.preventDefault(),e.stopPropagation(),U)return;const o=(0,g.L5)(t),r=o.defaultDecimal||I.Tf.from(1).updateExponent(o.increment?.exponent||0).toBaseDecimal();Ze?Ae.push((0,V.p9)(_e)):qe&&!De?(ue((0,S.px)({storeUUID:a,item:t,quantity:r,sectionUUID:d,subsectionUUID:i,catalogSectionUUID:m})),Ae.push(Fe)):Pe!==a&&Boolean(Ce.length)&&Ce[0]!==t.uuid?Ae.push(Oe):Pe===a||Ce.length||!Qe.isLoading||Ie?(fe(!0),0===ce&&(ue((0,S.$R)(a,t.uuid||"",r)),ue((0,S.O7)(t.uuid)))):Ae.push(Oe)})(r)},ref:ye,$isOpen:Ie,children:Ie?(0,h.tZ)(N,{storeUUID:a,sectionUUID:d,subsectionUUID:i,catalogSectionUUID:m,item:t,quantity:ce,updateQuantity:Be,cartItemCount:p,closeAnimation:me,closeStepper:Re,isDifferentStoreFromCart:qe,isPerformingCartUpdate:Qe.isLoading,addToCart:Me,increment:ze,decrement:we,quickAddCount:_,decimalQuantity:_.decimal,updateDecimalQuantity:Ge,debouncedQuickAddCount:We,quickAddSource:b,isLowAvailabilityItem:Ve,sourceType:D,analytics:ie,searchTerm:re,selectedVertical:le,itemPosition:se,position:de,size:ne}):(0,h.tZ)(te,{"data-testid":"quick-add-button",disabled:U,"aria-label":ge("quick_add"),radius:"pillButtonBorderRadius",onClick:Xe,$size:ne,children:ce>0?ve?(0,h.BX)(ee,{$size:ne,children:[ce," ",(0,g.YP)(t)]}):(0,h.tZ)(ee,{$size:ne,children:ce}):(0,h.tZ)(l.Z,{name:"PlusSmallFilled",size:"small"===ne?16:20})})})})}})},oe=r.memo(ie);var re=i(39463),ne=i(49946);const ae=(0,a.zo)("div",(e=>{let{$theme:t,$closeAnimation:i}=e;return{cursor:"auto",display:"flex",alignItems:"center",background:t.colors.quickAddButtonBackground,border:`2px solid ${t.colors.quickAddButtonBorderColor}`,boxShadow:"0px 2px 12px rgba(0, 0, 0, 0.12)",borderRadius:t.borders.pillButtonBorderRadius,position:"relative",top:"2px",animationDuration:"200ms",animationFillMode:"forwards",...i?{animationName:{from:{maxWidth:"200px"},to:{maxWidth:"40px"}}}:{animationName:{from:{maxWidth:"40px"},to:{maxWidth:"200px"}}},overflow:"hidden"}})),le=(0,a.zo)("div",(e=>{let{$theme:t,$size:i}=e;return{..."small"===i?t.typography.LabelSmall:t.typography.LabelLarge,width:"max-content",paddingLeft:"small"===i?"2px":"16px",paddingRight:"small"===i?"2px":"16px",whiteSpace:"nowrap",textAlign:"center",color:t.colors.quickAddButtonColor}})),se=(0,a.zo)("button",(e=>{let{$theme:t,$size:i,disabled:o}=e;return{borderRadius:t.borders.pillButtonBorderRadius,color:t.colors.quickAddButtonColor,background:t.colors.quickAddButtonBackground,alignItems:"center",boxSizing:"border-box",cursor:"pointer",display:"flex",justifyContent:"center",width:"small"===i?"34px":"36px",height:"small"===i?"34px":"36px",minHeight:""+("small"===i?"34px":"36px"),padding:0,margin:0,"@media (hover: hover)":{":hover":{background:t.colors.quickAddButtonBackgroundHover}},":active":{background:t.colors.quickAddButtonBackgroundActive},...o&&{color:t.colors.contentStateDisabled,cursor:"not-allowed",":disabled":{fill:t.colors.disabled,background:"transparent"},"@media (hover: hover)":{":hover":{background:t.colors.quickAddButtonBackgroundHover}},":active":{background:t.colors.quickAddButtonBackgroundActive}}}})),de=e=>{const{onQuantityUpdated:t}=e,i=e.quantity.minQuantity,r=e.quantity.step,n=e.quantity.maxQuantity,a=e.quantity.currentQuantity,s=I.Tf.from(a).toE5(),d=(0,o.useCallback)((e=>{e.stopPropagation(),e.preventDefault();const i=s.add(r).toFloat(),o=I.Tf.from(i).toBaseDecimal();t(o)}),[s,r,t]),u=(0,o.useCallback)((e=>{e.stopPropagation(),e.preventDefault();const o=s.subtract(r);if(o.isLt(i))t({base:0,exponent:0});else{const e=o.toFloat(),i=I.Tf.from(e).toBaseDecimal();t(i)}}),[s,r,i,t]);return(0,h.BX)(ae,{$closeAnimation:e.closeAnimation,children:[(0,h.tZ)(se,{"data-test":"quick-add-minus",disabled:Boolean(e.isDisabled)||s.isLt(i),onClick:u,$size:e.size,children:s.isLte(i)?(0,h.tZ)(l.Z,{name:"TrashCanFilled",size:"small"===e.size?16:20}):(0,h.tZ)(l.Z,{name:"MinusSmallFilled",size:"small"===e.size?16:20})}),(0,h.BX)(le,{$size:e.size,"data-test":"quick-add-quantity",children:[s.toFloat()," ",e.quantity.suffix??""]}),(0,h.tZ)(se,{$size:e.size,"data-test":"quick-add-plus",disabled:Boolean(e.isDisabled)||s.isGte(n),onClick:d,children:(0,h.tZ)(l.Z,{name:"PlusSmallFilled",size:"small"===e.size?16:20})})]})},ue=(0,o.memo)(de);var ce=i(38777),me=i(74057),pe=i(24316),ge=i(92005),Ie=i(87954),fe=i(17615),ye=i(24934),he=i(85427),_e=i(63835),Ue=i(50818),be=i(97375),Ae=i(92431),Te=i(87696),Se=i(17941),ve=i(44997),Ce=i(6264),ke=i(78227),Pe=i(3695),De=i("__fusion__702"),xe=i(20196),Ze=i(83059),Ee=i(55421),Le=i(37010),Ne=i(72439),Oe=i(64986),Re=i(19910),Be=i(36956);const $e=(0,a.zo)("div",(e=>{let{$theme:t,$isOpen:i}=e;return{border:i?"none":`1px solid ${t.colors.quickAddButtonBorderColor}`,boxShadow:"0px 2px 12px rgba(0, 0, 0, 0.12)",borderRadius:t.borders.pillButtonBorderRadius}})),ze=(0,a.zo)("div",(e=>{let{$theme:t,$size:i}=e;return{..."small"===i?t.typography.LabelSmall:t.typography.LabelLarge,color:t.colors.quickAddButtonColor}})),we=(0,a.w1)(d.Z,(e=>{let{$theme:t,$size:i}=e;return{height:"small"===i?"32px":"36px",minWidth:"small"===i?"32px":"36px",minHeight:0,padding:"2px 4px",background:t.colors.quickAddButtonBackground,color:t.colors.quickAddButtonColor,":hover":{background:t.colors.quickAddButtonBackgroundHover},":active":{background:t.colors.quickAddButtonBackgroundActive}}}));function Ge(e){let{storeId:t,isDisabled:i,size:a,storeItem:s,sectionUUID:d,subsectionUUID:u,catalogSectionUUID:p,onQuickAddClicked:g,sourceType:f,resultIndex:y,searchTerm:_,analytics:U,itemQuantityInCart:b,onProductQuantityUpdated:A,actionUrl:T,isMultiSkuModal:S,selectedVertical:P,itemPosition:x,position:N}=e;const O=(0,C.ZP)(),$=(0,k.n_)(),[z,w]=(0,o.useState)(!1),G=(0,n.T)(),[M,q]=r.useState(!1),Q=r.useRef(null),W=(0,c.TH)(),V=(0,o.useCallback)((()=>{w(!0),setTimeout((()=>{q(!1),w(!1)}),200)}),[]);(0,R.Z)(Q,(()=>{M&&V()}),!0);const H=(0,X.Z)(),K=!(0,F.l2)(H),j=s.uuid??"",Y=s.purchaseInfo?.purchaseOptions?.[0],J=(0,o.useMemo)((()=>(0,ke.Z)(Y,b)),[b,Y]),{...ee}=(0,ce.W)(),{deliveryTime:te,hasActiveDraftOrderMetadata:ie}=(0,me.Z)(t),{isInMulticart:oe}=(0,pe.Z)(),re=(0,ge.Z)(),{handledHighCapacityOrderIntent:ne}=(0,Ie.Z)(),{store:ae}=(0,E.ZP)(t,{cacheOnly:!0}),le=(0,o.useMemo)((()=>(0,Ue.TG)(ae.data||void 0)),[ae.data]),se=ne?.hhcOrderSize||(0,fe.vD)(ae.data?.groupOrderSizes||void 0)?.hhcOrderSize,{deliveryInstructions:de}=(0,ye.pK)(),_e=de.data?.selectedInstruction?.interactionType||de.data?.preferredInteractionType||he.$$.interactionType,Se=oe&&!ie,ve=s.hasCustomizations,Ce=ae.data?(0,Z.E)(ae.data):void 0,{promotionUuid:Pe=null}="itemLevelPromotion"in s&&s?.itemLevelPromotion?.type===L._k.multiSKUFlatPromotion?s?.itemLevelPromotion?.multiSKUFlatPromotion:{},De=(0,Ae.Z)(),xe=(0,Te.PJ)(De),{storeCatalogSections:Ze,entryPoint:Ee,originalCatalogSectionUuid:Le,primaryDraftOrderUUID:Oe}=(0,v.RAN)(W,["storeCatalogSections","entryPoint","originalCatalogSectionUuid","primaryDraftOrderUUID"]),Re=(0,m.Z)({item:s,storeUuid:t,cartQuantity:I.Tf.from(J.currentQuantity).toInt()}),Be=()=>{if(ae.data?.fulfillmentIssueOptions){const e=ae.data.fulfillmentIssueOptions?.resolutionActions,t=e?.find((e=>e.isDefault));if(t&&null!==t.action)return t?.action}},Ge=(0,o.useCallback)((e=>{const i=I.Tf.from(J.currentQuantity),o=I.Tf.from(e).subtract(i).isGt(0)?"increment":"decrement",r="itemAvailabilityState"in s&&s.itemAvailabilityState===B.F8.LIKELY_UNAVAILABLE;O("eats:quick_add_button_tap",{isNewCartAbstraction:!0,verticalType:Ce,quickAddOperation:{storeUuid:t,itemUuid:j,previousQuantity:i.toFloat(),updatedQuantity:I.Tf.from(e).toFloat(),operationType:o,searchTerm:_,selectedVertical:P,itemPosition:x,carouselPostion:N,lowAvailabilityItemUuid:r?j:"",catalogSectionUuid:p||d,sectionUuid:d,subsectionUuid:u,...f?{sourceType:f}:{},...U?.catalogSection?{catalogSectionAnalyticsData:U.catalogSection}:{},...Pe&&{promotionUuid:Pe}},analyticsLabel:"analyticsLabel"in s&&s.analyticsLabel?s.analyticsLabel:void 0}),"increment"===o&&"itemAd"in s&&$("ads:ads_click",{adsAnalyticsEvent:{adEventType:D.J.CLICK,adImpressionUUID:s.itemAd?.impressionId||"",adData:s.itemAd?.adData||"",bidderUUID:t}})}),[U,$,O,J.currentQuantity,_,P,x,N,d,f,t,s,j,u,Ce,Pe,p]),Me=(0,o.useCallback)((async e=>{0===e.base&&V();const t=I.Tf.from(J.currentQuantity),i=I.Tf.from(e).subtract(t);Re({increment:I.Tf.from(i).toInt(),showSnackbarWarning:!0}),m.y.ABOVE_LIMIT;const o={price:Number(s.price),customizationsList:[],images:null,nutritionalInfo:null,itemPromotionV2:{promoText:null,availablePromotion:null,appliedPromotion:null,promotionData:null},itemDescription:(0,F.iu)(s)},r=Ze?"l2":"l1",n="catalogItemAnalyticsData"in s&&"number"==typeof s.catalogItemAnalyticsData?.catalogSectionItemPosition?s.catalogItemAnalyticsData?.catalogSectionItemPosition:-1,a={storeAnalytics:le,isDelegatedBooking:ee.isDelegatedBooking,deliveryTime:"object"==typeof te&&"scheduled"in te?be.s.scheduled:be.s.asap,menuItem:o,diningMode:xe,catalogItemLevel:r,surfaceType:f,itemPosition:n,resultIndex:y,storeAvailabilityState:ae.data?.storeInfoMetadata?.storeAvailablityStatus?.state??"UNKNOWN",entryPoint:Ee,storeVerticalType:ae.data?(0,Z.E)(ae.data):void 0,storeCatalogSectionAnalytics:U?.catalogSection,originalCatalogSectionUuid:Le,..._&&{searchTerm:_}};Ge(e),A({newQuantity:{...J,currentQuantity:e},analyticsRelevantData:a,delegatedBooking:ee,deliveryTime:te,isInMulticart:oe,storeCurrencyCode:ae.data?.currencyCode??"USD",selectedVoucher:re,hhcOrderSize:se,interactionType:_e,fulfillmentIssueAction:Be(),shouldUpdateDraftOrderMetadata:Se})}),[Ge]),{consumerItemFulfillmentViewType:qe,isFulfilled:Qe,showBlockedItemSnackbar:Fe}=(0,Ne.g)(s.uuid??""),We=(0,o.useCallback)((e=>{if(Qe)return Fe?.(qe,s.title),e.stopPropagation(),void e.preventDefault();g&&!S&&g();K||ve||!(Ce&&"grocery"===Ce?s?.quickAddConfig?.isInteractionEnabled??!0:s?.quickAddConfig?.isInteractionEnabled)||Boolean(Oe)||(e.stopPropagation(),e.preventDefault(),q(!0),b&&b?.currentQuantity?.base||Me(J.defaultQuantity??J.minQuantity))}),[g,K,ve,s?.quickAddConfig?.isInteractionEnabled,Oe,b,Me,Ce,Qe,Fe,s.title,qe,S,J.minQuantity,J.defaultQuantity]),Ve=I.Tf.from(ve?J.totalQuantityWithCustomizations??J.currentQuantity:J.currentQuantity);return(0,h.tZ)($e,{onClick:We,ref:Q,$isOpen:M,children:M?(0,h.tZ)(ue,{onQuantityUpdated:Me,size:a,quantity:J,closeAnimation:z,isDisabled:i}):(0,h.tZ)(we,{"data-testid":"quick-add-button",disabled:i,"aria-label":G("quick_add"),radius:"pillButtonBorderRadius",$size:a,children:Ve.isGt(0)?(0,h.tZ)(ze,{$size:a,children:`${Ve.toFloat()}${J.suffix}`}):(0,h.tZ)(l.Z,{name:"PlusSmallFilled",size:"small"===a?16:20})})})}const Me=r.memo(Ge,((e,t)=>e.itemQuantityInCart===t.itemQuantityInCart)),qe=e=>{const t=(0,ne.j)({getCartFrom:"storeId",storeId:e.storeId}),{enqueue:i}=(0,xe.Ds)(),[n,a]=r.useState(null),l=(0,Oe.Z)(),{isLiveOrder:s,liveOrderUuid:d}=(0,ve.W)(),u=(0,Re.d)(),c=(0,o.useRef)(u);c.current=u;const m=(0,Ce.W)({getCartFrom:"workflowId",workflowId:d}),p=(0,Se.W)({cartType:"DRAFT_ORDER",getCartFrom:"storeId",storeId:e.storeId,selector:t=>t.rawCartData?.cartQuantities?.[e.storeItem.uuid??""]}),g=(0,Se.W)({cartType:"LIVE_ORDER",getCartFrom:"workflowId",workflowId:d,selector:t=>t.rawCartData?.cartQuantities?.[e.storeItem.uuid??""]}),f=s?{type:"LIVE_ORDER",cartState:m,itemQuantityInCart:g}:{type:"DRAFT_ORDER",cartState:t,itemQuantityInCart:p},y=(0,o.useRef)(f);y.current=f;const _=(0,O.v)((e=>{let{checkout:t}=e;return t})),U=(0,C.ZP)(),{isAddOnStore:b,addOnOfferContext:A}=(0,Le.Z)(e.storeId),{selectedBusinessProfile:T,profileSource:S,paymentProfileUuidForSelectedProfile:v}=(0,Be.Z)(),k=(0,o.useCallback)((async t=>{let{newQuantity:o,fulfillmentIssueAction:r}=t;try{c.current({type:"store",num:o.currentQuantity,skuUuid:e.storeItem.uuid??"",storeItem:e.storeItem,storeIdentifier:{storeUuid:e.storeId,sectionUuid:e.sectionUUID,subsectionUuid:e.subsectionUUID},fulfillmentIssueAction:r}).then((t=>{"SUCCESS_EDIT_CART_ITEM"===t?.type&&(i({message:(0,Ee.Qs)(t?.infoMessages?.updateCartInfoDetails?.infoSnackBar?.message),startEnhancer:()=>(0,h.tZ)(De.default,{size:"24"})},Ze.t.short),e.isMultiSkuModal&&e.onQuickAddClicked&&e.onQuickAddClicked())})).catch((e=>{"UPDATE_ITEMS_IN_CART_BOTTOM_SHEET"===e.name?a(e.payload[0]):l()}))}catch(t){U("eats:store_quick_add_error",{storeUuid:e.storeId,error:t})}}),[]),P=(0,o.useCallback)((async t=>{let{newQuantity:i,analyticsRelevantData:o,delegatedBooking:r,deliveryTime:n,isInMulticart:a,storeCurrencyCode:l,selectedVoucher:s,hhcOrderSize:d,interactionType:u,fulfillmentIssueAction:c,shouldUpdateDraftOrderMetadata:m}=t;if("DRAFT_ORDER"===y.current.type)try{switch(y.current.cartState.status){case"MISSING":case"DELETING":await y.current.cartState.actions.editQuantityInCart({cartItem:{uuid:e.storeItem.uuid||"",shoppingCartItemUuid:(0,_e.Z)(),storeUuid:e.storeId,sectionUuid:e.sectionUUID,subsectionUuid:e.subsectionUUID,price:Number(e.storeItem.price),title:String(e.storeItem.title),quantity:I.Tf.from(i.currentQuantity).toFloat(),customizations:{},imageURL:String(e.storeItem.imageUrl),specialInstructions:"",fulfillmentIssueAction:c,pricedByUnit:e.storeItem.purchaseInfo?.pricingInfo?.pricedByUnit,soldByUnit:e.storeItem.purchaseInfo?.purchaseOptions?.[0]?.soldByUnit},startingQuantity:i,analyticsRelevantData:{...o,profileSource:S},checkoutReducer:_,delegatedBooking:r,deliveryTime:n,hasDelegatedBookingDraftOrder:!1,isMulticart:a,selectedVoucher:s,sourceFeature:"add-to-cart",storeCurrencyCode:l,actionMeta:{isQuickAdd:!0,quickAddSource:e.quickAddSource},hhcOrderSize:d,eventSource:"quick_add",interactionType:u,...T?{businessDetails:{profileUUID:T?.uuid,profileType:T?.type},paymentProfileUUID:v}:null,...b&&A?{deliveryType:"MULTI_RESTAURANT_ORDERING_ADD_ON",addOnOfferContext:A}:{}});break;case"CREATING":case"AVAILABLE":case"SYNCING":await y.current.cartState.actions.editQuantityInCart({item:{type:"store",storeItemId:e.storeItem.uuid??"",storeId:e.storeId,shouldUpdateDraftOrderMetadata:m,cartItem:{uuid:e.storeItem.uuid||"",shoppingCartItemUuid:(0,_e.Z)(),storeUuid:e.storeId,sectionUuid:e.sectionUUID,subsectionUuid:e.subsectionUUID,price:Number(e.storeItem.price),title:String(e.storeItem.title),quantity:I.Tf.from(i.currentQuantity).toFloat(),customizations:{},imageURL:String(e.storeItem.imageUrl),specialInstructions:"",fulfillmentIssueAction:c,pricedByUnit:e.storeItem.purchaseInfo?.pricingInfo?.pricedByUnit,soldByUnit:e.storeItem.purchaseInfo?.purchaseOptions?.[0]?.soldByUnit},newQuantity:i},actionMeta:{isQuickAdd:!0,quickAddSource:e.quickAddSource},analyticsRelevantData:o,eventSource:"quick_add"})}e.isMultiSkuModal&&e.onQuickAddClicked&&e.onQuickAddClicked()}catch(t){U("eats:store_quick_add_error",{storeUuid:e.storeId,error:t})}}),[b,A,T]);return"LOADING"===f.cartState.status||"OUTDATED"===f.cartState.status?null:(0,h.BX)(h.HY,{children:[n?(0,h.tZ)(Pe.Z,{orderValidationError:n,onClose:()=>a(null)}):null,(0,h.tZ)(Me,{...e,itemQuantityInCart:f.itemQuantityInCart,onProductQuantityUpdated:s?k:P})]})};let Qe=function(e){return e.SMALL="small",e.MEDIUM="medium",e.LARGE="large",e}({});const Fe=e=>{const t=(0,re.l)(),{isLiveOrder:i}=(0,ve.W)(),{isGroupOrder:o,isEditOrder:r}=(0,w.Dz)(),{isDelegatedBooking:n}=(0,ce.W)();return t&&!o&&!r&&!n||i?(0,h.tZ)(qe,{actionUrl:e.actionUrl,storeId:e.storeUUID,size:e.size??Qe.LARGE,storeItem:e.item,sectionUUID:e.sectionUUID,subsectionUUID:e.subsectionUUID,catalogSectionUUID:e.catalogSectionUUID,onQuickAddClicked:e.onClickEvent,sourceType:e.sourceType,searchTerm:e.searchTerm,quickAddSource:e.quickAddSource,resultIndex:e.resultIndex,analytics:e.analytics,isMultiSkuModal:e.isMultiSkuModal,selectedVertical:e.selectedVertical,itemPosition:e.itemPosition,position:e.position}):(0,h.tZ)(oe,{...e})}},74031:(e,t,i)=>{"use strict";i.d(t,{Z:()=>l});var o=i(91931),r=i(29194),n=i(59924);const a=(0,o.zo)("div",(e=>({display:"flex",alignItems:"center",flexDirection:"row",...e.$theme.typography.LabelLarge,color:e.$theme.colors.buttonPrimaryText,background:e.$theme.colors.buttonPrimaryFill,boxSizing:"border-box",height:"36px",minWidth:"36px",minHeight:0,padding:"2px 4px",justifyContent:"center",border:`1px solid ${e.$theme.colors.buttonPrimaryText}`,borderRadius:e.$theme.borders.pillButtonBorderRadius}))),l=e=>{let{count:t}=e;const i=(0,r.gm)();return(0,n.tZ)(a,{$direction:i,children:t})}},7432:(e,t,i)=>{"use strict";i.d(t,{Z:()=>I});var o=i("__fusion__476"),r=i(56174),n=i(91931),a=i(29194),l=i(10400),s=i(59924);const d=(0,n.zo)("div",{display:"flex",position:"absolute",top:0,left:0,right:0,bottom:0,background:"rgba(0, 0, 0, 0.02)"}),u=(0,n.zo)("div",(e=>{let{$theme:t,$fullWidth:i}=e;return{display:"flex",position:"absolute",flexWrap:"wrap",overflow:"hidden",width:`calc(${i?"100%":"50%"} - ${t.sizing.scale400})`,gap:t.sizing.scale100}})),c=(0,n.w1)(u,(e=>{let{$theme:t,$direction:i}=e;return{top:t.sizing.scale300,order:"ltr"===i?1:2,left:"ltr"===i?t.sizing.scale300:"unset",right:"ltr"===i?"unset":t.sizing.scale300,alignContent:"flex-start",alignItems:"flex-start",justifyContent:"ltr"===i?"flex-start":"flex-end"}})),m=(0,n.w1)(u,(e=>{let{$theme:t,$direction:i}=e;return{top:t.sizing.scale300,order:"ltr"===i?2:1,right:"ltr"===i?t.sizing.scale300:"unset",left:"ltr"===i?"unset":t.sizing.scale300,alignContent:"flex-start",alignItems:"flex-start",justifyContent:"ltr"===i?"flex-end":"flex-start"}})),p=(0,n.w1)(u,(e=>{let{$theme:t,$direction:i}=e;return{bottom:t.sizing.scale300,flexWrap:"wrap-reverse",order:"ltr"===i?3:4,left:"ltr"===i?t.sizing.scale300:"unset",right:"ltr"===i?"unset":t.sizing.scale300,alignContent:"flex-end",alignItems:"flex-end",justifyContent:"ltr"===i?"flex-start":"flex-end"}})),g=(0,n.w1)(u,(e=>{let{$theme:t,$direction:i}=e;return{bottom:t.sizing.scale300,flexWrap:"wrap-reverse",order:"ltr"===i?4:3,right:"ltr"===i?t.sizing.scale300:"unset",left:"ltr"===i?"unset":t.sizing.scale300,alignContent:"flex-end",alignItems:"flex-end",justifyContent:"ltr"===i?"flex-end":"flex-start"}})),I=e=>{let{elements:t=[]}=e;const i=(0,a.gm)(),n=o.useMemo((()=>t.reduce(((e,t)=>(t.position&&t.element&&(e[t.position]=e[t.position]??[],e[t.position].push(t.element)),e)),{})),[t]),u=n[l.Yj.TOP_LEADING]??[],I=n[l.Yj.TOP_TRAILING]??[],f=n[l.Yj.BOTTOM_LEADING]??[],y=n[l.Yj.BOTTOM_TRAILING]??[];return(0,s.BX)(d,{children:[u.length>0?(0,s.tZ)(r.Z,{elements:u,Wrapper:e=>{let{children:t}=e;return(0,s.tZ)(c,{$fullWidth:0===I.length,$direction:i,children:t})}}):null,I.length>0?(0,s.tZ)(r.Z,{elements:I,Wrapper:e=>{let{children:t}=e;return(0,s.tZ)(m,{$fullWidth:0===u.length,$direction:i,children:t})}}):null,f.length>0?(0,s.tZ)(r.Z,{elements:f,Wrapper:e=>{let{children:t}=e;return(0,s.tZ)(p,{$fullWidth:0===y.length,$direction:i,children:t})}}):null,y.length>0?(0,s.tZ)(r.Z,{elements:y,Wrapper:e=>{let{children:t}=e;return(0,s.tZ)(g,{$fullWidth:0===f.length,$direction:i,children:t})}}):null]})}},56174:(e,t,i)=>{"use strict";i.d(t,{Z:()=>p});var o=i("__fusion__476"),r=i(91931),n=i(31913),a=i(87763),l=i(70438),s=i(73448),d=i(59924);const u=(0,r.zo)("div",(e=>{let{$theme:t}=e;return{marginTop:`-${t.sizing.scale0}`}})),c=e=>{let{element:t}=e;const i=o.useRef(Date.now());if("labelPayload"===t?.payload?.type){const e=t.payload.labelPayload,i=e.maxLines??0;return(0,d.tZ)(u,{children:(0,d.tZ)(s.Z,{condition:i>0,wrapper:e=>(0,d.tZ)(a.Z,{clamp:i,children:e}),children:(0,d.tZ)(n.ZP,{text:e.label})})})}if("tagsPayload"===t?.payload?.type){const e=t.uuid??i.current,r=t.payload.tagsPayload.tags??[];return(0,d.tZ)(d.HY,{children:r.map(((t,i)=>(0,d.tZ)(o.Fragment,{children:(0,d.tZ)(l.Z,{tag:t})},`${e}-${i}`)))})}return null},m=(0,r.zo)("div",(e=>{let{$theme:t}=e;return{display:"flex",flexDirection:"column",gap:t.sizing.scale100}})),p=e=>{let{elements:t,Wrapper:i=m}=e;const r=o.useRef(Date.now());return t&&t.length>0?(0,d.tZ)(s.Z,{condition:Boolean(i),wrapper:e=>(0,d.tZ)(i,{children:e}),children:t.map(((e,t)=>(0,d.tZ)(o.Fragment,{children:(0,d.tZ)(c,{element:e})},e.uuid??`ssite-${r.current}-${t}`)))}):null}},2403:(e,t,i)=>{"use strict";i.d(t,{P:()=>d});var o=i(74369),r=i(79013),n=i(16108),a=i(33535),l=i(37933),s=i(16797);function d(e){let{menuItem:t,quantity:i=0,storeUuid:d,catalogItem:u}=e;const{isItemPromotionApplied:c}=(0,r.E)(t,i),{itemPromotionV2:m}=t||{},p=(0,a.ZP)(),g=(0,l.Cc)(),[I,f]=(0,n.T)({root:null});return(0,o.useEffect)((()=>{f?.isIntersecting&&(c&&m?.appliedPromotion?p("eats:store_offers_promotion_applied_impression",{storeUuid:d||"",itemUuid:t?.uuid||"",promotionUuid:m?.availablePromotion?.uuid||"",quantity:i}):m?.availablePromotion&&p("eats:store_offers_promotion_available_impression",{storeUuid:d||"",itemUuid:t?.uuid||"",promotionUuid:m?.availablePromotion?.uuid||"",quantity:i}))}),[f?.isIntersecting,c,m,p,t?.uuid,d,i]),(0,o.useEffect)((()=>{f?.isIntersecting&&u?.promoInfo&&f?.isIntersecting&&p("eats:store_front_offers_impression",{storeUuid:d||"",itemUuid:u.uuid||"",promotionUuid:u.promoInfo?.promotionUUID||""})}),[u,f?.isIntersecting,p,d]),(0,o.useEffect)((()=>{if(f?.isIntersecting&&u?.itemAd){const e="ads:ads_impression",t=`${e}_${u?.itemAd?.impressionId}`;g(e,{adsAnalyticsEvent:{adEventType:s.J.IMPRESSION,adImpressionUUID:u?.itemAd?.impressionId||"",adData:u?.itemAd?.adData||""}},t)}}),[u,f?.isIntersecting,g]),{promotionComponentRef:I}}},79013:(e,t,i)=>{"use strict";i.d(t,{E:()=>r});var o=i(3289);function r(e,t){const i={isItemPromotionApplied:!1};if(!e?.itemPromotionV2?.promotionData)return i;const{itemPromotionV2:r}=e||{},{promotionData:n}=r||{};if(!n?.type)return i;switch(n.type){case o._k.buyXGetYItemPromotion:{const{buyQuantity:e,getQuantity:i}=n||{};if(!isNaN(e)&&!isNaN(i)&&t>=e+i)return{isItemPromotionApplied:!0};break}case o._k.volumeDiscountPromotion:{const{buyQuantity:e}=n||{};if(!isNaN(e)&&t>=e)return{isItemPromotionApplied:!0};break}default:return i}return i}},72439:(e,t,i)=>{"use strict";i.d(t,{g:()=>m});var o=i("__fusion__476"),r=i(44997),n=i(6264),a=i(14016),l=i("__fusion__684"),s=i("__fusion__1029"),d=i("__fusion__569"),u=i(20196),c=i(83059);function m(e){const{isLiveOrder:t,liveOrderUuid:i}=(0,r.W)(),m=(0,n.W)({getCartFrom:"workflowId",workflowId:i}),p=(0,a.T)(),{enqueue:g}=(0,u.Ds)(),I=["FOUND","IN_REVIEW","REPLACED","REFUNDED"],f=o.useCallback(((e,t)=>{const i={IN_REVIEW:{message:p("live_order.item.in_review",{item:t}),icon:d.default},REPLACED:{message:p("live_order.item.replaced",{item:t}),icon:d.default},FOUND:{message:p("live_order.item.found",{item:t}),icon:l.default},REFUNDED:{message:p("live_order.item.refunded",{item:t}),icon:s.default}}[e];g({message:i.message,startEnhancer:()=>o.createElement(i.icon,{size:"24"})},c.t.short)}),[g,p]);if(!t||"SYNCING"!==m.status&&"AVAILABLE"!==m.status)return{isLiveOrder:t,consumerItemFulfillmentViewType:void 0,isFulfilled:!1,showBlockedItemSnackbar:null};const y=(m?.rawCartData?.liveOrder?.cart?.shoppingCart?.items||[]).find((t=>t.skuUUID===e))?.fulfillmentContext?.consumerItemFulfillmentViewType;return{isLiveOrder:!0,consumerItemFulfillmentViewType:y,isFulfilled:(e=>!!I.includes(e??""))(y),showBlockedItemSnackbar:f}}},55365:(e,t,i)=>{"use strict";i.d(t,{Z:()=>a});var o=i("__fusion__476"),r=i(16108),n=i(43832);function a(e){const{queueCatalogItemImpression:t,isGrStore:i}=(0,n.QT)(),a=o.useRef(!1),[l,s]=(0,r.T)({root:null,threshold:0}),d=o.useRef(l?.current?.getBoundingClientRect());return o.useEffect((()=>{if(l?.current&&!d.current&&(d.current=l.current.getBoundingClientRect()),s&&s.isIntersecting&&!a.current){const o=s.boundingClientRect,r=((e,t)=>Math.abs(t.top-(e?.top||0))<Math.abs(t.left-(e?.left||0))?"HORIZONTAL":"VERTICAL")(d.current,o);t({...e.storeCatalog,scrollDirection:r,...e.storeCatalog.verticalLabel?{}:{verticalLabel:i?"GROCERY":"RESTAURANT"}}),a.current=!0}return()=>{a.current=!1}}),[s,e,t,l,i]),l}},13427:(e,t,i)=>{"use strict";i.d(t,{Z:()=>n});var o=i(60849),r=i(41063);const n=()=>(0,o.ip)({...r.v.store_quick_add_enhancement,defaultValue:!1})},91463:(e,t,i)=>{"use strict";i.d(t,{N:()=>o});const o=Object.freeze({PDP:"pdp",ITEM_LEVEL:"item_level"})},473:(e,t,i)=>{e.exports=i.p+"ffcca10441d6cec9.png"}}]);