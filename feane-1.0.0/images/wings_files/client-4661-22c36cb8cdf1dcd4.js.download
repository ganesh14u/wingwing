"use strict";(self.webpackChunkFusion=self.webpackChunkFusion||[]).push([[4661],{35397:(e,t,i)=>{i.d(t,{Z:()=>E});var n=i(79810);const r=(0,n.zo)("div",(e=>{let{$theme:t}=e;return{boxSizing:"border-box",display:"flex",flexDirection:"column",gap:t.sizing.scale300,width:"100%",paddingTop:t.sizing.scale600,paddingBottom:t.sizing.scale600,backgroundColor:t.colors.backgroundPrimary,container:"root / inline-size"}}));r.displayName="StyledRoot";const a=(0,n.zo)("div",(e=>{let{$theme:t}=e;return{paddingRight:t.sizing.scale600,paddingLeft:t.sizing.scale600,"@container root (inline-size > 600px)":{paddingRight:t.sizing.scale800,paddingLeft:t.sizing.scale800}}}));a.displayName="StyledTopAccessoryContainer";const o=(0,n.zo)("div",(e=>{let{$theme:t}=e;return{display:"flex",flexDirection:"column",gap:t.sizing.scale300,paddingRight:t.sizing.scale600,paddingLeft:t.sizing.scale600,"@container root (inline-size > 600px)":{flexDirection:"row",justifyContent:"space-between",paddingRight:t.sizing.scale800,paddingLeft:t.sizing.scale800}}}));o.displayName="StyledActionContainer";const s=(0,n.zo)("div",(e=>{let{$reverseWhenWide:t,$theme:i}=e;return{display:"flex",flexDirection:"column",gap:i.sizing.scale300,"@container root (inline-size > 600px)":{flexDirection:t?"row-reverse":"row"}}}));s.displayName="StyledActionSubContainer";var d=i(92300),l=i(59924);const E=e=>{const{primaryAction:t,secondaryActions:i,dismissiveAction:n,topAccessory:E,overrides:c={}}=e,[u,_]=(0,d.jb)(c.Root,r),[O,R]=(0,d.jb)(c.TopAccessoryContainer,a),[S,I]=(0,d.jb)(c.ActionContainer,o),[p,T]=(0,d.jb)(c.ActionSubContainer,s);return(0,l.BX)(u,{..._,children:[E&&(0,l.tZ)(O,{...R,children:E}),(0,l.BX)(S,{...I,children:[(0,l.tZ)(p,{...T,children:i}),(0,l.BX)(p,{$reverseWhenWide:!0,...T,children:[t,n]})]})]})}},94722:(e,t,i)=>{i.d(t,{Us:()=>n});Object.freeze({NONE:"NONE",PILL:"PILL"}),Object.freeze({PLAIN:"PLAIN",BANNER:"BANNER"});const n=Object.freeze({UNKNOWN:"UNKNOWN",BOTTOM_SHEET:"BOTTOM_SHEET",COMPLETE_ORDER:"COMPLETE_ORDER",CALL_PHONE:"CALL_PHONE",REQUEST_ORDER_UPDATE:"REQUEST_ORDER_UPDATE",NAVIGATE_TO_STORE:"NAVIGATE_TO_STORE",TIP:"TIP",OPEN_MULTI_RESTAURANT_DRAWER:"OPEN_MULTI_RESTAURANT_DRAWER",MEMBERSHIP:"MEMBERSHIP",SHOW_ORDER_DETAILS:"SHOW_ORDER_DETAILS",ORDER_NOT_YET_READY:"ORDER_NOT_YET_READY",RIDE_TO_STORE:"RIDE_TO_STORE",AUTONOMOUS_DELIVERY_UNLOCK_VEHICLE:"AUTONOMOUS_DELIVERY_UNLOCK_VEHICLE",AUTONOMOUS_DELIVERY_FIND_VEHICLE:"AUTONOMOUS_DELIVERY_FIND_VEHICLE",AUTONOMOUS_DELIVERY_CALL_OPERATOR:"AUTONOMOUS_DELIVERY_CALL_OPERATOR",AUTONOMOUS_DELIVERY_CONTACT_SUPPORT:"AUTONOMOUS_DELIVERY_CONTACT_SUPPORT",UPDATE_DELIVERY_INSTRUCTIONS:"UPDATE_DELIVERY_INSTRUCTIONS",BOOK_UBER_RIDE:"BOOK_UBER_RIDE",UPDATE_DELIVERY_ADDRESS:"UPDATE_DELIVERY_ADDRESS",UPDATE_INTERACTION_TYPE:"UPDATE_INTERACTION_TYPE",AUTONOMOUS_DELIVERY_RECEIVE_ORDER:"AUTONOMOUS_DELIVERY_RECEIVE_ORDER",AUTONOMOUS_DELIVERY_RECEIVE_ORDER_CONFIRM:"AUTONOMOUS_DELIVERY_RECEIVE_ORDER_CONFIRM",AUTONOMOUS_DELIVERY_RECEIVE_ORDER_DISMISS:"AUTONOMOUS_DELIVERY_RECEIVE_ORDER_DISMISS",SCHEDULE_ORDER:"SCHEDULE_ORDER",VIEW_STORE:"VIEW_STORE",UPDATE_COMPLIANCE_CONSENTS:"UPDATE_COMPLIANCE_CONSENTS",AUTONOMOUS_DELIVERY_HONK_HORN:"AUTONOMOUS_DELIVERY_HONK_HORN",PICKUP_ORDER:"PICKUP_ORDER",NAVIGATE_TO_FEED:"NAVIGATE_TO_FEED"});Object.freeze({TOP_CENTERED:"TOP_CENTERED",FULL_WIDTH:"FULL_WIDTH",FULL_HEIGHT:"FULL_HEIGHT"}),Object.freeze({UNKNOWN:"UNKNOWN",PRIMARY_STORE:"PRIMARY_STORE",ADD_ON_STORE:"ADD_ON_STORE"}),Object.freeze({UNKNOWN:"UNKNOWN",COPY:"COPY"}),Object.freeze({DYNAMIC_BOOKING_FEE:"DYNAMIC_BOOKING_FEE",BUSY_AREA_FEE:"BUSY_AREA_FEE",MEAL_VOUCHER:"MEAL_VOUCHER",ORDER_HISTORY:"ORDER_HISTORY",BANDWAGON:"BANDWAGON",ALLERGEN_DISCLAIMER:"ALLERGEN_DISCLAIMER",AGGREGATOR_STOREFRONT:"AGGREGATOR_STOREFRONT",UNKNOWN:"UNKNOWN",OTHER_FEES:"OTHER_FEES",SERVICE_FEES:"SERVICE_FEES",FEE_DISCLAIMER:"FEE_DISCLAIMER",BASKET_SIZE:"BASKET_SIZE",RESERVED_12:"RESERVED_12",RESERVED_13:"RESERVED_13",RESERVED_14:"RESERVED_14",RESERVED_15:"RESERVED_15",RESERVED_16:"RESERVED_16",RESERVED_17:"RESERVED_17"}),Object.freeze({DEFAULT:"DEFAULT",COLLAPSED:"COLLAPSED",REQUIRED_SINGLE_OPTION:"REQUIRED_SINGLE_OPTION",RESERVED_3:"RESERVED_3",RESERVED_4:"RESERVED_4",RESERVED_5:"RESERVED_5",RESERVED_6:"RESERVED_6"}),Object.freeze({ANY_STORE:"ANY_STORE",IS_BASKET_FROM_SAME_STORE:"IS_BASKET_FROM_SAME_STORE",IS_BASKET_NOT_FROM_SAME_STORE:"IS_BASKET_NOT_FROM_SAME_STORE",RESERVED_3:"RESERVED_3",RESERVED_4:"RESERVED_4",RESERVED_5:"RESERVED_5",RESERVED_6:"RESERVED_6"}),Object.freeze({UNKNOWN:"UNKNOWN",BYOC:"BYOC",TOP_EATS:"TOP_EATS",TOP_EATS_PROMISE:"TOP_EATS_PROMISE",EATS_PROMISE:"EATS_PROMISE"}),Object.freeze({UNKNOWN:"UNKNOWN",BYOC:"BYOC",TOP_EATS:"TOP_EATS",IN_STORE_PRICING:"IN_STORE_PRICING"}),Object.freeze({NONE:"NONE",LINE:"LINE",SPACE:"SPACE"}),Object.freeze({UNKNOWN:"UNKNOWN",NO_RUSH_DELIVERY:"NO_RUSH_DELIVERY",STANDARD_DELIVERY:"STANDARD_DELIVERY",PREMIUM_DELIVERY:"PREMIUM_DELIVERY",ETD_SURGE_DELIVERY:"ETD_SURGE_DELIVERY",OPT_IN_TYPE_RESERVED_5:"OPT_IN_TYPE_RESERVED_5",OPT_IN_TYPE_RESERVED_6:"OPT_IN_TYPE_RESERVED_6",OPT_IN_TYPE_RESERVED_7:"OPT_IN_TYPE_RESERVED_7"})},4661:(e,t,i)=>{i.d(t,{P:()=>U,Z:()=>C});var n=i(92300),r=i(52298),a=i(192),o=i(34567),s=i(22787),d=i(39010),l=i(36925),E=i(89400),c=i(52692),u=i(91931),_=i(62091),O=i(58679),R=i(35397),S=i(94292),I=i(31913),p=i(69845),T=i(59924);const m=(0,u.zo)("div",(e=>{let{$theme:t,$padding:i}=e;return{...i?.paddingTop?{paddingTop:i.paddingTop}:{},...i?.paddingBottom?{paddingBottom:i.paddingBottom}:{},...i?.paddingStart?{paddingInlineStart:i.paddingStart}:{},...i?.paddingEnd?{paddingInlineEnd:i.paddingEnd}:{},...i?{}:{padding:t.sizing.scale600}}})),g=(0,u.zo)("div",(e=>{let{$theme:t,$hasCenteredTitle:i=!0}=e;return{...t.typography.HeadingXSmall,color:t.colors.contentPrimary,textAlign:i?"center":"left"}})),h=(0,u.zo)("div",(e=>{let{$theme:t}=e;return{...t.typography.ParagraphMedium,color:t.colors.contentTertiary,textAlign:"center"}})),D=(0,u.zo)("div",(e=>{let{$theme:t}=e;return{...t.typography.ParagraphSmall,color:t.colors.contentPrimary}})),N=(0,u.zo)(_.Z,{objectFit:"cover",height:"200px",width:"100%"}),A=e=>e?e.toLowerCase().replace(/[^\w\s]/g,"").replace(/\s+/g,"_"):"";function C(e){let{bottomSheet:t,onClose:i}=e;const n=A(t?.title);return(0,T.tZ)(l.ZP,{handleClick:i,sceneId:n,children:(0,T.BX)(m,{children:[t.title?(0,T.tZ)(g,{children:t.title}):null,(0,T.tZ)(c.Z,{$margin:"16px -16px 0",$height:"2px"}),t.body?(0,T.BX)(D,{children:[(0,T.tZ)(r.ZP,{$height:16}),(0,T.tZ)(a.Z,{lines:t.body})]}):null,(0,T.tZ)(d.U,{paragraphs:t.paragraphs}),t.buttonText||t.secondaryButton?(0,T.tZ)(r.ZP,{$height:16}):null,t.buttonText?(0,T.BX)(T.HY,{children:[(0,T.tZ)(r.ZP,{$height:8}),(0,T.tZ)(o.Z,{onClick:i,children:t.buttonText})]}):null,t.secondaryButton?(0,T.BX)(T.HY,{children:[(0,T.tZ)(r.ZP,{$height:8}),(0,T.tZ)(s.Z,{$as:"a",href:t.secondaryButton.url,target:"_blank",children:t.secondaryButton.text})]}):null]})})}function U(e){let{metadata:t,bottomSheet:i,description:a,onClose:o,isOpen:s=!0,__invertIconColorOnDarkMode:l,closable:u=!0,overrides:_,children:C=null,secondaryButtonVerticalSpacer:U=16,__wrapperPadding:P}=e;const{primaryButton:L,secondaryButton:y}=(0,S.Z)({metadata:t,bottomSheet:i,onClose:o}),[f,V]=(0,n.jb)(_?.Body,D),Z=()=>i?.title?.text?(0,T.tZ)(T.HY,{children:i.title.text}):i?.title?.richtext?(0,T.tZ)(I.ZP,{text:i?.title?.richtext}):null,v=A(i?.title?.text);return(0,T.tZ)(O.R1,{onClose:o,isOpen:s,closeable:u,children:(0,T.BX)(p.x,{meta:{sheet_id:v},children:[i.heroImgUrl?(0,T.tZ)(N,{src:i.heroImgUrl}):null,(0,T.BX)(m,{$padding:P,children:[i.title?(0,T.tZ)(g,{$hasCenteredTitle:!i.heroImgUrl,children:(0,T.tZ)(Z,{})}):null,a?(0,T.tZ)(h,{children:a}):null,i.heroImgUrl?null:(0,T.tZ)(c.Z,{$margin:"16px -16px 0",$height:"2px"}),i.body?(0,T.BX)(f,{...V,children:[(0,T.tZ)(r.ZP,{$height:16}),(0,T.tZ)(E.Z,{badge:i.body})]}):C,i.paragraphs?(0,T.tZ)(d.U,{paragraphs:i.paragraphs,__invertIconColorOnDarkMode:l}):null,y&&U>0?(0,T.tZ)(r.ZP,{$height:U}):null]}),(0,T.tZ)(R.Z,{primaryAction:L,dismissiveAction:y})]})})}},39010:(e,t,i)=>{i.d(t,{U:()=>p});var n=i(91931),r=i(62091),a=i(52909),o=i(86575),s=i(59924);const d=(0,n.zo)("li",(e=>{let{$theme:t}=e;return{display:"flex",alignItems:"center",width:"100%",marginBottom:t.sizing.scale600}})),l=(0,n.zo)("div",(e=>{let{$theme:t}=e;return{paddingTop:t.sizing.scale700,paddingRight:t.sizing.scale700,paddingBottom:t.sizing.scale700}})),E=(0,n.zo)(r.Z,(e=>{let{$theme:t,$invertColor:i}=e;return{width:t.sizing.scale800,minWidth:t.sizing.scale800,height:"auto",minHeight:t.sizing.scale800,...i?{filter:"invert(100%)"}:{}}})),c=(0,n.zo)("div",{width:"100%"}),u=(0,n.zo)("div",(e=>({...e.$isBold?e.$theme.typography.LabelMedium:e.$theme.typography.ParagraphMedium,display:"flex",justifyContent:"space-between",alignItems:"center"}))),_=(0,n.zo)("div",(e=>{let{$theme:t}=e;return{display:"flex",flexDirection:"row",alignItems:"center",marginBottom:t.sizing.scale100,marginRight:t.sizing.scale300,marginLeft:t.sizing.scale300}})),O=(0,n.zo)("p",(e=>{let{$theme:t}=e;return{...t.typography.ParagraphSmall,color:t.colors.contentPrimary}})),R=(0,n.zo)("p",(e=>{let{$theme:t}=e;return{...t.typography.LabelMedium,marginBottom:t.sizing.scale100}})),S=(0,n.zo)("ul",(e=>{let{$theme:t}=e;return{marginTop:t.sizing.scale600}}));function I(e){return(0,s.BX)(_,{children:[e.endTitleIconUrl?(0,s.tZ)(r.Z,{src:e.endTitleIconUrl,width:"16",height:"16"}):null,e.endTitle]})}const p=e=>{const t=(0,a.e5)(),i=i=>i.leadingIcon?(0,s.tZ)(l,{children:(0,s.tZ)(o.x,{styledIcon:i.leadingIcon})}):i.iconUrl?(0,s.tZ)(l,{children:(0,s.tZ)(E,{src:i.iconUrl,$invertColor:Boolean(e.__invertIconColorOnDarkMode&&t)})}):null;return(0,s.tZ)(S,{children:e.paragraphs?e.paragraphs.map((e=>(0,s.BX)(d,{children:[i(e),(0,s.BX)(c,{children:[(0,s.BX)(u,{$isBold:e.isTitleBold||!1,children:[(0,s.tZ)(R,{children:e.title}),e.endTitle?(0,s.tZ)(I,{endTitle:e.endTitle,endTitleIconUrl:e.endTitleIconUrl}):null]}),(0,s.tZ)(O,{children:e.subtitle})]})]},e.title))):null})}},94292:(e,t,i)=>{i.d(t,{Z:()=>D});var n=i(32857),r=i(68065),a=i("__fusion__476"),o=i(94722);const s=(e,t)=>t[e||o.Us.UNKNOWN];var d=i(53308),l=i(89151),E=i(62459);var c=i(33535),u=i(34626),_=i(80886),O=i(31139),R=i(43832),S=i(49398),I=function(e){return e[e.COMPLIANT=1]="COMPLIANT",e[e.DEFERRED=2]="DEFERRED",e[e.NONCOMPLIANT=0]="NONCOMPLIANT",e}(I||{});function p(e){let{metadata:t}=e;const i=function(e){const t=(0,E.Z)("updateComplianceV1");return(0,l.useMutation)((e=>t.request("updateComplianceV1",e)),e)}(),n=t?.DisclosureVersionUUID||"",r=I.COMPLIANT,{store:a}=(0,R.QT)(),o=(0,c.ZP)(),{store:s}=(0,O.e3)(),p=(0,d.I0)(),T=Array.isArray(a)?a[0].data:a.data,m=Array.isArray(s)?s[0].data:s.data,{user:g}=(0,u.Z)(),h=g.data?.isLoggedIn;return h?async()=>{o("eats:age_gate_user_has_a_valid_age"),p((0,_.C5)({isOpen:!1})),n&&await i.mutateAsync({compliance:r,disclosureVersionUuid:n})}:()=>{o("eats:age_gate_user_has_a_valid_age"),(0,S.bs)(T||m),p((0,_.C5)({isOpen:!1}))}}var T=i(69744),m=i(50732);var g=i(59924),h=function(e){return e.SUCCESS="success",e.ERROR="error",e.LOADING="loading",e.IDLE="idle",e}(h||{});function D(e){let{metadata:t,bottomSheet:i,onClose:d}=e;const l=function(e){let{metadata:t}=e;const i=p({metadata:t}),{scheduleOrderAction:n,viewStoreAction:r}=(0,m.Z)({storeUuid:t?.storeUuid||"",storeSlug:t?.storeSlug||""});return{[o.Us.UPDATE_COMPLIANCE_CONSENTS]:i,[o.Us.SCHEDULE_ORDER]:n,[o.Us.VIEW_STORE]:r,[o.Us.BOTTOM_SHEET]:T.Z,[o.Us.UNKNOWN]:T.Z}}({metadata:t}),[E,c]=a.useState(h.IDLE),u=E===h.LOADING,_=i.secondaryButtonText?(0,g.tZ)(n.Z,{kind:r.TO.tertiary,size:r.NO.large,onClick:async()=>{const e=s(i.secondaryActionType,l);e&&await e(),d()},disabled:u,children:i.secondaryButtonText}):null,O=i.url?(0,g.tZ)(n.Z,{kind:r.TO.tertiary,size:r.NO.large,$as:"a",href:i.url,target:"_blank",disabled:u,children:i.secondaryButtonText}):_;return{primaryButton:i.buttonText?(0,g.tZ)(n.Z,{size:r.NO.large,onClick:async()=>{const e=s(i.primaryActionType,l);if(e)try{c(h.LOADING),await e(),c(h.SUCCESS),d()}catch(e){d()}},isLoading:u,disabled:u,children:i.buttonText}):null,secondaryButton:O}}},49398:(e,t,i)=>{i.d(t,{bs:()=>a,m4:()=>o});var n=i(61127),r=i(68799);const a=e=>{const t=(0,r.Z7)("uev2.age-gating.dateOfConsent"),i=e?.cityId,a=e.storeMerchantTypeInfo?.uberMerchantType?.type,o=`${i}|${a}`;(0,n.Z)(t)?(0,r.pc)("uev2.age-gating.dateOfConsent",{[o]:Date.now()}):(t[o]=Date.now(),(0,r.pc)("uev2.age-gating.dateOfConsent",t))},o=e=>{const t=(e=>{const t=(0,r.Z7)("uev2.age-gating.dateOfConsent");if((0,n.Z)(t))return null;const i=e?.cityId,a=e.storeMerchantTypeInfo?.uberMerchantType?.type;return t[`${i}|${a}`]||null})(e);if(!t)return!0;const i=new Date(t).getTime();return(new Date).getTime()-i>2592e6}},31139:(e,t,i)=>{i.d(t,{ZP:()=>C,e3:()=>A});var n=i(74369),r=i(69420),a=i(47986),o=i(69744),s=i(54510),d=i(46668),l=i(76594),E=i(44606),c=i(62155),u=i("__fusion__476"),_=i(87444);const O=e=>{const t=(0,_.Z)("item_variants"),{menuItem:i}=e,[n,r]=u.useState(e),a=n.menuItem.data||i.data,o=null!==(0,c.Ju)(a?.productDetailsItems??[]);t&&i.hasLoaded&&i.data?.uuid!==n.menuItem.data?.uuid&&o&&r(e);const s=!i.hasLoaded&&n?.menuItem.hasLoaded&&o;return t?{hasVariantOptions:o,isSwitchingVariantOptions:s,values:s?n:e}:{hasVariantOptions:!1,isSwitchingVariantOptions:!1,values:e}};var R=i(54669),S=i(94813),I=i(60849),p=i(41063),T=i(33967),m=i(59924);const g={...d.E},h={...d.E},D={isCanonicalProduct:!1,isSwitchingStores:!1,isSwitchingVariantOptions:!1,canonicalItemStoreUuid:null,setCanonicalItemStoreUuid:o.Z,isUnavailableNearby:!1,productUuid:null,menuItem:g,hasVariantOptions:!1,quantity:1,partialMenuItem:null,store:h,updateQuantity:(e,t)=>{},specialInstructions:"",updateSpecialInstructions:e=>{},updateCustomizations:e=>{},selectedCustomizations:{},hasErrors:!1,isOnSale:!0,totalPrice:0,discountedPrice:0,addToCart:e=>{let{isStartingNewOrder:t,eventSource:i}=e},isDeliveryLocationSet:!0,setDeliveryLocation:e=>{},firstIncompleteGroup:"",incompleteSubmissionState:"",setIncompleteSubmissionState:e=>{},outOfItemAction:null,updateOutOfItemAction:e=>{},updateUpsellItemQuantity:(e,t)=>{},itemsUpsell:l.E,spendingLimitError:null,canEditGroupOrderCart:!1,showClosedRestaurantUX:!1,storeUnavailableMessage:"",backupProduct:null,updateBackupProduct:e=>{},decimalQuantity:E.Tf.from(1).toBaseDecimal(),didAddItem:!1,isDraftOrderParticipantForStore:!1,itemParams:void 0,selectedSavedCustomizationIndex:-1,setSelectedSavedCustomizationIndex:e=>{},numClicks:0,editItemParams:null,updateItemQuantity:()=>{},canDeferSaveWithQualifyingProduct:!1,itemsAwaitingCart:{},addToAwaitingCart:(e,t)=>{},adjustAwaitingCartItemQuantity:(e,t,i)=>{},setItemsAwaitingCart:e=>{}},N=n.createContext(D);function A(){const e=n.useContext(N);if(null!==e)return e;throw Error("You should use useProductDetailsContext only in a descendant of ProductDetailsProvider")}const C=function(e){let{children:t,navigateBackOnItemAdd:i=!1,itemParams:o,editItemParams:d,shoppingCartItemUuid:l,isEditItemFlow:E=!1}=e;const u=(0,R.Z)(),[g,h]=n.useState(null),[D,A]=n.useState(null),C=(0,r.UO)(),{productUuid:U}=(0,a.hNc)(C),P=(0,S.TH)(),L=(0,I.ip)({...p.v.eats_web_store_shopping_list,defaultValue:!1}),{entryPoint:y}=(0,a.RAN)(P,["entryPoint"]),f=Boolean(U),V=n.useRef(0),Z=n.useCallback((()=>{V.current=V.current+1}),[]),v=(0,s.Z)({shouldNavigateBackToStoreOnItemAdd:L&&"shoppingList"===y||i,canonicalItemStoreUuid:g,productUuid:U,itemParams:o,editItemParams:d,isEditItemFlow:E,preparedId:"store-product-details-provider"}),b=(0,_.Z)("pdp_click_tracking_enabled");n.useEffect((()=>(b&&document.addEventListener("mousedown",Z),()=>{b&&document.removeEventListener("mousedown",Z)})),[b,Z]);const{hasVariantOptions:M,isSwitchingVariantOptions:z,values:{partialMenuItem:B,store:Y,menuItem:w,quantity:x,updateQuantity:F,specialInstructions:H,updateSpecialInstructions:$,updateCustomizations:k,selectedCustomizations:G,hasErrors:W,isOnSale:K,totalPrice:j,discountedPrice:Q,addToCart:X,isDeliveryLocationSet:q,setDeliveryLocation:J,firstIncompleteGroup:ee,incompleteSubmissionState:te,setIncompleteSubmissionState:ie,outOfItemAction:ne,updateOutOfItemAction:re,updateUpsellItemQuantity:ae,itemsUpsell:oe,spendingLimitError:se,canEditGroupOrderCart:de,showClosedRestaurantUX:le,storeUnavailableMessage:Ee,backupProduct:ce,updateBackupProduct:ue,decimalQuantity:_e,didAddItem:Oe,isDraftOrderParticipantForStore:Re,selectedSavedCustomizationIndex:Se,setSelectedSavedCustomizationIndex:Ie,canDeferSaveWithQualifyingProduct:pe,addToAwaitingCart:Te,adjustAwaitingCartItemQuantity:me,itemsAwaitingCart:ge,setItemsAwaitingCart:he}}=O(v);if(n.useEffect((()=>{f&&h(null)}),[f,U]),f&&w.hasLoaded&&w.data){const e=(0,c.vu)(w.data.productDetailsItems);g&&!e&&h(null);const t=e?.defaultSelectedStoreUuid;D!==u&&t!==g&&(h(t),A(u)),g||!t||z||h(t)}const De=f&&q&&!g&&!z,Ne=(0,T.Z)(!1,!0,!0),Ae=n.useCallback((()=>{l&&Ne(l,x)}),[l,x,Ne]);return(0,m.tZ)(N.Provider,{value:{isCanonicalProduct:f,isSwitchingStores:!Y.hasLoaded,canonicalItemStoreUuid:g,setCanonicalItemStoreUuid:h,isSwitchingVariantOptions:z,isUnavailableNearby:De,productUuid:U,menuItem:w,hasVariantOptions:M,quantity:x,partialMenuItem:B,store:Y,updateQuantity:F,specialInstructions:H,updateSpecialInstructions:$,updateCustomizations:k,selectedCustomizations:G,hasErrors:W,isOnSale:K,totalPrice:j,discountedPrice:Q,addToCart:X,isDeliveryLocationSet:q,setDeliveryLocation:J,firstIncompleteGroup:ee,incompleteSubmissionState:te,setIncompleteSubmissionState:ie,outOfItemAction:ne,updateOutOfItemAction:re,updateUpsellItemQuantity:ae,itemsUpsell:oe,spendingLimitError:se,canEditGroupOrderCart:de,showClosedRestaurantUX:le,storeUnavailableMessage:Ee,backupProduct:ce,updateBackupProduct:ue,decimalQuantity:_e,didAddItem:Oe,isDraftOrderParticipantForStore:Re,itemParams:o,selectedSavedCustomizationIndex:Se,setSelectedSavedCustomizationIndex:Ie,numClicks:V.current,editItemParams:d,updateItemQuantity:Ae,canDeferSaveWithQualifyingProduct:pe,itemsAwaitingCart:ge,addToAwaitingCart:Te,adjustAwaitingCartItemQuantity:me,setItemsAwaitingCart:he},children:t})}},14583:(e,t,i)=>{i.d(t,{Z:()=>D});var n=i(74369),r=i("__fusion__476"),a=i(71051),o=i(69420),s=i(94813),d=i(67318),l=i(34274),E=i(28222),c=i(54669),u=i(12013),_=i(69694),O=i(89151),R=i(2237),S=i(62459);var I=i(55758),p=i(17615),T=i(74057);var m=i(87954),g=i(47885),h=i(37350);function D(e,t){const i=(0,o.k6)(),D=(0,s.TH)(),N=(0,E.Z)(),A=(0,l.Z)({storeUuid:e.uuid}),C=(0,c.Z)(),U=Boolean((0,u.Z)()),{draftOrderInStoreHasLoaded:P,isGroupOrderParticipant:L,isGroupOrder:y,isScheduledOrder:f,draftOrder:V}=(0,_.Z)(e.uuid),Z=(0,I.d)(),v=(e=>{const t=c.Z;return Boolean(e?.parentChain&&!e.isOpen&&t)})(e),b=(0,T.Z)(e.uuid),{isStorePrecheckoutBundlingEnabled:M}=(0,g.Z)(),z=(0,n.useContext)(a.k7),B=(0,n.useCallback)((e=>{z.set("targetScheduledStoreUuid",e)}),[z]),Y=String(z.get("targetScheduledStoreUuid")??""),w=(0,h.Z)(),x="closed-store-modal"===t?.entryPoint,F=r.useRef(b?.viewingClosedStoreMenu);F.current=!x&&b?.viewingClosedStoreMenu;const H=r.useRef(D);H.current=D;const{handledHighCapacityOrderIntent:$}=(0,m.Z)(),k=function(e,t){const i=(0,S.Z)("getClosestChainStoreFeedV1"),n=(0,R.H)("getClosestChainStoreFeedV1",e);return(0,O.useQuery)({queryKey:n,queryFn:e=>{let{queryKey:t}=e;return i.request("getClosestChainStoreFeedV1",t[1])},...t?.queryObserverOptions})}({chainParentUuid:e?.parentChain?.uuid||"",storeUuid:e?.uuid||"",diningMode:Z},{queryObserverOptions:{enabled:v}}),[G,W]=r.useState(!1),K=!k.isLoading&&!k.data&&U&&!N&&!A&&C&&(!w||!Y),j=e?.hhcoConfig?.hhcoDeliveryHoursInfos||null;return{surfaceStoreTimepicker:r.useCallback((()=>{if(!P)return;if(M&&V?.bundleGroupInfo)return;const n=t?.replaceLocation?i.replace:i.push,r=(0,p.jT)($?.hhcOrderSize);if(!G)if(r&&j){if(!(0,p.rA)(b?.deliveryTime,j))return B(e.uuid),n((0,p.JH)(H.current,{storeUuid:e.uuid})),void W(!0);W(!1)}else e.orderForLaterInfo.autoSurfaceBottomSheet&&e.orderForLaterInfo.determinedFromBackend&&!F.current&&K&&P&&!(L||y&&f)&&(B(e.uuid),n((0,d.X)(H.current,{storeUuid:e.uuid,entryPoint:t?.entryPoint??"store-auto-surface"})),W(!0));e.orderForLaterInfo||W(!1)}),[P,M,V?.bundleGroupInfo,t?.replaceLocation,t?.entryPoint,i.replace,i.push,$?.hhcOrderSize,G,e.orderForLaterInfo,e.uuid,j,K,L,y,f,b?.deliveryTime,B])}}},50732:(e,t,i)=>{i.d(t,{Z:()=>l});var n=i(74369),r=i(69420),a=i(47986),o=i(94813),s=i(14583),d=i(64388);const l=e=>{let{storeUuid:t,storeSlug:i}=e;return{scheduleOrderAction:(e=>{let{storeUuid:t}=e;const{store:i}=(0,d.ZP)(t),{surfaceStoreTimepicker:r}=(0,s.Z)(i.data||{},{replaceLocation:!0,entryPoint:"closed-store-modal"});return(0,n.useCallback)((()=>{i.data&&r()}),[i.data,r])})({storeUuid:t}),viewStoreAction:(e=>{let{storeUuid:t,storeSlug:i}=e;const s=(0,r.k6)(),d=(0,o.TH)(),l=t&&i?(0,a.gfM)(d,{storeUuid:t,storeSlug:i,persistentQueryParams:a.uw0}):null;return(0,n.useCallback)((async()=>{l&&s.replace(l)}),[s,l])})({storeUuid:t,storeSlug:i})}}},37350:(e,t,i)=>{i.d(t,{Z:()=>a});var n=i(60849),r=i(41063);const a=()=>(0,n.ip)({...r.v.store_scheduled_order_navigation_enhancements_enabled,defaultValue:!1})}}]);