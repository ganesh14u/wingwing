"use strict";(self.webpackChunkFusion=self.webpackChunkFusion||[]).push([[83070],{41100:(e,t,r)=>{r.d(t,{Z:()=>u});var o=r(69420),n=r(27689),i=r(11652),s=r(94813),l=r(83960),a=r(47986),c=r(59924);const u=e=>{let{fill:t}=e;const{draftOrderUuid:r,isEditOrder:u}=(0,l.Z)(),d=(0,s.TH)(),h=(0,o.k6)();if(!u)return null;const f=(0,a.vN_)(d,"editScheduledOrderDiscardDialog",r);return(0,c.tZ)(n.Z,{fill:t,onClick:e=>{e.preventDefault(),e.stopPropagation(),h.push(f)},children:(0,c.tZ)(i.Z,{size:16})})}},70118:(e,t,r)=>{r.d(t,{CH:()=>i,Eq:()=>g,F1:()=>u,G_:()=>s,Gl:()=>a,Pw:()=>n,QP:()=>C,RX:()=>h,TZ:()=>_,UD:()=>o,UE:()=>b,WC:()=>k,Y:()=>Z,_Z:()=>E,bR:()=>v,cz:()=>d,ku:()=>p,lo:()=>S,o4:()=>f,sJ:()=>c,tw:()=>R,w2:()=>l,zj:()=>m});const o="STORE_CONTENT",n="STORE_INFO",i="STORE_OVERFLOW_ACTIONS",s="FAVORITE",l="FAVORITED",a="UNFAVORITED",c="GROUP_ORDER",u="SCHEDULE_ORDER",d="VIEW_STORE_INFO",h="STORE_MAP",f="ADDRESS",b="PHONE_NUMBER",p="WORKING_HOURS",g="BYOC",Z="EATS_PASS",v="UBER_ONE",m="STORE_RATING",S="SAFETY_CHECKLIST",_="HYGIENE_RATING_BADGE",k="DISCLAIMER",C="MEAL_VOUCHER",E="TOP_EATS",R="ETA"},50323:(e,t,r)=>{r.d(t,{d:()=>v,Z:()=>S});var o=r(69420),n=r(46933),i=r(78422),s=r(91931),l=r(54669),a=r(47986),c=r(94813),u=r(55186),d=r(33535),h=r(59924);const f=(0,s.zo)("div",(e=>{let{$theme:t}=e;return{...t.typography.LabelSmall,color:t.colors.contentPrimary,backgroundColor:t.colors.backgroundPrimary,width:"100%",height:"40px",paddingLeft:t.sizing.scale600,paddingRight:t.sizing.scale600,display:"flex",alignItems:"center",gap:t.sizing.scale300,boxSizing:"border-box"}})),b=()=>{const e=(0,d.ZP)();return(0,h.tZ)(u.Z,{type:"login",children:t=>{let{onClick:r}=t;return(0,h.BX)(f,{onClick:async t=>{r(t),e("eats:redirect_authentication_attempt",{source:"storefront-header"})},children:[(0,h.tZ)(n.v,{id:"components.store_address_input.login_button"}),(0,h.tZ)(i.Z,{name:"ChevronDownSmallFilled",size:14})]})}})};var p=r(4462),g=r(41063),Z=r(34626);const v=40,m=(0,s.zo)("div",(e=>{let{$theme:t,$isHighlighted:r}=e;return{...t.typography.LabelSmall,color:r?t.colors.contentInversePrimary:t.colors.contentPrimary,backgroundColor:r?t.colors.backgroundInversePrimary:t.colors.backgroundPrimary,width:"100%",height:`${v}px`,paddingLeft:t.sizing.scale600,paddingRight:t.sizing.scale600,display:"flex",alignItems:"center",gap:t.sizing.scale300,boxSizing:"border-box"}})),S=e=>{let{isHighlighted:t}=e;const r=(0,l.Z)(),{user:s}=(0,Z.Z)(),u=(0,c.TH)(),d=(0,o.k6)();return r?null:(0,h.tZ)(p.Z,{isEligible:!s.data?.isLoggedIn&&!r,experimentParams:g.v.storefront_auth_vs_add_nudge,children:e=>e?(0,h.tZ)(b,{}):(0,h.BX)(m,{onClick:()=>d.push((0,a.BYh)(u)),$isHighlighted:t,children:[(0,h.tZ)(n.v,{id:"shared.enterDeliveryAddress"}),(0,h.tZ)(i.Z,{name:"ChevronDownSmallFilled",size:14})]})})}},88588:(e,t,r)=>{r.d(t,{Z:()=>h});var o=r(47986),n=r(94813),i=r(14016),s=r(33535),l=r(78422),a=r(27689),c=r(60631),u=r(73472),d=r(59924);const h=e=>{let{fill:t,storeUuid:r,color:h}=e;const f=(0,n.TH)(),{modalName:b}=(0,o.RAN)(f,["modalName"]),p=(0,i.T)(),g=(0,s.ZP)(),{isOpen:Z,open:v}=(0,c.cd)("storeOverflowActions"),m="storeOverflowActions"===b||Z,{startTiming:S}=(0,u.K3)();return(0,d.tZ)(a.Z,{color:h,fill:t,"aria-expanded":m,"aria-haspopup":"true","aria-label":p("view_more_options"),onClick:e=>{S("store_overflow_button_click",{metadata:{storeUuid:r}}),e.stopPropagation(),g("eats:store_overflow_button_tap",{storeAction:{storeUuid:r}}),v()},title:p("view_more_options"),children:(0,d.tZ)(l.Z,{name:"ThreeDotsHorizontalFilled",size:20})})}},78320:(e,t,r)=>{r.d(t,{Rf:()=>O,T6:()=>T,ZP:()=>U});var o=r(74369),n=r(71454),i=r.n(n),s=r(69420),l=r(32857),a=r(68065),c=r(78422),u=r(59210),d=r(91931),h=r(94579),f=r(88588),b=r(59536),p=r(70118),g=r(63812),Z=r(41100),v=r(8639),m=r(94813),S=r(47986),_=r(51143),k=r(50323),C=r(51170),E=r(75514),R=r(65014),y=r(73472),x=r(59924);const T=72,O=48,w=e=>e?{height:`${O}px`}:{animationDuration:"400ms",animationTimingFunction:"cubic-bezier(0.22, 1, 0.36, 1)",animationFillMode:"forwards",animationName:{"0%":{height:`${T}px`},"100%":{height:`${O}px`}}},A=(0,d.zo)("div",(e=>{let{$isVisible:t}=e;return{position:"fixed",width:"100%",top:0,left:0,zIndex:h.I_.foreground,visibility:t?"visible":"hidden",boxSizing:"border-box"}})),z=(0,d.zo)("div",(e=>{let{$theme:t,$isVisible:r,$shouldAnimateHeight:o}=e;return{position:"relative",zIndex:1,display:"flex",width:"100%",height:`${T}px`,justifyContent:"space-between",alignItems:"center",boxSizing:"border-box",padding:"0 8px",gap:"8px",background:t.colors.backgroundPrimary,...r?w(!o):null}})),H=(0,d.zo)("div",(e=>{let{$isVisible:t,$display:r}=e;return{position:"fixed",width:"100%",top:`${O}px`,left:0,transition:"all 400ms cubic-bezier(0.22, 1, 0.36, 1)",transform:`translateY(${t?0:"-100%"})`,boxSizing:"border-box",willChange:"transform",display:r}})),I=(0,d.zo)("div",(e=>{let{$theme:t,$backgroundOpacity:r,$isVisible:o,$shouldAnimateHeight:n}=e;return{display:"flex",alignItems:"center",position:"sticky",top:0,left:0,width:"100%",height:`${T}px`,boxSizing:"border-box",zIndex:h.I_.foreground,background:(0,v.uE)(t.colors.backgroundPrimary,r),padding:"16px",columnGap:"8px",justifyContent:"flex-end",opacity:o?1:0,...o?null:w(!n)}})),$=(0,d.zo)("div",{flex:1}),P=(0,d.zo)("div",{flexGrow:1,textAlign:"center",whiteSpace:"nowrap",overflow:"hidden"}),U=e=>{let{storeName:t="",showStoreName:r=!0,showSearch:n=!0,showMenu:d=!0,storeUuid:h,withSearchButton:v=!0,withFavoriteButton:O=!0,withOverflowButton:w=!0,heroImageRef:U}=e;const B=(0,o.useCallback)((()=>{const e=(U?.current?.getBoundingClientRect().bottom||0)-T;return{showHeader:e<=-1*T,opacity:e<=0?1:1-e/T}}),[U]),D=B(),[N,L]=(0,o.useState)(!D.showHeader),[F,V]=(0,o.useState)(D.opacity),[G,M]=(0,o.useState)(D.showHeader),Y=(0,s.k6)(),W=(0,m.TH)(),{setIsOpen:X}=(0,_.qi)(),{state:K}=(0,C.D)(),{startTiming:j}=(0,y.K3)();(0,o.useEffect)((()=>{const e=i()((()=>{const{showHeader:e,opacity:t}=B();V(t),M((t=>(!t||e||N||L(!0),e)))}),30);return document.addEventListener("scroll",e,{passive:!0}),document.addEventListener("scrollend",e,{passive:!0}),e(),()=>{document.addEventListener("scroll",e),document.addEventListener("scrollend",e)}}),[B,N]);return(0,x.BX)(x.HY,{children:[(0,x.BX)(I,{$backgroundOpacity:F,$isVisible:!G,$shouldAnimateHeight:N,children:[(0,x.tZ)(Z.Z,{fill:"blurred_transparent"}),(0,x.tZ)($,{}),v?(0,x.tZ)(b.Z,{fill:"blurred_transparent",storeUuid:h,analyticsContext:p.UD}):null,O?(0,x.tZ)(g.Z,{fill:"blurred_transparent",storeUuid:h}):null,w?(0,x.tZ)(f.Z,{fill:"blurred_transparent",storeUuid:h}):null]}),(0,x.BX)(A,{$isVisible:G,children:[(0,x.BX)(z,{$isVisible:G,$shouldAnimateHeight:N,children:[d?(0,x.tZ)(l.Z,{kind:a.TO.tertiary,onClick:()=>X(!0),children:(0,x.tZ)(c.Z,{name:"ThreeLinesFilled",size:20})}):null,(0,x.tZ)(P,{onClick:()=>{E.Z?.scrollTo({top:0,behavior:"smooth"})},children:(0,x.tZ)(u.D9,{overflow:"hidden",textOverflow:"ellipsis",children:r?t:""})}),n?(0,x.tZ)(l.Z,{kind:a.TO.tertiary,onClick:()=>{j(R.B.IN_STORE_SEARCH_VIEW_LOAD,{metadata:{storeUuid:h,verticalLabel:"OFD"}}),Y.push((0,S.SCs)(W))},children:(0,x.tZ)(c.Z,{name:"SearchOutlined",size:20})}):null]}),(0,x.tZ)(H,{$isVisible:K.isAddressInputHighlighted,$display:G?"block":"none",children:(0,x.tZ)(k.Z,{isHighlighted:!0})})]})]})}},48762:(e,t,r)=>{r.d(t,{Z:()=>E});var o=r(74369),n=r(15070),i=r(91931),s=r(14016),l=r(46933),a=r(55186),c=r(34626),u=r(71576),d=r(28222),h=r(80149),f=r(50908),b=r(94579),p=r(20196),g=r(70118),Z=r(33535),v=r(44805),m=r(230),S=r(3506),_=r(59924);const k=(0,i.zo)("button",{position:"relative",pointerEvents:"auto",display:"flex",cursor:"pointer",width:"100%"}),C=(0,i.zo)("button",{position:"relative",pointerEvents:"auto",display:"flex",cursor:"pointer",...b.I}),E=e=>{let{storeUuid:t,analyticsContext:r,favoritedAppearance:i,unfavoritedAppearance:b,as:E,...R}=e;const{user:y}=(0,c.Z)(),x=y.data?.isLoggedIn,T=(0,n.v)((e=>{let{favorites:r}=e;return r&&r[t]})),O=(0,u.Z)("createEaterFavoritesV1"),w=(0,u.Z)("deleteEaterFavoritesV1"),A=(0,s.T)(),z=(0,d.Z)(),H=(0,v.Z)(),{enqueue:I}=(0,p.Ds)(),$=(0,Z.ZP)(),P=(0,m.Z)(),U=(0,S.Z)(),B=z||H||P;if(o.useEffect((()=>{B||$("eats:store_action_impression",{storeAction:{storeUuid:t,context:r,type:g.G_}})}),[$,t,r,B]),B)return null;const D=E??(U?k:C);if(!x)return(0,_.tZ)(a.Z,{type:"login",children:e=>{let{onClick:t,href:r}=e;return(0,_.tZ)(D,{"aria-label":A("favorite_add"),onClick:e=>{t(e)},title:A("favorite_add"),role:"link",...R,children:b})}});const N=A(T?"favorite_remove":"favorite_add");return(0,_.tZ)(D,{"aria-label":N,onClick:e=>{$("eats:store_action_tap",{storeAction:{storeUuid:t,context:r,type:g.G_,newState:T?g.Gl:g.w2}}),T?(I({message:(0,_.tZ)(l.v,{id:"favorite_removed"}),startEnhancer:()=>(0,_.tZ)(f.Z,{size:22})},2e3),w({storeUuid:t})):(I({message:(0,_.tZ)(l.v,{id:"favorite_added"}),startEnhancer:()=>(0,_.tZ)(h.Z,{size:22})},2e3),O({storeUuid:t}))},title:N,type:"button",...R,children:T?i:b})}},27689:(e,t,r)=>{r.d(t,{Z:()=>c});var o=r(91931),n=r(8639),i=r(94579),s=r(5639),l=r(59924);const a=(0,o.zo)("button",(e=>{let{$theme:t,$fill:r,$withShadow:o=!1,$buttonSize:s=t.sizing.scale1200,$color:l="contentInversePrimary",$background:a=t.colors.backgroundPrimary}=e;return{overflow:"hidden",display:"flex",justifyContent:"center",alignItems:"center",borderRadius:t.borders.radiusFull,background:a,minWidth:s,minHeight:s,width:s,height:s,boxSizing:"border-box",...i.I,...o?{boxShadow:t.lighting.shallowBelow}:null,..."transparent"===r?{color:t.colors[l],background:(0,n.uE)(t.colors.backgroundPrimary,.25)}:"overlay_light"===r?{color:t.colors[l],background:t.colors.backgroundOverlayLight}:"always_dark"===r?{color:t.colors[l],background:(0,n.uE)(t.colors.backgroundAlwaysDark,.25),backdropFilter:"blur(8px)"}:"blurred_transparent"===r?{color:t.colors[l],background:(0,n.uE)(t.colors.backgroundInversePrimary,.25),backdropFilter:"blur(8px)"}:null}})),c=e=>{let{children:t,fill:r,color:o,buttonSize:n,background:i,...c}=e;const{isMobile:u}=(0,s.hU)();return(0,l.tZ)(a,{$fill:r,$withShadow:!u&&"solid"===r,$buttonSize:n,$color:o,$background:i,...c,children:t})}},63812:(e,t,r)=>{r.d(t,{Z:()=>a});var o=r(48762),n=r(27689),i=r(78422),s=r(70118),l=r(59924);const a=e=>{let{storeUuid:t,fill:r,buttonSize:a,iconSize:c=20,background:u,iconColor:d}=e;return(0,l.tZ)(o.Z,{storeUuid:t,analyticsContext:s.UD,as:n.Z,favoritedAppearance:(0,l.tZ)(i.Z,{name:"HeartFilled",size:c,color:d}),unfavoritedAppearance:(0,l.tZ)(i.Z,{name:"HeartOutlined",size:c,color:d}),buttonSize:a,fill:r,background:u})}},59536:(e,t,r)=>{r.d(t,{Z:()=>p});var o=r(74369),n=r(14016),i=r(33535),s=r(78422),l=r(27689),a=r(69420),c=r(94813),u=r(47986),d=r(73472),h=r(65014),f=r(70940),b=r(59924);const p=e=>{let{storeUuid:t,analyticsContext:r,fill:p}=e;const g=(0,n.T)(),Z=(0,i.ZP)(),v=(0,a.k6)(),m=(0,c.TH)(),{startTiming:S}=(0,d.K3)(),_=(0,f.Z)(t);o.useEffect((()=>{Z("eats:store_action_impression",{storeAction:{storeUuid:t,context:r,type:"IN_STORE_SEARCH"}})}),[Z,t,r]);const k=g("shared.search");return(0,b.tZ)(l.Z,{fill:p,"aria-label":k,onClick:e=>{S(h.B.IN_STORE_SEARCH_VIEW_LOAD,{metadata:{storeUuid:t,verticalLabel:_?"GR":"OFD"}}),Z("eats:store_action_tap",{storeAction:{storeUuid:t,context:r,type:"IN_STORE_SEARCH"}}),v.push((0,u.SCs)(m))},title:k,type:"button",children:(0,b.tZ)(s.Z,{name:"SearchOutlined",size:20})})}},21877:(e,t,r)=>{r.d(t,{Z:()=>i});var o=r(80165),n=r(91246);const i=()=>{const e=(0,o.i1)("pinned-info-banner"),{hasAddressInputBar:t,hasOfdStickyHeader:r,config:i}=(0,n.Z)();return(e?.offsetHeight||0)+(r?i.collapsedHeight:0)+(t?i.inputBarHeight:0)}},91246:(e,t,r)=>{r.d(t,{Z:()=>b});var o=r(51170),n=r(32762),i=r(8961),s=r(79857),l=r(5639),a=r(43832),c=r(78320),u=r(50323),d=r(54669),h=r(55758),f=r(36345);const b=()=>{const{isStoreOfdRedesignPhase2XpEnabled:e}=(0,n.Z)(),t=(0,i.Z)(),r=(0,s.Z)(),{isMobile:b}=(0,l.hU)(),{isGrStore:p}=(0,a.QT)(),g=(0,d.Z)(),Z=t&&b&&!r&&!p&&e,v="PICKUP"===(0,h.d)(),{isPickupCTA:m}=(0,f.Z)(),S=b&&!r&&!p&&e&&!g&&!(v&&m),{state:_}=(0,o.D)();return{hasOfdStickyHeader:Z,hasAddressInputBar:S,isAddressInputHighlighted:_.isAddressInputHighlighted,config:{inputBarHeight:u.d,height:c.T6,collapsedHeight:c.Rf}}}},62883:(e,t,r)=>{r.d(t,{Z:()=>i});var o=r(60849),n=r(41063);const i=()=>{const e={...n.v.store_catalog_presentation_segmented_controlled_uuid,defaultValue:!1};return(0,o.ip)(e)}},60631:(e,t,r)=>{r.d(t,{ZP:()=>l,cd:()=>a});var o=r("__fusion__476"),n=r(74369),i=r(59924);const s=o.createContext(null);function l(e){const[t,r]=(0,n.useState)(null),o=(0,n.useRef)(t);o.current=t;const l=(0,n.useCallback)((e=>{o.current?(r(null),setTimeout((()=>{r(e)}),300)):r(e)}),[]),a=(0,n.useCallback)((e=>{o.current===e&&r(null)}),[]);return(0,i.tZ)(s.Provider,{value:{activeBottomSheetKey:t,openBottomSheet:l,closeBottomSheet:a},children:e.children})}function a(e){const{activeBottomSheetKey:t,openBottomSheet:r,closeBottomSheet:i}=function(){const e=o.useContext(s);if(null!==e)return e;throw Error("You should use useStoreMobileBottomSheetContext only in a descendant of StoreMobileBottomSheetProvider")}();return{isOpen:t===e,open:(0,n.useCallback)((()=>r(e)),[e,r]),close:(0,n.useCallback)((()=>i(e)),[e,i])}}},48559:(e,t,r)=>{r.d(t,{De:()=>Z,ZP:()=>v,i:()=>g,ru:()=>p});var o=r(75514),n=r(74369),i=r("__fusion__476"),s=r(56065),l=r(21877),a=r(47986),c=r(94813),u=r(80165),d=r(83403),h=r(54669),f=r(20115),b=r(59924);const p=(0,n.createContext)({nodes:{},registerStoreRef:()=>{},unregisterStoreRef:()=>{},scrollToMobileRef:()=>{},scrollToDesktopRef:()=>{}});function g(e){const{registerStoreRef:t,unregisterStoreRef:r}=(0,n.useContext)(p);return i.useEffect((()=>()=>{r(e)}),[r,e]),(0,n.useCallback)((r=>{r&&t(e,r)}),[e,t])}function Z(e){const{nodes:t}=(0,n.useContext)(p);return(0,n.useCallback)((()=>t[e]),[t,e])}function v(e){const t=(0,n.useRef)({}),r=(0,l.Z)(),i=(0,c.TH)(),g=(0,u.i1)("pinned-info-banner"),Z=t.current["store-desktop-menu-nav"]?.offsetHeight||0,v=(0,f.Z)("features_config"),m=!(0,h.Z)()||Boolean(v?.header?.sticky)?v?.header?.height:0,S=(0,n.useCallback)((e=>{if(t.current[e]){const{storeCatalogSections:n}=(0,a.RAN)(i,["storeCatalogSections"]),l=(t.current[e]?.offsetTop||0)-s.uX-s.Y5-r-(n?s.Wt:0);o.Z&&o.Z.scroll(0,l)}}),[i,r]),_=(0,n.useCallback)((e=>{if(t.current[e]){const r=(g?.offsetHeight||0)+Z+m;(0,d.Z)({top:(t.current[e]?.offsetTop||0)-r,behavior:"smooth"})}}),[g,Z,m]),k=(0,n.useCallback)(((e,r)=>{t.current[e]=r}),[]),C=(0,n.useCallback)(((e,r)=>{delete t.current[e]}),[]),E=(0,n.useMemo)((()=>({nodes:t.current,registerStoreRef:k,unregisterStoreRef:C,scrollToMobileRef:S,scrollToDesktopRef:_})),[t,k,C,_,S]);return(0,b.tZ)(p.Provider,{value:E,children:e.children})}},56065:(e,t,r)=>{r.d(t,{Wt:()=>v,Y5:()=>g,ZP:()=>S,_J:()=>_,uX:()=>Z});var o=r(75514),n=r(83403),i=r(21877),s=r("__fusion__476"),l=r(74369),a=r(47986),c=r(94813),u=r(5639),d=r(62883),h=r(48559),f=r(54669),b=r(20115),p=r(59924);const g=24,Z=24,v=57,m=s.createContext(null);function S(e){const[t,r]=s.useState(null),S=s.useRef({}),_=s.useRef({}),k=s.useRef(null),C=s.useRef([]),E=s.useRef(void 0),R=s.useRef(void 0),y=s.useRef({}),x=(0,c.TH)(),{storeCatalogSections:T,storeCatalogSubsections:O,storeSearchQuery:w}=(0,a.RAN)(x,["storeCatalogSections","storeCatalogSubsections","storeSearchQuery"]),A=(0,i.Z)(),{isMobile:z}=(0,u.hU)(),H=z&&T?v:0,I=(0,d.Z)(),$=(0,f.Z)(),P=(0,h.De)("store-desktop-menu-nav")()?.offsetHeight||0,U=(0,b.Z)("features_config"),B=!$||Boolean(U?.header?.sticky)?U?.header?.height:0,D=s.useCallback((()=>{Object.keys(S.current).map((e=>{const t=S.current[e];t&&!document.contains(t)&&delete S.current[e]})),C.current=Object.keys(S.current).map((e=>{const t=S.current[e];return{uuid:e,top:t?.offsetTop||0,bottom:(t?.offsetTop||0)+(t?.offsetHeight||0)}}))}),[]),N=s.useCallback((()=>{const e=o.Z?.scrollY||0,t=C.current.map((e=>(e=>e.bottom-2*g-A-P-A-B-H)(e))),r=Math.min(...t.filter((t=>t>=e))),n=t.indexOf(r);return C.current[n]}),[A,H,P,B]),L=s.useCallback((()=>{clearTimeout(R.current),R.current=setTimeout((()=>{if(0===C.current.length)return r(null);if(o.Z&&void 0!==C.current[0]&&o.Z.scrollY<C.current[0].top)r(C.current[0].uuid);else{if(!o.Z)return;const e=N()||C.current[C.current.length-1];if(r(e?e.uuid:null),k.current&&e&&_.current[e.uuid]){const t=_.current[e.uuid]?.offsetLeft??0;k.current.scrollLeft=t}}}))}),[N]);(0,l.useEffect)((()=>{D(),L()}));const F=s.useCallback((()=>{clearTimeout(E.current),E.current=setTimeout((()=>{const e=O||t;e&&(y.current={...y.current,[T]:{...y.current[T],[e]:o.Z?.scrollY||0}})}),250)}),[t,T,O]),V=s.useCallback((e=>void 0!==S.current[e]),[]),G=s.useCallback((e=>{const t=C.current.find((t=>t.uuid===e));if(t){const e=t.top-Z-g-A-H;o.Z&&o.Z.scroll(0,e)}}),[A,H]),M=s.useCallback((e=>{const t=C.current.find((t=>t.uuid===e));if(t){const e=t.top-24-P-A-B;(0,n.Z)({top:e,behavior:"smooth"})}}),[A,P,B]),Y=s.useCallback((e=>S.current[e]),[S]),W=s.useCallback((()=>{D(),L()}),[L,D]),X=s.useCallback((()=>{S.current={},_.current={},C.current=[],y.current={},r(null)}),[]),K=s.useCallback((e=>{let{storeCatalogSubsections:r,catalogSubsectionUuid:o,subsectionIndex:n}=e;return!w&&(!(r||!T||0!==n)||(r&&I?r===o:t===o))}),[w,T,t,I]);return(0,l.useEffect)((()=>{if(!w)return T&&o.Z&&o.Z.addEventListener("scroll",F),()=>{clearTimeout(E.current),o.Z&&o.Z.removeEventListener("scroll",F)}}),[w,T,O,F]),(0,l.useEffect)((()=>()=>{T||(y.current={})}),[T]),(0,l.useEffect)((()=>((w||!T)&&o.Z&&o.Z.addEventListener("scroll",L),()=>{clearTimeout(R.current),o.Z&&o.Z.removeEventListener("scroll",L)})),[T,L,w]),(0,p.tZ)(m.Provider,{value:{activeSubsectionUuid:t,resetActiveSubsectionUuid:W,registerSubsectionRef:(e,t)=>{t&&(t.offsetTop&&(S.current[e]=t),D())},subsectionIsRegistered:V,scrollToSubsection:G,smoothScrollToSubsection:M,registerSubsectionNavRef:(e,t)=>{t&&(_.current[e]=t)},getSubsectionNavRefs:()=>_.current,getSubsectionRefByUuid:Y,registerSubsectionNavWrapperRef:e=>{e&&(k.current=e)},isSubsectionActive:K,resetRefs:X},children:e.children})}function _(){const e=s.useContext(m);if(null!==e)return e;throw Error("You should use useStoreSubsectionScrollContext only in a descendant of StoreSubsectionScrollProvider")}},3506:(e,t,r)=>{r.d(t,{Z:()=>i});var o=r(60849),n=r(44145);const i=()=>(0,o.ip)({...n.A.xlb_friction_batch_2_store,defaultValue:!1})},83403:(e,t,r)=>{r.d(t,{Z:()=>n});var o=r(75514);function n(e){if(o.Z)try{o.Z.scrollTo(e)}catch(t){o.Z.scrollTo(0,e.top)}}}}]);