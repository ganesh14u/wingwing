"use strict";(self.webpackChunkFusion=self.webpackChunkFusion||[]).push([[22432,21688],{__fusion__1171:(e,t,r)=>{r.r(t),r.d(t,{default:()=>a});var o=r(74369),n=r(59924);const a=o.forwardRef((function(e,t){let{title:r="Star outline",titleId:o,size:a="1em",...i}=e;return(0,n.BX)("svg",{width:a,height:a,viewBox:"0 0 24 24",fill:"none",ref:t,"aria-labelledby":o,...i,children:[void 0===r?(0,n.tZ)("title",{id:o,children:"Star outline"}):r?(0,n.tZ)("title",{id:o,children:r}):null,(0,n.tZ)("path",{d:"M23.917 8.5 16.104 8l-3.646-7-3.646 7L1 8.5 6.73 14l-2.084 8 7.812-4 7.813 4-2.084-8 5.73-5.5Zm-8.855 4.7L16 16.8 12.458 15l-3.541 1.8.937-3.6-2.5-2.4 3.23-.2L12.457 7l1.875 3.6 3.23.2-2.5 2.4Z",fill:"currentColor"})]})}))},8184:(e,t,r)=>{r.d(t,{Z:()=>m});var o=r(74369),n=r(92300),a=r(79810);function i(e){const{$size:t,$theme:r}=e,o=r.sizing.scale1000,n=t||o;return r.sizing[n]||n}const s=(0,a.zo)("img",(e=>{const t=i(e);return{borderTopLeftRadius:"50%",borderTopRightRadius:"50%",borderBottomRightRadius:"50%",borderBottomLeftRadius:"50%",boxSizing:"border-box",display:e.$imageLoaded?"block":"none",height:t,width:t,objectFit:"cover"}}));s.displayName="Avatar";const l=(0,a.zo)("div",(e=>({...e.$theme.typography.font300,color:e.$theme.colors.contentInversePrimary,alignItems:"center",display:"flex",justifyContent:"center",height:"100%"})));l.displayName="Initials";const d=(0,a.zo)("div",(e=>{const{$didImageFailToLoad:t}=e,r=i(e);return{backgroundColor:t?e.$theme.colors.backgroundInversePrimary:null,borderTopLeftRadius:"50%",borderTopRightRadius:"50%",borderBottomRightRadius:"50%",borderBottomLeftRadius:"50%",boxSizing:"border-box",display:"inline-block",height:t?r:null,width:t?r:null}}));d.displayName="Root";var c=r(59924);function u(e){return e.split(" ").map((e=>e[0])).slice(0,2).join("").toUpperCase()}function m(e){let{initials:t,name:r="",overrides:a={},size:i="scale1000",src:m}=e;const p=o.useRef(null),[g,f]=o.useState(!1);function h(){f(!0)}function b(){f(!1)}o.useEffect((()=>(f(!1),p.current&&"string"==typeof m&&(p.current.src=m,p.current.onload=h,p.current.onerror=b),()=>{p.current&&(p.current.onload=null,p.current.onerror=null)})),[m]);const[_,v]=(0,n.jb)(a.Avatar,s),[y,R]=(0,n.jb)(a.Initials,l),[Z,w]=(0,n.jb)(a.Root,d);return(0,c.BX)(Z,{"aria-label":g?null:r,role:g?null:"img",$didImageFailToLoad:!g,$size:i,"data-baseweb":"avatar",...w,children:[(0,c.tZ)(_,{ref:p,alt:r,$imageLoaded:g,$size:i,...v}),!g&&(0,c.tZ)(y,{...R,children:t||u(r)})]})}},71457:(e,t,r)=>{r.d(t,{o:()=>l});var o=r(14016),n=r(74369),a=r(33535),i=r(34626);const s="7e12b8f3",l=e=>{const t=(0,a.ZP)(),r=(0,o.T)(),{user:l}=(0,i.Z)(),d=(0,n.useRef)("default_control"),c=l.data?.isLoggedIn,u=(e||[]).some((e=>(e.catalogSectionUUID||"").startsWith(s))),m=!c&&u,p=(0,n.useCallback)((e=>{const r=(e?.storeCatalog?.subsectionUuid||"").startsWith(s);m&&r&&t("eats:picked_for_you_section_item",e)}),[m,t]);return{levelCatalogSectionAsPerPickedForYou:(()=>{if(!m||["default_control","control","flipr_default"].includes(d.current))return e;let t=[...e];if("t_remove"===d.current&&(t=t.filter((e=>!(e.catalogSectionUUID||"").startsWith(s)))),"t_copy"===d.current&&t.forEach((e=>{(e.catalogSectionUUID||"").startsWith(s)&&"standardItemsPayload"===e?.payload?.type&&e?.payload?.standardItemsPayload?.title?.text&&(e.payload.standardItemsPayload.title.text=r("store.popular.items"))})),"t_popular"===d.current){const e=[],o=t.find((e=>(e.catalogSectionUUID||"").startsWith(s)));"standardItemsPayload"===o?.payload?.type&&o?.payload?.standardItemsPayload&&o?.payload?.standardItemsPayload?.title?.text&&(t.forEach((t=>{"standardItemsPayload"===t?.payload?.type&&(t?.payload?.standardItemsPayload?.catalogItems||[]).forEach((t=>{"confidence_builders_popular"===t.endorsementAnalyticsTag&&e.push({...t,subsectionUuid:o.catalogSectionUUID})}))})),e.length&&(o.payload.standardItemsPayload.catalogItems=e,o.payload.standardItemsPayload.title.text=r("store.popular.items")))}return t})(),emitPickedForYouSectionItemEvent:p}}},24045:(e,t,r)=>{r.d(t,{Z:()=>h});var o=r(74369),n=r(69420),a=r(60849),i=r(14016),s=r(30085),l=r(33535),d=r(70940),c=r(86255);const u="t_above_fold",m="t_friendly_tone",p="t_clear_headings",g="t_positive_tone",f="default",h=e=>{const t=(0,a.F2)(),r=(0,l.ZP)(),h=(0,n.UO)(),b=(0,c.Z)({encodedStoreUuid:h.encodedStoreUuid}),_=!(0,d.Z)(b),v=(0,o.useMemo)((()=>{if(_&&e>0){return t.getString({...s.m.rename_reviews_section,defaultValue:f})}return f}),[t,e,_]);(0,o.useEffect)((()=>{r("eats_web_cro_rename_reviews_section_inclusion",{param_name:v,param_value:e.toString()})}),[v,r,e]);const y=(0,i.T)(),{title:R,subtitle:Z}=(0,o.useMemo)((()=>{switch(v){case u:return{title:y("component.store.reviews.title.five_star_reviews"),subtitle:y("component.store.reviews.subtitle.five_star_reviews")};case m:return{title:y("component.store.reviews.title.customers_saying"),subtitle:y("component.store.reviews.subtitle.customers_saying")};case p:return{title:y("component.store.reviews.title.from_customers"),subtitle:y("component.store.reviews.subtitle.from_customers")};case g:return{title:y("component.store.reviews.title.top_reviews"),subtitle:y("component.store.reviews.subtitle.top_reviews")};default:return{title:y("component.store.five_star_reviews"),subtitle:y("component.store.five_star_reviews.subtitle")}}}),[y,v]),w=(0,o.useMemo)((()=>[u,m,p,g].includes(v)),[v]);return{treatment:v,isCarouselTreatment:w,title:R,subtitle:Z}}},52431:(e,t,r)=>{r.d(t,{$:()=>n,M:()=>a});var o=r(75514);const n=e=>{if(!o.Z)return 0;const t=e.clientHeight,r=e.offsetTop,n=o.Z.innerHeight,a=o.Z.scrollY,i=Math.max(0,n-(r-a))/t*100;return Math.min(100,Math.round(i))},a=e=>{const t={top:0,left:0};let r=e;for(;r;)t.top+=r.offsetTop,t.left+=r.offsetLeft,r=r.offsetParent;return t}},42332:(e,t,r)=>{r.d(t,{Z:()=>z,n:()=>x});var o=r("__fusion__476"),n=r(59210),a=r(46933),i=r(17222),s=r(8184),l=r(94813),d=r(91931),c=r(89400),u=r(14966),m=r(47986),p=r(34626),g=r(33535),f=r(52431),h=r(22395),b=r(82093),_=r(70329),v=r(59924);const y=(0,d.zo)("article",(e=>{let{$theme:t,$isStoreRatingRedesignEnabled:r}=e;return{marginBottom:r?"16px":0}})),R=(0,d.zo)("div",{display:"flex",justifyContent:"space-between",alignItems:"center"}),Z=(0,d.zo)("div",(e=>{let{$isStoreRatingRedesignEnabled:t}=e;return{flexGrow:1,marginLeft:t?0:"12px"}})),w=(0,d.zo)("div",(e=>{let{$theme:t,$isStoreRatingRedesignEnabled:r}=e;return{...t.typography.ParagraphSmall,color:t.colors.contentTertiary,paddingTop:r?0:"4px",lineHeight:r?t.sizing.scale600:t.sizing.scale700,display:"flex",alignItems:"center"}})),I=(0,d.zo)("div",(e=>{let{$theme:t}=e;return{...t.typography.LabelMedium,...(0,u.lE)({$theme:t}),alignSelf:"baseline"}})),S=(0,d.zo)("div",(e=>{let{$theme:t,$isStoreRatingRedesignEnabled:r}=e;return{whiteSpace:"pre-line",marginTop:r?0:"20px"}})),$=(e,t)=>{const r=[e.colors.red200,"#FC7F79",e.colors.orange200,e.colors.orange400,"#FFE4B7","#FFB749",e.colors.green100,e.colors.green400];return r[t%r.length]},x=e=>{let{index:t,name:r,avatarUrl:o}=e;const{isStoreRatingRedesignEnabled:n}=(0,_.Z)();return n?(0,v.tZ)(s.Z,{name:r.charAt(0)||"",size:"scale900",overrides:{Root:{style:e=>{let{$theme:r}=e;return{backgroundColor:$(r,t)}}},Initials:{style:e=>{let{$theme:t}=e;return{color:t.colors.contentOnColorInverse}}}}}):(0,v.tZ)(s.Z,{name:r,size:"scale1200",src:o})},z=e=>{let{storeUuid:t,storeReview:r,scrollDepth:s,treatment:d,position:u}=e;const $=(0,l.TH)(),{user:z}=(0,p.Z)(),P=o.useRef(null),U=z.data?.isLoggedIn,T=(0,g.ZP)(),{isStoreRatingRedesignEnabled:C}=(0,_.Z)(),E=o.useCallback((()=>{P.current&&T("eats:store_reviews_list_item_click",{storeUuid:t,storeReview:r,topOffset:(0,f.M)(P.current).top,scrollDepth:s,treatmentName:d,itemPosition:u,isStoreRatingRedesignEnabled:C})}),[T,r,t,s,d,u,C]),k=o.useCallback((()=>{P.current&&T("eats:store_reviews_list_item_report_click",{storeUuid:t,storeReview:r,topOffset:(0,f.M)(P.current).top,scrollDepth:s,treatmentName:d,itemPosition:u,isStoreRatingRedesignEnabled:C})}),[T,t,r,s,d,u,C]);return(0,v.BX)(y,{$isStoreRatingRedesignEnabled:C,children:[(0,v.BX)(R,{onClick:E,ref:P,children:[C?null:(0,v.tZ)(x,{avatarUrl:r.avatarUrl,index:u,name:r.eaterName?.text||""}),(0,v.BX)(Z,{$isStoreRatingRedesignEnabled:C,children:[(0,v.tZ)(c.Z,{badge:r.eaterName,baseFont:C?"LabelSmall":"LabelMedium",baseColor:"contentPrimary"}),(0,v.BX)(w,{$isStoreRatingRedesignEnabled:C,children:[C?(0,v.tZ)(b.Z,{value:5,size:12,color:"contentTertiary"}):null,C&&r.formattedDate?(0,v.BX)(v.HY,{children:[(0,v.tZ)(h.Z,{typography:"ParagraphXSmall"}),r.formattedDate]}):r.timeSinceReview]})]}),U&&!C?(0,v.tZ)(I,{$as:i.rU,to:(0,m.BA7)($,r.contentUUID||""),onClick:k,children:(0,v.tZ)(a.v,{id:"top.review.report"})}):null]}),(0,v.tZ)(S,{$isStoreRatingRedesignEnabled:C,children:C?(0,v.tZ)(n.aM,{color:"contentTertiary",children:r.reviewText?.text||""}):(0,v.tZ)(c.Z,{badge:r.reviewText,baseFont:"ParagraphMedium",baseColor:"contentSecondary"})})]})}},82093:(e,t,r)=>{r.d(t,{Z:()=>l});var o=r(91931),n=r("__fusion__952"),a=r("__fusion__1171"),i=r(59924);const s=(0,o.zo)("div",{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(min-content, 1fr))",gap:"2px",margin:"4px 0",justifyItems:"center",alignItems:"center",gridAutoFlow:"column"}),l=e=>{let{value:t,size:r=16,color:l="rewardsTier2"}=e;const[,d]=(0,o.hQ)();return(0,i.tZ)(s,{children:Array(5).fill(null).map(((e,o)=>o+1<=t?(0,i.tZ)(n.default,{size:r,color:d.colors[l]},o):(0,i.tZ)(a.default,{size:r,color:d.colors[l]},o)))})}},29983:(e,t,r)=>{r.d(t,{Z:()=>a});var o=r(60849),n=r(41063);function a(){return(0,o.ip)({...n.v.store_gr_l1_pagination_enabled,defaultValue:!1})}}}]);